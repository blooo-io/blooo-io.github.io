(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{134:function(e,t,a){},140:function(e,t,a){e.exports={app:"DidAuth_app__vfh8J",main:"DidAuth_main__2KQie",panelFooter:"DidAuth_panelFooter__2_DiC",spinner:"DidAuth_spinner__2S7PC",spin:"DidAuth_spin__HT1JY"}},165:function(e,t,a){e.exports=a.p+"static/media/step1.8ea11e8d.svg"},171:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAACaRJREFUeJzdm2twVdUVx397nXPvDY9AHoDBAEkAg6CV4mNEqqjT0VqcabVCKFrqE2wdRkCd6kzbyfCpTlWe9iHazsColOCj1Aq2dqaOQqkPQJwGBIQkCISAhBCSQO49Z69+uAkScu8NyX0E+Wfu3Jyz917rv9bd+5y91t7bkGYsrH59qLHeZGN0HDBGrSlV0XysZIux2agI2FagAagDqVbDdoP51HiyaW7pXfvTyc+kWqCqmqXVq69VZAaWWxDGJifRfoE1fzeOrHm0aOomY4ymhmkUKXPA03sqBoaM/swY8wBQmiq5HWG/UDXLMcEX55fc2ZAKiUk7YNn+N/L9cHg+RuYAA1PAqUtYbJOoWRZ0vGceKbrnWDKyeuyAci2XvKrLHlK1v0EkLxkSPYa19SrmVw3F219YYBbYnojokQOe3bOq1BVZCebanrRPOazdhLr3zhs9dXd3m0p3GyyuWn23iNl83hgPIHKdNd6nS/auntndpufcAyq0wjlYzULg0e4qySQUu6SwWB4vM2X+udQ/Jwcs2bUuZANNKw2UJUcvM1Br3xR/wIy5pVNau6rbpQOW7FoX0kDTWuB7KWGXIai174g/4I6unJDwGVChFY4NNK3kG2Y8gBG5Td0Tr1ZohZOoXkIHHKxm4Tel28eEMT86UMUzCavEK1hUtXqGwbyaela9AKsz542a/nKsopgOeHbPqlIRs1mQ/ullliFYmlGZEGue0GkIlGu5uCIrLxjjAYR+GG9FuZZ3srfTjZyqcQ+eV5OcVEHkupzqcQ+ffbvDEFi2/438SKu3W4TczDHLIKytD7r+6DMDqA49wA+H51+wxgOI5IV95/Ezb53uAU/vqRiYJdSQoZC2t2CxTYbQ8PZ8wukekGV4mAvceABB+qPhWV9fE01jYewDvUcrszBGZ7e/EQRg4d6Ka0DG9C6tTEJG51SPuxbaHCCid/cuoV6AmmnQPgQst/Qum8zDGDsFwDxfVVHgQW28iq5xGNn3YiLq0WojhG2EsPWi3+phtUepONyIhxdwCUYi+I6DL91OTgHgGCFgXIISICguIQkQlAAB47K35SCexs+LOOIVup6aG0iQah8/YDTX514Rt9yqJaIeEfXxrI+n0Y+vFl99LBariq8WRXGPHqFPTTUFa9cSyc3DbTxOOH8QR279PuHBQ/BzcjEYHCOIMQiCYxwcI7jGiX7EIWAcAsZFTHzHvVe/lW2NX8Qtj3jOJFeNvcwkyIsMzxoStwxAjBAyQUIACSNvoHILvNQWnboBgm4I+g0gq/Ygw1f8CbJzoPx5cLoSdG4Y1bcwoQPE6LddLGMSZQUuCqUo4/3x+/D2agiG4LapEAhB7T7I6gOFxbBlY9RBS8uhbBYUFiWtsiDYFXcz1jWYuKs4IQmQJcGkiQDw1ipoPgEz58D6NXD4YMfy62+FayZHHfXpf1PigIC4ZEmQUzYcs1yVEteKHSRxusD4wCUcO96UNBG3ZhfZzY1w3Xfh/Xc6Gw+w4Z9w131QuRm79T+cGH89Njv5iem4QAlbWnfGLDPoEBcr2fGGwAingFOtkaRJ5P37LbAWii6Bje/Gr/jxBzDuSuSTD9Cdn3HqWxOT1j3CKWALsR0A5AlC3MSHJTULseHi9lHWhbxjRyEnP9pm+OiU6FZNpFNCIjb+szusyf/6AIEDNW3/BBJXzB8MjdFQPVT1eUp0R9RLWC4KsZ8QQIs9lRISJ6+YCCJQvRtKEoQcV0+Gys14+QWcKh2fEt0tJLLBtgrYuOvsDZr8AxDgVOl4vNzBsOFduPl2GFTQudLEm2H/XmhuIlxUiu2XnRLdDTahDfUuInVADEZwxD/GaHdYSoi0XHkj/TeuR17+Hdw2DRyBAzUQCEYfjpWbYduHhC8uoWX8pJToBPjKT7SPQupc0GowMfvbIXsUiyXea7I7aL76JiJDCsl/ZRH87WVwAzC4ACLh02+GZgtL3ZHcVzAiaX0APpZD9mjccmuoElR3xKsQUY/9/uGkSCiKxeJjaRk+koM/eYwFtUJrOMLhmn0cr6ujNgIPfRlgWnWQ1/71Ae99tBlLNHZIBl96hxIGQ2J0hyuYrYnUVEb2YlWJ4OHhEVGPsHrRoIe2b+PjWx8Pi080APLagp+zjahvOcbr+5tYfwhO+lA8oZDsobnsqPp6M9jiP7/Krvx95AzNxrT9uUaigREObluA5NIWHOGeDo4CxiVAgAAO2yPVCR1kLdvciG83uW784OOEbeGjcGVCQd3BwcpDADS1vZ0Gjx3KuFtKOby/iaP7ouPVa/V574VPuP3JGwj0cVGU8NlhdyqmKI67UZ64ZMaXVtmTAnHnhAP/q+twXXj5RTiucPPsq8nq/3Xc0XikmQ0rtnYxkUkClh2PFd9VG02JGd5Oj5aOUGup/byOfrl9AMjKziK3MLoM0Tc3i8kPXoURw4DB/ZjyixuY8INL6WG+pWsYux7ABbDWvCaiad/6cvJEKzf9fBJFE4ax5c3PaKht5Mx8RkFpPlf98FJaToQZVJTeDL0xrIG2hZFyLZfcvWN3IzIyrVrPgFpoONBA7vCcTmUnG1vpMyCUNt0Wu3t+8fQxxhgVgAVmgVVjlqdNYwwYIabxQFqNB3DULG/fcnu6A4YcbzmW5rRqPi9gT5xU82L71WkHPFJ0zzGE53uHVOagyOKnRpUdb7/uuDrs6G+tJam9t+c5voLAwjNvdHDA4yOm1+PorzPLKXMwyi/P3mXeKcoZVmT+CPph5mhlCMrG+pLKl86+3ckBZabMV+Vea21LZpilHxbbZBz/3lg7ymPGufNHTt8pxjySfmqZgcHMnls0I+Z0P26gP2/k9BWKLksfrcxA4dn5JdNXxStPmOkoLDbzFV2belqZgUJFQ3Hlk4nqJHRAmSnzc2j5MfCPlDLLAFRZ19DMzK5OknSZ67q/5P5TA2m+A8tfU0cv3dA1DS3cueDysrgZ73Z068DEgWr7nEHmJkcu3bDPHCve8dS5niHq9pmhRXsrfqpq/yAifbtPLn2w2CZBZs0rKftLd9pdEIemLHaDI3pfvFddIvQo3/3EqBm7Li4237FG5/Ry7PCVqs4+Xrzjxp4YDyk4OPncvtV5jscTqHkUoV+y8s4FFhoFu1gJLUr2BGnKjs7+vuaV3LAfmGVhthhGpUpuR9idilkukfBLc0tnNqZCYsoPT5drueTVXD5RfTsNMVNI8hyxtXa7EVmHmtfmlUz96Lw9PB0PS3a9PgzXm2Qx4w16qSolBh0C5IGELFaBVoR6VOrE2CpFdhhjt7kqG+eUlB1KJ7//A8tAqOvixtkzAAAAAElFTkSuQmCC"},172:function(e,t,a){e.exports=a.p+"static/media/european-union.38159e27.png"},225:function(e,t,a){e.exports={app:"EuLogin_app__2tnKV",main:"EuLogin_main__Dlaz3"}},229:function(e,t,a){e.exports={credentialItem:"CredentialItemPresentation_credentialItem__3XLxc",credentialText:"CredentialItemPresentation_credentialText__3QEw6",checkbox:"CredentialItemPresentation_checkbox__PXtQ6"}},230:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a(1),r=a.n(n),s=a(4),c=a(7),i=a(35),o=function(){var t=Object(s.a)(r.a.mark((function t(a,n,s){var o,l,u,d,m,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={},d=Object(i.b)(s.message.data.base64),m=s.message.notificationType,p=Object(c.b)()){t.next=6;break}throw new Error("User DID not found.");case 6:t.t0=m,t.next=3===t.t0?9:4===t.t0?14:20;break;case 9:return t.next=11,a.signJwt(p,e.from(d),n);case 11:return l=t.sent,o={signature:l},t.abrupt("break",21);case 14:return u=JSON.parse(d),t.next=17,a.signTx(p,u,n);case 17:return l=t.sent,o={signature:l},t.abrupt("break",21);case 20:throw new Error("types supported are only 3 and 4");case 21:return t.abrupt("return",o);case 22:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={encryptedKey:Object(c.d)()||"",password:a},e.prev=1,e.next=4,t.restoreWallet(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Can't decrypt the keys. Make sure you entered the correct password!");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}()}).call(this,a(20).Buffer)},35:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a(75),r=a.n(n),s=function(e){return r.a.decode(e)},c=function(e){try{var t=s(e),a=JSON.parse(t);return a||{}}catch(n){return{}}}},355:function(e,t){},356:function(e,t){},359:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(1),r=a.n(n),s=a(4),c=a(164),i=a.n(c),o=a(49),l=a(98),u=a(7),d=function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s,c,d,m,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.a.Instance,c=Object(u.b)()){t.next=4;break}throw new Error("No DID found on Local Storage.");case 4:return d={aud:l.a,exp:i()().add(15,"seconds").unix(),ticket:a,publicKey:s.getPublicKey(c)},m=e.from(JSON.stringify(d)),t.next=8,s.signJwt(c,m,n);case 8:return p=t.sent,t.abrupt("return",p);case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}).call(this,a(20).Buffer)},370:function(e,t,a){e.exports={credentialItem:"CredentialItem_credentialItem__2AVJz"}},371:function(e,t,a){e.exports=a.p+"static/media/eu-background.1c321bf5.svg"},372:function(e,t,a){e.exports={notificationItem:"NotificationItem_notificationItem__23iX2"}},376:function(e,t,a){e.exports=a(752)},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),r=a.n(n),s=a(4),c=a(30),i=a(33),o=a(99),l=a(163),u=a(74),d=function(){var e=new u.ec("secp256k1").genKeyPair();return{publicKey:e.getPublic("hex"),privateKey:e.getPrivate("hex")}};var m=function(){function e(t){Object(c.a)(this,e),this.encryptedKey=void 0,this.ethAddress=void 0,this.publicKeyHex=void 0,this.privateKeyHex=void 0,t&&(this.encryptedKey=t)}return Object(i.a)(e,[{key:"initWithPass",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d(),n=new o.ethers.Wallet((r=a.privateKey).startsWith("0x")?r:"0x".concat(r)),this.ethAddress=n.address,this.publicKeyHex=new o.ethers.utils.SigningKey(n.privateKey).publicKey,this.privateKeyHex=new o.ethers.utils.SigningKey(n.privateKey).privateKey,e.next=7,n.encrypt(t);case 7:this.encryptedKey=e.sent;case 8:case"end":return e.stop()}var r}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadWallet",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ethers.Wallet.fromEncryptedJson(t,a);case 2:return n=e.sent,this.ethAddress=n.address,this.publicKeyHex=new o.ethers.utils.SigningKey(n.privateKey).publicKey,this.privateKeyHex=new o.ethers.utils.SigningKey(n.privateKey).privateKey,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportEncryptedKeys",value:function(){return this.encryptedKey}},{key:"signJwt",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}throw new Error("Password must be provided to sign.");case 2:return n=JSON.parse(t.toString()),e.next=5,this.loadWallet(this.encryptedKey,a);case 5:return s=e.sent,c=Object(l.SimpleSigner)(s.privateKey.replace("0x","")),e.next=9,Object(l.createJwt)(n,{issuer:"".concat(this.getDid()),alg:"ES256K-R",signer:c});case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signTx",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWallet(this.encryptedKey,a);case 2:return n=e.sent,e.next=5,n.signTransaction(t);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDid",value:function(){return e=this.ethAddress,"did:ebsi:".concat(e);var e}},{key:"publicKey",get:function(){return this.publicKeyHex}},{key:"privateKey",get:function(){return this.privateKeyHex}}],[{key:"userWalletBuilder",value:function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.password){t.next=2;break}throw new Error("Password needs to be provided");case 2:if(n=new e(a.encryptedKey),a.encryptedKey){t.next=7;break}return t.next=6,n.initWithPass(a.password);case 6:return t.abrupt("return",n);case 7:return t.next=9,n.loadWallet(a.encryptedKey,a.password);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),p=function(){function e(){Object(c.a)(this,e),this.wallets=void 0,this.wallets=new Map}return Object(i.a)(e,[{key:"getWallet",value:function(e){return this.wallets.get(e)}},{key:"addNewWallet",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.userWalletBuilder(t);case 3:return a=e.sent,this.wallets.set(a.getDid(),a),n=a.getDid(),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Wallet could not be created. ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreWallet",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.encryptedKey){e.next=2;break}throw new Error("JSON encrypted key must be provided");case 2:return e.next=4,this.addNewWallet(t);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPublicKey",value:function(e){var t=this.wallets.get(e);if(!t)throw new Error("Wallet not found");return t.publicKey}},{key:"getPrivateKey",value:function(e){var t=this.wallets.get(e);if(!t)throw new Error("Wallet not found");return t.privateKey}},{key:"exportEncryptedKeys",value:function(e){var t=this.wallets.get(e);if(!t)throw new Error("Wallet not found");return t.exportEncryptedKeys()}},{key:"signJwt",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.wallets.get(t)){e.next=3;break}throw new Error("Wallet not found");case 3:return e.next=5,s.signJwt(a,n);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"signTx",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,c,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:"",s=this.wallets.get(t)){e.next=4;break}throw new Error("Wallet not found");case 4:return e.next=6,s.signTx(a,n);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}],[{key:"Instance",get:function(){return this.instance||(this.instance=new this)}}]),e}();p.instance=void 0},586:function(e,t,a){},603:function(e,t){},604:function(e,t){},659:function(e,t,a){},669:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},679:function(e,t){},681:function(e,t){},691:function(e,t){},693:function(e,t){},7:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"l",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"i",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"e",(function(){return h}));var n=function(e){localStorage.setItem("Did",e)},r=function(){return localStorage.getItem("Did")},s=function(e){localStorage.setItem("UserName",e)},c=function(){return localStorage.getItem("UserName")},i=function(e){localStorage.setItem("Jwt",e)},o=function(){return localStorage.getItem("Jwt")},l=function(){return null===localStorage.getItem("Jwt")||"undefined"===localStorage.getItem("Jwt")},u=function(){return null===localStorage.getItem("Keys")||"undefined"===localStorage.getItem("Keys")},d=function(e){localStorage.setItem("Keys",e)},m=function(){var e=localStorage.getItem("Keys");return e||null},p=function(e){localStorage.setItem("T&C",e?"true":"false")},h=function(){return null!==localStorage.getItem("T&C")&&"undefined"!==localStorage.getItem("T&C")&&"true"===localStorage.getItem("T&C")}},722:function(e,t){},724:function(e,t){},730:function(e,t){},748:function(e,t,a){},749:function(e,t,a){},750:function(e,t,a){},751:function(e,t,a){},752:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"presentationInputFromJSON",(function(){return Gt}));a(377);var r=a(71),s=a.n(r),c=(a(585),a(586),a(0)),i=a.n(c),o=a(29),l=a(28),u=a(1),d=a.n(u),m=a(4),p=a(223),h=a(6),f=a(358),E=a.n(f),b=a(7),y=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""));return JSON.parse(a)},g=function(e){if(null===e||""===e)return!0;var t=y(e);return!t||!t.exp||1e3*+t.exp<Date.now()};if(!["local","integration","development","production"].includes("integration"))throw new Error("REACT_APP_EBSI_ENV has an unknown value: ".concat("integration"));var v={local:{REACT_APP_WALLET:"http://localhost:8080/wallet",REACT_APP_WALLET_API:"http://localhost:9000/wallet",REACT_APP_ID_HUB_API:"http://localhost:9004/identity-hub",REACT_APP_DEMO:"https://app.intebsi.xyz/demo",REACT_APP_EULOGIN:"https://ecas.acceptance.ec.europa.eu/cas",DID_API_IDENTIFIERS:"https://api.intebsi.xyz/did/v1/identifiers",TRUSTED_ISSUERS_REGISTRY_URL:"https://api.intebsi.xyz/trusted-issuers-registry/v1/issuers"},integration:{REACT_APP_WALLET:"https://app.intebsi.xyz/wallet",REACT_APP_WALLET_API:"https://api.intebsi.xyz/wallet",REACT_APP_ID_HUB_API:"https://api.intebsi.xyz/identity-hub",REACT_APP_DEMO:"https://app.intebsi.xyz/demo",REACT_APP_EULOGIN:"https://ecas.acceptance.ec.europa.eu/cas",DID_API_IDENTIFIERS:"https://api.intebsi.xyz/did/v1/identifiers",TRUSTED_ISSUERS_REGISTRY_URL:"https://api.intebsi.xyz/trusted-issuers-registry/v1/issuers"},development:{REACT_APP_WALLET:"https://app.ebsi.xyz/wallet",REACT_APP_WALLET_API:"https://api.ebsi.xyz/wallet",REACT_APP_ID_HUB_API:"https://api.ebsi.xyz/identity-hub",REACT_APP_DEMO:"https://app.ebsi.xyz/demo",REACT_APP_EULOGIN:"https://ecas.ec.europa.eu/cas",DID_API_IDENTIFIERS:"https://api.ebsi.xyz/did/v1/identifiers",TRUSTED_ISSUERS_REGISTRY_URL:"https://api.ebsi.xyz/trusted-issuers-registry/v1/issuers"},production:{REACT_APP_WALLET:"https://app.ebsi.tech.ec.europa.eu/wallet",REACT_APP_WALLET_API:"https://api.ebsi.tech.ec.europa.eu/wallet",REACT_APP_ID_HUB_API:"https://api.ebsi.tech.ec.europa.eu/identity-hub",REACT_APP_DEMO:"https://app.ebsi.tech.ec.europa.eu/demo",REACT_APP_EULOGIN:"https://ecas.ec.europa.eu/cas",DID_API_IDENTIFIERS:"https://api.ebsi.tech.ec.europa.eu/did/v1/identifiers",TRUSTED_ISSUERS_REGISTRY_URL:"https://api.ebsi.tech.ec.europa.eu/trusted-issuers-registry/v1/issuers"}},w={PUBLIC_URL:"/",REACT_APP_WALLET:"https://app.intebsi.xyz/wallet",REACT_APP_WALLET_API:"https://api.intebsi.xyz/wallet",REACT_APP_ID_HUB_API:"https://api.intebsi.xyz/wallet/idhub",REACT_APP_DEMO:"https://app.intebsi.xyz/demo",REACT_APP_EULOGIN:"https://ecas.ec.europa.eu/cas",DID_API_IDENTIFIERS:v.integration.DID_API_IDENTIFIERS,TRUSTED_ISSUERS_REGISTRY_URL:v.integration.TRUSTED_ISSUERS_REGISTRY_URL},N=a(49),O=a(359),_=a(98),T=a(57),k=a.n(T),S=a(35),x=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==b.b()){e.next=2;break}return e.abrupt("return",b.f()||t);case 2:return e.prev=2,a="".concat(w.TRUSTED_ISSUERS_REGISTRY_URL,"/").concat(t),e.next=6,k.a.get(a);case 6:if((n=e.sent)&&200===n.status&&n.data&&n.data.entities&&n.data.entities[0]){e.next=9;break}return e.abrupt("return",t);case 9:if(r=Object(h.a)(n.data.entities,1),(s=r[0]).name||s.preferredName){e.next=12;break}return e.abrupt("return",t);case 12:return e.abrupt("return",s.name||s.preferredName);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"VerifiablePresentation"!==t.name){e.next=7;break}return e.next=4,x(t.did);case 4:a=e.sent,e.next=13;break;case 7:return n=t.data.base64,r=Object(S.b)(n),s=JSON.parse(r),e.next=12,x(s.issuer);case 12:a=e.sent;case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return","-");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e,t,a,n){var r=a;return'["Verifiable ID","Europass Diploma"]'===t&&(r="Request your eID and Diploma Presentation"),"Request Verifiable ID"===t&&(r="Request your Bachelor Diploma Presentation"),"Request Verifiable ID and Europass Diploma"===t&&(r="Request your Master Diploma Presentation"),void 0!==n&&3===e&&n.includes("master")&&(r="Request to Sign your eID & Diploma Presentation"),r},C=function(e,t,a){if(e<0)return" - ";var n=_.b[e];return 2===e&&(n=A(e,t,n,a)),3===e&&(n=A(e,t,n,a)),n},j=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:if(!(a=e.sent).includes("Bachelor")){e.next=5;break}return e.abrupt("return","Bachelor Diploma");case 5:if(!a.includes("Master")){e.next=7;break}return e.abrupt("return","Master Diploma");case 7:return e.abrupt("return","Diploma");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,"Verifiable ID"===t&&"notification"===a&&(r="Verifiable eID"),"Verifiable ID"===t&&"credential"===a&&(r="My Verifiable eID"),"Verifiable Presentation"===t&&"credential"===a&&(r="Verifiable eID Presentation"),"VerifiablePresentation"===t&&"credential"===a&&(r="Verifiable eID Presentation"),'["Europass Diploma"]'!==t||"credential"!==a){e.next=9;break}return e.next=8,j(n);case 8:r=e.sent;case 9:return"Europass Diploma"===t&&"notification"===a&&(r="Diploma"),'["Europass Diploma"]'===t&&"notification"===a&&(r="Diploma"),""===t&&(r=" - "),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,0===a&&(n="My Diploma"),1!==a){e.next=6;break}return e.next=5,D(t,"notification","");case 5:n=e.sent;case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(e){switch(e){case"EssifVerifiableID":return"Verifiable eID";case"EuropassCredential":return"Diploma";default:return e}},R=w.REACT_APP_WALLET_API,B=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={grantType:_.c,assertion:t,scope:_.d},e.prev=1,e.next=4,k.a.post("".concat(R,"/").concat("v1","/sessions"),a);case 4:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 8:if(e.prev=8,e.t0=e.catch(1),void 0===(s=null===(r=e.t0.response)||void 0===r?void 0:r.data)){e.next=13;break}return e.abrupt("return",{status:s.status,data:"".concat(s.detail)});case 13:return e.abrupt("return",{status:500,data:"Error"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(t)}},e.prev=1,e.next=4,k.a.get("".concat(R,"/").concat("v1","/notifications/"),a);case 4:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 8:if(e.prev=8,e.t0=e.catch(1),void 0===(s=null===(r=e.t0.response)||void 0===r?void 0:r.data)){e.next=13;break}return e.abrupt("return",{status:s.status,data:"".concat(s.detail)});case 13:return e.abrupt("return",{status:500,data:"Error"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer ".concat(Object(b.c)())}},e.prev=1,e.next=4,k.a.post("".concat(R,"/").concat("v1","/notifications/").concat(t,"/approvals"),a,n);case 4:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 8:if(e.prev=8,e.t0=e.catch(1),void 0===(c=null===(s=e.t0.response)||void 0===s?void 0:s.data)){e.next=13;break}return e.abrupt("return",{status:c.status,data:"".concat(c.detail)});case 13:return e.abrupt("return",{status:500,data:"Error"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N.a.Instance,n={password:t},e.next=4,a.addNewWallet(n);case 4:r=e.sent,s=a.exportEncryptedKeys(r),Object(b.h)(r),Object(b.j)(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){Object(b.i)(e);var t=function(e){var t=e.split("&"),a=e;return t.length>1&&(a="".concat(t[1]," ").concat(t[0])),a}(y(e).userName);Object(b.l)(t)},G=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("no ticket found");case 2:if("string"===typeof t){e.next=4;break}throw new Error("ticket not in string format");case 4:return e.next=6,Object(O.a)(t,a);case 6:return n=e.sent,e.next=9,B(n);case 9:if(200!==(r=e.sent).status&&201!==r.status){e.next=14;break}M(r.data.accessToken),e.next=15;break;case 14:throw new Error(r.data);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(e){var t=e.goToLocalStorageWalletScreen,a=e.goToNewWalletScreen,n=e.goToImportWalletScreen,r=!Object(b.g)();return i.a.createElement("div",{className:"ecl-u-bg-blue-130 ecl-u-flex-grow-1"},i.a.createElement("main",{className:"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl"},i.a.createElement("h1",{className:"ecl-u-type-heading-1"},"Welcome",r&&" back"," on EBSI Wallet!"),r?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"ecl-u-type-paragraph"},"We've detected that you already have a wallet on this browser."),i.a.createElement("button",{type:"button",onClick:t,className:"ecl-button ecl-button--primary ecl-u-mt-s ecl-u-mr-m"},"Use your existing wallet"),i.a.createElement("p",{className:"ecl-u-type-paragraph ecl-u-mt-xl"},"You can also decide to create a new wallet or to import an existing one:")):i.a.createElement("p",{className:"ecl-u-type-paragraph"},"To get started, create a new wallet or import an existing one:"),i.a.createElement("button",{type:"button",onClick:a,className:"ecl-button ecl-button--".concat(r?"secondary":"primary"," ecl-u-mt-s ecl-u-mr-m")},"Create a new wallet"),i.a.createElement("button",{type:"button",onClick:n,className:"ecl-button ecl-button--".concat(r?"secondary":"primary"," ecl-u-mt-s ecl-u-mr-m")},"Import an existing wallet")))},K=(a(659),a(30)),q=a(224),V=a.n(q),z={cas_url:w.REACT_APP_EULOGIN,service_url:w.REACT_APP_WALLET,cas_version:"3.0",session_name:"ecas_session",session_info:"ecas_session_info",destroy_session:!0,renew:!1},Y=new function e(){if(Object(K.a)(this,e),this.loginLink=function(){sessionStorage.setItem("urlBeforeLogin",window.location.href);var e={service:"".concat(z.service_url,"/credentials"),renew:void 0!==z.renew&&!!z.renew};return z.cas_url+V.a.format({pathname:"/login",query:e})},this.logout=function(){var e={service:z.service_url,renew:void 0!==z.renew&&!!z.renew};window.location.assign(z.cas_url+V.a.format({pathname:"/logout",query:e}))},void 0===z.cas_url)throw new Error("CAS Authentication requires a cas_url parameter.");if(void 0===z.service_url)throw new Error("CAS Authentication requires a service_url parameter.")},J=Y.loginLink,Q=Y.logout,X=function(e){var t=e.children;return i.a.createElement("div",{className:"panelTitle"},t)},Z=function(e){var t=e.icon,a=e.title,n=e.linkLabel,r=e.children;return i.a.createElement("div",{className:"panelBody"},i.a.createElement("div",{className:"panelImageContainer"},i.a.createElement("img",{src:t,alt:"",role:"presentation",className:"panelImage"})),i.a.createElement("div",{className:"panelMainContent"},a&&i.a.createElement("h3",{className:"panelBodyTitle"},a),i.a.createElement("p",{className:"panelBodyText"},r)),i.a.createElement("div",{className:"panelButtonContainer"},i.a.createElement("a",{className:"panelLink ecl-button ecl-button--call",role:"button",href:J()},n)))};Z.defaultProps={title:"",linkLabel:""};var $=function(e){var t=e.children;return i.a.createElement(i.a.Fragment,null,t)},ee=a(165),te=a.n(ee),ae=a(225),ne=a.n(ae),re=function(){return i.a.createElement("div",{className:ne.a.app},i.a.createElement("main",{className:ne.a.main},i.a.createElement($,null,i.a.createElement(X,null,"EBSI Wallet"),i.a.createElement(Z,{icon:te.a,linkLabel:"Login"},"Authenticate via EU Login to access your EBSI Wallet."))))},se=a(56),ce=a(10),ie=a.n(ce),oe=a(21),le=a.n(oe);function ue(){var e=Object(b.d)();if(!e)throw new Error("Keys not found");if(window.navigator&&window.navigator.msSaveOrOpenBlob){var t=new Blob([decodeURIComponent(encodeURI(e))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(t,"keys.json")}else{var a=document.createElement("a");a.download="keys.json",a.href="data:".concat("application/json;charset=utf-8;",",").concat(encodeURIComponent(JSON.stringify(JSON.parse(e)))),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}function de(e){return new Promise((function(t,a){var n=e.name,r=new RegExp(" ","g"),s=(n=n.replace(r,"_")).lastIndexOf("."),c="";if(s>0&&(c=n.substring(s+1)),"JSON"===c.toUpperCase()){var i=new FileReader;i.onload=function(){var e=i.result;if("string"!==typeof e)throw new Error("error reading data keys");e=e.substring(e.indexOf(",")+1),t(e)},i.readAsDataURL(e)}else a(new Error("Invalid extension. Please upload a JSON file."))}))}var me,pe=function(e){var t=e.verifyTicket,a=e.goToChooseMethodScreen,n=Object(se.a)(),r=n.register,s=n.handleSubmit,o=n.errors,l=Object(c.useState)(!1),u=Object(h.a)(l,2),p=u[0],f=u[1],E=Object(c.useState)(""),y=Object(h.a)(E,2),g=y[0],v=y[1],w=function(){var e=Object(m.a)(d.a.mark((function e(a){var n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return f(!0),v(""),e.prev=4,e.next=7,de(a.keystore[0]);case 7:return n=e.sent,r=Object(S.b)(n),e.next=11,N.a.Instance.restoreWallet({encryptedKey:r,password:a.passwordForKeyGeneration});case 11:return s=e.sent,Object(b.j)(r),Object(b.h)(s),e.next=16,t(a.passwordForKeyGeneration);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),v(e.t0.toString()),f(!1);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"ecl-u-bg-blue-130 ecl-u-flex-grow-1"},i.a.createElement("main",{className:"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl"},i.a.createElement("h1",{className:"ecl-u-type-heading-1"},"Import an existing wallet"),i.a.createElement("form",{onSubmit:s(w)},i.a.createElement("div",{className:"ecl-form-group no-js"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"keystore"},"Keystore file"),i.a.createElement("div",{className:"ecl-help-block"},"This is the JSON file you have exported.",i.a.createElement("div",{className:"ecl-u-mt-xs ecl-u-type-color-grey-75"},"Only ",i.a.createElement("strong",null,".json")," files are accepted.")),o.keystore&&i.a.createElement("div",{className:"ecl-feedback-message"},o.keystore.message||"Invalid keystore!"),i.a.createElement("input",{id:"keystore",name:"keystore",type:"file",className:"ecl-file-upload",ref:r({required:"Keystore is required"})})),i.a.createElement("div",{className:"ecl-form-group ecl-u-mt-m"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"password-key-gen"},"Password"),o.passwordForKeyGeneration&&i.a.createElement("div",{className:"ecl-feedback-message"},o.passwordForKeyGeneration.message||"Invalid password!"),i.a.createElement("input",{type:"password",id:"password-key-gen",name:"passwordForKeyGeneration",className:ie()("ecl-text-input ecl-text-input--m",{"ecl-text-input--invalid":o.passwordForKeyGeneration}),placeholder:"Password",ref:r({required:"Password is required"})})),i.a.createElement("button",{className:"ecl-button ecl-button--primary ecl-u-mt-l ecl-u-mr-m",type:"submit",disabled:p},p?"Importing wallet...":"Import wallet"),i.a.createElement("button",{className:"ecl-button ecl-button--ghost ecl-u-mt-l",type:"button",onClick:a},"Choose another method"),g&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error ecl-u-mt-l","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},"Error"),i.a.createElement("p",{className:"ecl-message__description"},g))))))},he=function(e){var t=e.verifyTicket,a=e.goToChooseMethodScreen,n=Object(se.a)(),r=n.register,s=n.handleSubmit,o=n.errors,l=Object(c.useState)(!1),u=Object(h.a)(l,2),p=u[0],f=u[1],E=Object(c.useState)(""),y=Object(h.a)(E,2),g=y[0],v=y[1],w=function(){var e=Object(m.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:if(f(!0),v(""),e.prev=4,n=a.passwordForKeyGeneration){e.next=8;break}throw new Error("No password provided");case 8:return e.next=10,N.a.Instance.restoreWallet({encryptedKey:Object(b.d)()||"",password:n});case 10:return e.next=12,t(n);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),v(e.t0.toString()),f(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"ecl-u-bg-blue-130 ecl-u-flex-grow-1"},i.a.createElement("main",{className:"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl"},i.a.createElement("h1",{className:"ecl-u-type-heading-1"},"Open Wallet"),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"The wallet will be loaded from your browser's local storage."),i.a.createElement("form",{onSubmit:s(w)},i.a.createElement("div",{className:"ecl-form-group"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"password-key-gen"},"Please enter your password:"),o.passwordForKeyGeneration&&i.a.createElement("div",{className:"ecl-feedback-message"},o.passwordForKeyGeneration.message||"Invalid password!"),i.a.createElement("input",{type:"password",id:"password-key-gen",name:"passwordForKeyGeneration",className:ie()("ecl-text-input ecl-text-input--m",{"ecl-text-input--invalid":o.passwordForKeyGeneration}),placeholder:"Password",ref:r({required:"Password is required"})})),i.a.createElement("button",{className:"ecl-button ecl-button--primary ecl-u-mt-l ecl-u-mr-m",type:"submit",disabled:p},p?"Opening wallet...":"Open wallet"),i.a.createElement("button",{className:"ecl-button ecl-button--ghost ecl-u-mt-l",type:"button",onClick:a},"Choose another method"),g&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error ecl-u-mt-l","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},"Error"),i.a.createElement("p",{className:"ecl-message__description"},g))))))},fe=function(e){var t=e.verifyTicket,a=e.goToChooseMethodScreen,n=Object(se.a)(),r=n.register,s=n.watch,o=n.handleSubmit,l=n.errors,u=Object(c.useState)(!1),p=Object(h.a)(u,2),f=p[0],E=p[1],b=Object(c.useState)(""),y=Object(h.a)(b,2),g=y[0],v=y[1],w=function(){var e=Object(m.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return");case 2:if(E(!0),v(""),e.prev=4,n=a.passwordForKeyGeneration){e.next=8;break}throw new Error("No password provided");case 8:return e.next=10,W(n);case 10:return e.next=12,t(n);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),v(e.t0.toString()),E(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"ecl-u-bg-blue-130 ecl-u-flex-grow-1"},i.a.createElement("main",{className:"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl"},i.a.createElement("h1",{className:"ecl-u-type-heading-1"},"Generate Keys"),i.a.createElement("h2",{className:"ecl-u-type-heading-2"},"Please type a password for the key generation."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"Please keep this password, you will need it for signing credentials."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"Please note that if you will not be able to recover your wallet unless you download your keys. Note that clicking on \u201cRestart User Journey\u201d will delete your access to your current wallet."),i.a.createElement("form",{onSubmit:o(w)},i.a.createElement("div",{className:"ecl-form-group"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"password-key-gen"},"Please enter your password:"),l.passwordForKeyGeneration&&i.a.createElement("div",{className:"ecl-feedback-message"},l.passwordForKeyGeneration.message||"Invalid password!"),i.a.createElement("input",{type:"password",id:"password-key-gen",name:"passwordForKeyGeneration",className:ie()("ecl-text-input ecl-text-input--m",{"ecl-text-input--invalid":l.passwordForKeyGeneration}),placeholder:"Password",ref:r({required:"Password is required"})})),i.a.createElement("div",{className:"ecl-form-group ecl-u-mt-m"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"password-confirm"},"Confirm your password:"),l.confirmPassword&&i.a.createElement("div",{className:"ecl-feedback-message"},l.confirmPassword.message||"Invalid password!"),i.a.createElement("input",{type:"password",id:"password-confirm",name:"confirmPassword",className:ie()("ecl-text-input ecl-text-input--m",{"ecl-text-input--invalid":l.confirmPassword}),placeholder:"Confirm password",ref:r({required:"Password confirmation is required",validate:function(e){return e===s("passwordForKeyGeneration")||"Your password and confirmation password do not match."}})})),i.a.createElement("button",{className:"ecl-button ecl-button--primary ecl-u-mt-l ecl-u-mr-m",type:"submit",disabled:f},f?"Generating...":"Generate"),i.a.createElement("button",{className:"ecl-button ecl-button--ghost ecl-u-mt-l",type:"button",onClick:a},"Choose another method"),g&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error ecl-u-mt-l","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},"Error"),i.a.createElement("p",{className:"ecl-message__description"},g))))))};!function(e){e[e.BLANK=0]="BLANK",e[e.EU_LOGIN=1]="EU_LOGIN",e[e.CHOOSE_METHOD=2]="CHOOSE_METHOD",e[e.LOCAL_STORAGE=3]="LOCAL_STORAGE",e[e.NEW_WALLET=4]="NEW_WALLET",e[e.IMPORT_WALLET=5]="IMPORT_WALLET"}(me||(me={}));var Ee=w.REACT_APP_WALLET,be=Ee.startsWith("http")?new URL(Ee).pathname:Ee,ye=function(e){var t=e.children,a=Object(l.h)(),n=Object(l.g)(),r=Object(c.useState)(""),s=Object(h.a)(r,2),o=s[0],u=s[1],f=Object(c.useState)(me.BLANK),y=Object(h.a)(f,2),v=y[0],w=y[1],N=!Object(b.a)()&&!g(Object(b.c)())&&!Object(b.g)();Object(c.useEffect)((function(){N||o||w(me.EU_LOGIN)}),[N,o]),Object(c.useEffect)((function(){var e=E.a.parse(a.search).ticket;if(e)if(u(Array.isArray(e)?e[0]:e),w(me.CHOOSE_METHOD),sessionStorage.getItem("urlBeforeLogin")){var t,r=new URL(sessionStorage.getItem("urlBeforeLogin")||"");sessionStorage.removeItem("urlBeforeLogin"),t=0===r.pathname.indexOf(be)?r.pathname.slice(be.length):r.pathname,n.replace(t+r.search)}else{var s=new URLSearchParams(a.search);s.delete("ticket"),n.replace(Object(p.a)(Object(p.a)({},a),{},{search:s.toString()}))}}),[]);var O=function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(o,t);case 2:u("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(N)return i.a.createElement(i.a.Fragment,null,t);var _=function(){return w(me.CHOOSE_METHOD)};return v===me.CHOOSE_METHOD?i.a.createElement(H,{goToLocalStorageWalletScreen:function(){return w(me.LOCAL_STORAGE)},goToNewWalletScreen:function(){return w(me.NEW_WALLET)},goToImportWalletScreen:function(){return w(me.IMPORT_WALLET)}}):v===me.LOCAL_STORAGE?i.a.createElement(he,{verifyTicket:O,goToChooseMethodScreen:_}):v===me.NEW_WALLET?i.a.createElement(fe,{verifyTicket:O,goToChooseMethodScreen:_}):v===me.IMPORT_WALLET?i.a.createElement(pe,{verifyTicket:O,goToChooseMethodScreen:_}):v===me.EU_LOGIN?i.a.createElement(re,null):i.a.createElement("div",{className:"ecl-u-bg-blue-130 ecl-u-flex-grow-1"})},ge=a(33),ve=a(42),we=a(41),Ne=(a(669),a(761)),Oe=a(58),_e=a(88),Te=(a(673),a(366)),ke=a.n(Te),Se=a(757),xe=a(758),Ie=a(759),Ae=(a(674),w.REACT_APP_DEMO),Ce=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,null,i.a.createElement(xe.a,null,i.a.createElement(Ie.a,{className:"col"}))),i.a.createElement("div",{className:"ribbon","data-tut":"reactour_header"},i.a.createElement("a",{className:"ribbonText",href:Ae},"EBSI DEMO")))},je=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)};return i.a.createElement("header",{className:"ecl-site-header-harmonised--group1 ecl-site-header-harmonised"},i.a.createElement("div",{className:"ecl-site-header-harmonised__container ecl-container"},i.a.createElement("div",{className:"ecl-site-header-harmonised__top"},i.a.createElement(o.b,{className:"ecl-link ecl-link--standalone ecl-site-header-harmonised__logo-link",to:"/profile","aria-label":"European Commission"},i.a.createElement("img",{alt:"European Commission logo",title:"European Commission",className:"ecl-site-header-harmonised__logo-image",src:ke.a})))),i.a.createElement("nav",{"data-ecl-auto-init":"Menu",className:"ecl-menu--group1 ecl-menu","data-ecl-menu":!0,"aria-expanded":a},i.a.createElement("div",{className:"ecl-menu__overlay","data-ecl-menu-overlay":!0,onClick:r}),i.a.createElement("div",{className:"ecl-container ecl-menu__container"},i.a.createElement(o.b,{className:"ecl-link ecl-link--standalone ecl-menu__open",to:"#","data-ecl-menu-open":!0,onClick:function(){n(!0)}},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-icon ecl-icon--s"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#general--hamburger")})),"Menu"),i.a.createElement("div",{className:"ecl-menu__site-name"},"EBSI Wallet"),i.a.createElement("section",{className:"ecl-menu__inner","data-ecl-menu-inner":!0},i.a.createElement("header",{className:"ecl-menu__inner-header"},i.a.createElement("button",{"data-ecl-menu-close":!0,type:"button",className:"ecl-menu__close ecl-button ecl-button--text",onClick:r},i.a.createElement("span",{className:"ecl-menu__close-container ecl-button__container"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true","data-ecl-icon":!0,className:"ecl-button__icon ecl-button__icon--before ecl-icon ecl-icon--s"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#ui--close-filled")})),i.a.createElement("span",{className:"ecl-button__label","data-ecl-label":!0},"Close"))),i.a.createElement("div",{className:"ecl-menu__title"},"Menu"),i.a.createElement("button",{"data-ecl-menu-back":!0,type:"submit",className:"ecl-menu__back ecl-button ecl-button--text"},i.a.createElement("span",{className:"ecl-button__container"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true","data-ecl-icon":!0,className:"ecl-button__icon ecl-button__icon--before ecl-icon ecl-icon--s ecl-icon--rotate-270"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#ui--corner-arrow")})),i.a.createElement("span",{className:"ecl-button__label","data-ecl-label":!0},"Back")))),i.a.createElement("ul",{className:"ecl-menu__list"},i.a.createElement("li",{className:"ecl-menu__item","data-ecl-menu-item":!0},i.a.createElement(o.c,{to:"/profile",className:"ecl-menu__link",activeClassName:"ecl-menu__link--active","data-ecl-menu-link":!0},"My Profile")),i.a.createElement("li",{className:"ecl-menu__item","data-ecl-menu-item":!0},i.a.createElement(o.c,{to:"/credentials",className:"ecl-menu__link",activeClassName:"ecl-menu__link--active","data-ecl-menu-link":!0},"Credentials")),i.a.createElement("li",{className:"ecl-menu__item","data-ecl-menu-item":!0},i.a.createElement(o.c,{to:"/notifications",className:"ecl-menu__link",activeClassName:"ecl-menu__link--active","data-ecl-menu-link":!0},"Notifications")),i.a.createElement("li",{className:"ecl-menu__item","data-ecl-menu-item":!0},i.a.createElement(o.c,{to:"/presentations",className:"ecl-menu__link",activeClassName:"ecl-menu__link--active","data-ecl-menu-link":!0},"Presentations")),i.a.createElement("li",{className:"ecl-menu__item","data-ecl-menu-item":!0},i.a.createElement(o.b,{to:"#",onClick:function(e){e.preventDefault(),sessionStorage.clear(),localStorage.removeItem("Jwt"),Q()},className:"ecl-menu__link","data-ecl-menu-link":!0},"Logout")))))),i.a.createElement(Ce,null))},De=function(){return i.a.createElement("footer",{className:"ecl-footer-core"})},Pe=a(760),Le=(a(675),function(e){var t=e.title,a=e.subtitle,n=e.isLoadingOpen;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ecl-page-header-harmonised ecl-u-mt-l"},i.a.createElement("div",{className:"ecl-container"},i.a.createElement("h1",{className:"ecl-page-header-harmonised__title"},t))),i.a.createElement("div",{className:"ecl-container"},i.a.createElement("p",null,a),n&&i.a.createElement("div",{className:"ecl-u-mv-l"},i.a.createElement(Pe.a,{animation:"border",role:"status",variant:"danger"},i.a.createElement("span",{className:"sr-only"},"Loading...")))))});Le.defaultProps={isLoadingOpen:!1};var Re,Be=[{selector:'[data-tut="reactour_credentials"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"You will see here your credentials."),i.a.createElement("br",null),"Tap in the credential to see more details about it.")},position:"left"},{selector:'[data-tut="reactour_header"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"Demonstration Flow."),i.a.createElement("br",null),"When you are on the Wallet and other pages and have completed your tasks there, don\u2019t forget to tap on the 'EBSI DEMO' button to return to the demonstration flow")}}],Fe=[{selector:'[data-tut="reactour_notifications"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"You will see here your notifications."),i.a.createElement("br",null),"Tap in the notification to Verify it.")},position:"left"},{selector:'[data-tut="reactour_header"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"Demonstration Flow."),i.a.createElement("br",null),"When you are on the Wallet and other pages and have completed your tasks there, don\u2019t forget to tap on the 'EBSI DEMO' button to return to the demonstration flow")}}],Ue=[{selector:'[data-tut="reactour_presentations"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"You will see here your presentations."),i.a.createElement("br",null),"Tap in the presentation to see more details about it.")},position:"left"},{selector:'[data-tut="reactour_header"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"Demonstration Flow."),i.a.createElement("br",null),"When you are on the Wallet and other pages and have completed your tasks there, don\u2019t forget to tap on the \u2018EBSI DEMO\u2019 button to return to the demonstration flow")}}],We=[{selector:'[data-tut="reactour_center"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"This is your profile page."),i.a.createElement("br",null),"In this area you can see your DID and manage your keys.")},position:"center"},{selector:'[data-tut="reactour_header"]',content:function(){return i.a.createElement("div",null,i.a.createElement("strong",{className:"ecl-u-type-color-blue"},"Demonstration Flow."),i.a.createElement("br",null),"When you are on the Wallet and other pages and have completed your tasks there, don\u2019t forget to tap on the \u2018EBSI DEMO\u2019 button to return to the demonstration flow")}}];!function(e){e[e.STORE_CREDENTIAL=0]="STORE_CREDENTIAL",e[e.STORE_VERIFIABLEID=1]="STORE_VERIFIABLEID",e[e.REQUEST_PRESENTATION=2]="REQUEST_PRESENTATION",e[e.SIGN_PAYLOAD=3]="SIGN_PAYLOAD",e[e.SIGN_TX=4]="SIGN_TX",e[e.NONE=-1]="NONE"}(Re||(Re={}));var Me={id:"",name:"",hash:"",data:{base64:""},type:[""],did:"",dataDecoded:""},Ge={id:"",sender:"",receiver:"",message:{didOwner:"",notificationType:Re.NONE,name:"",data:{base64:""},hash:"",validationServiceEndpoint:"",timestamp:""},selectedCredentials:[],selectedCredsTypes:[],dataDecoded:""},He={invalidAttribute:"Error: Attribute null or dataDecoded undefined"},Ke=w.REACT_APP_ID_HUB_API;function qe(){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(m.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(Object(b.c)())}},e.prev=1,e.next=4,k.a.get("".concat(Ke,"/").concat("v1","/attributes?did=").concat(Object(b.b)()),t);case 4:return a=e.sent,e.abrupt("return",{status:a.status,data:a.data});case 8:if(e.prev=8,e.t0=e.catch(1),void 0===(r=null===(n=e.t0.response)||void 0===n?void 0:n.data)){e.next=13;break}return e.abrupt("return",{status:r.status,data:"".concat(r.detail)});case 13:return e.abrupt("return",{status:500,data:"Error"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ze(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(m.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(Object(b.c)())}},e.prev=1,e.next=4,k.a.get("".concat(Ke,"/").concat("v1","/attributes/").concat(t),a);case 4:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 8:if(e.prev=8,e.t0=e.catch(1),void 0===(s=null===(r=e.t0.response)||void 0===r?void 0:r.data)){e.next=13;break}return e.abrupt("return",{status:s.status,data:"".concat(s.detail)});case 13:return e.abrupt("return",{status:500,data:"Error"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Je(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(m.a)(d.a.mark((function e(t){var a,n,r,s,c,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={headers:{Authorization:"Bearer ".concat(Object(b.c)())}},t&&t.dataDecoded){e.next=3;break}return e.abrupt("return",{status:500,data:He.invalidAttribute});case 3:return e.prev=3,n="".concat(Ke,"/").concat("v1","/attributes?did=").concat(Object(b.b)()),r=JSON.parse(t.dataDecoded).type,Array.isArray(r)&&r.length>0&&(s=JSON.stringify(r),c=encodeURI(s),n="".concat(n,"&type=").concat(c)),e.next=9,k.a.get(n,a);case 9:return i=e.sent,e.abrupt("return",{status:i.status,data:i.data});case 13:if(e.prev=13,e.t0=e.catch(3),void 0===(l=null===(o=e.t0.response)||void 0===o?void 0:o.data)){e.next=18;break}return e.abrupt("return",{status:l.status,data:"".concat(l.detail)});case 18:return e.abrupt("return",{status:500,data:"Error"});case 19:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}var Xe,Ze=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).passwordForKeyGeneration=void 0,n.getNotifications=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(b.c)()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,F(t);case 5:200!==(a=e.sent).status&&201!==a.status||n.setState({notifications:a.data.items,notification1:a.data.items[0],notification2:a.data.items[1],notification3:a.data.items[2]});case 7:case"end":return e.stop()}}),e)}))),n.setCredentialsName=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(t.name,"credential",t.issuer||""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.displayJustCredentials=function(e){return e.filter((function(e){return"VerifiablePresentation"!==e.type}))},n.disableBody=function(e){Object(Oe.a)(e)},n.enableBody=function(e){Object(Oe.b)(e)},n.openTour=function(){n.setState({isTourOpen:!0})},n.closeTour=function(){n.setState({isTourOpen:!1})},n.passwordForKeyGeneration=i.a.createRef(),n.state={username:Object(b.f)()||"",did:Object(b.b)()||"",notifications:[],notification1:Ge,notification2:Ge,notification3:Ge,credentials:[],credential1:Me,credential2:Me,credential3:Me,isTourOpen:!1,credentialsName:[]},n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){Object(b.a)()?this.redirectTo(""):g(Object(b.c)())?window.location.assign(J()):(this.getNotifications(),this.getCredentials())}},{key:"getCredentials",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:if(200!==(t=e.sent).status&&201!==t.status){e.next=15;break}return a=this.displayJustCredentials(t.data.items),e.t0=this,e.t1=a,e.t2=a[0],e.t3=a[1],e.t4=a[2],e.next=12,this.setCredentialsName(a);case 12:e.t5=e.sent,e.t6={credentials:e.t1,credential1:e.t2,credential2:e.t3,credential3:e.t4,credentialsName:e.t5},e.t0.setState.call(e.t0,e.t6);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"redirectTo",value:function(e){this.props.history.push("/".concat(e))}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.did,n=e.notifications,r=e.notification1,s=e.notification2,c=e.notification3,l=e.credentials,u=e.credential1,d=e.credential2,m=e.credential3,p=e.isTourOpen,h=e.credentialsName;return i.a.createElement(i.a.Fragment,null,i.a.createElement(je,null),i.a.createElement(Le,{title:"Welcome to your EBSI wallet",subtitle:"My Profile"}),i.a.createElement("main",{className:"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l"},i.a.createElement("div",{className:"ecl-row"},i.a.createElement("div",{className:"ecl-col-lg-4"},i.a.createElement("h2",{className:"ecl-u-type-heading-2"},"Personal"),i.a.createElement("p",null," ",t),i.a.createElement("h3",{className:"ecl-u-type-heading-3"},"My DID Address"),i.a.createElement("div",{"data-tut":"reactour_center",style:{wordWrap:"break-word"}},a),i.a.createElement("p",{className:"ecl-u-type-paragraph ecl-u-mt-m"},"Please note that if you will not be able to recover your wallet unless you download your keys. Note that clicking on \u201cRestart User Journey\u201d will delete your access to your current wallet."),i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:function(){return ue()}},"Export Keys")),i.a.createElement("div",{className:"ecl-col-lg-4"},i.a.createElement("h2",{className:"ecl-u-type-heading-2"},"Notifications",n.length>0&&i.a.createElement(i.a.Fragment,null," ",i.a.createElement(Ne.a,{variant:"danger"},n.length))),0===n.length&&i.a.createElement("p",{className:"ecl-u-type-paragraph"},"You don't have any pending notifications."),n.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"ecl-unordered-list"},void 0!==r&&i.a.createElement("li",{className:"ecl-unordered-list__item"},C(r.message.notificationType,r.message.name,r.message.redirectURL)),void 0!==s&&i.a.createElement("li",{className:"ecl-unordered-list__item"},C(s.message.notificationType,s.message.name,s.message.redirectURL)),void 0!==c&&i.a.createElement("li",{className:"ecl-unordered-list__item"},C(c.message.notificationType,c.message.name,c.message.redirectURL))),i.a.createElement(o.b,{to:"/notifications",className:"ecl-link ecl-link--cta ecl-u-mt-s"},"See All Pending Notifications"))),i.a.createElement("div",{className:"ecl-col-lg-4"},i.a.createElement("h2",{className:"ecl-u-type-heading-2"},"Credentials",l.length>0&&i.a.createElement(i.a.Fragment,null," ",i.a.createElement(Ne.a,{variant:"danger"},l.length))),0===l.length&&i.a.createElement("p",{className:"ecl-u-type-paragraph"},"You don't have any credentials yet."),l.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"ecl-unordered-list"},void 0!==u&&i.a.createElement("li",{className:"ecl-unordered-list__item"},h[0]),void 0!==d&&i.a.createElement("li",{className:"ecl-unordered-list__item"},h[1]),void 0!==m&&i.a.createElement("li",{className:"ecl-unordered-list__item"},h[2])),i.a.createElement(o.b,{to:"/credentials",className:"ecl-link ecl-link--cta ecl-u-mt-s  "},"See All Credentials"))))),i.a.createElement(De,null),i.a.createElement("button",{onClick:this.openTour,className:"ecl-button ecl-button--primary tourButton",type:"button",title:"Open guided tour"},"?"),i.a.createElement(_e.a,{steps:We,isOpen:p,onRequestClose:this.closeTour,onAfterOpen:this.disableBody,onBeforeClose:this.enableBody}))}}]),a}(c.Component),$e=a(762),et=a(166),tt=a(140),at=a.n(tt),nt=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(b.b)()){e.next=3;break}throw new Error("No DID found on Local Storage.");case 3:return r=N.a.Instance.getPrivateKey(n),s={hexPrivatekey:r,did:n,nonce:t,redirectUri:a},e.next=7,et.EbsiDidAuth.createDidAuthResponse(s);case 7:c=e.sent,window.location.replace("".concat(a,"?response=").concat(c));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),rt=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(b.d)()){e.next=3;break}throw new Error("No keys found.");case 3:return n={encryptedKey:a,password:t},e.next=6,N.a.Instance.restoreWallet(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(l.h)(),t=Object(c.useState)(""),a=Object(h.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(h.a)(s,2),u=o[0],p=o[1],f=Object(c.useState)(""),E=Object(h.a)(f,2),b=E[0],g=E[1],v=Object(c.useState)(""),N=Object(h.a)(v,2),O=N[0],_=N[1],T=Object(c.useState)(!1),k=Object(h.a)(T,2),S=k[0],I=k[1],A=Object(c.useState)(!1),C=Object(h.a)(A,2),j=C[0],D=C[1],P=Object(c.useState)(""),L=Object(h.a)(P,2),R=L[0],B=L[1],F=Object(se.a)(),U=F.register,W=F.handleSubmit,M=F.errors,G=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,et.EbsiDidAuth.verifyDidAuthRequest(O,w.DID_API_IDENTIFIERS);case 4:return a=e.sent,e.next=7,rt(t.didAuthPassword);case 7:nt(a.nonce,n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),D(!1),B(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("No URL Parameters provided");case 2:if(a=t.get("client_id"),n=t.get("request"),a&&n){e.next=6;break}throw new Error("Error parsing DIDAuth request");case 6:if((s=y(n)).iss){e.next=9;break}throw new Error("No issuer found in DIDAuth request token");case 9:return e.next=11,x(s.iss);case 11:c=e.sent,p(s.iss),r(a),g(c),_(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){function t(){return(t=Object(m.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new URLSearchParams(e.search),t.prev=1,t.next=4,H(a);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),i.a.createElement("div",{className:at.a.app},i.a.createElement("main",{className:at.a.main},i.a.createElement($,null,i.a.createElement(X,null,"Authorization"),i.a.createElement("div",{className:"panelBody"},i.a.createElement("div",{className:"panelImageContainer"},i.a.createElement("img",{src:te.a,alt:"",role:"presentation",className:"panelImage"})),i.a.createElement("div",{className:"panelMainContent"},"-"===b&&i.a.createElement("div",null,i.a.createElement("h3",{className:"panelBodyTitle"},"Connect with the service with DID:"),i.a.createElement("p",{className:"panelBodyText",style:{wordWrap:"break-word"}},u)),"-"!==b&&i.a.createElement("h3",{className:"panelBodyTitle"},b," wants to connects you"),i.a.createElement("p",{className:"panelBodyText",style:{wordWrap:"break-word"}},n))),i.a.createElement("div",{className:at.a.panelFooter},i.a.createElement("button",{className:"ecl-button ecl-button--call",type:"button",onClick:function(){I(!0),B("")}},"Authorize")))),i.a.createElement($e.a,{show:S,onHide:function(){I(!1)}},i.a.createElement("form",{onSubmit:W(G)},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,null,"Password")),i.a.createElement($e.a.Body,{className:"ModalBody"},i.a.createElement("div",{className:"ecl-form-group"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"did-auth-password"},"Please type your password to authorize the connection."),M.didAuthPassword&&i.a.createElement("div",{className:"ecl-feedback-message"},M.didAuthPassword.message||"Invalid password!"),i.a.createElement("input",{type:"password",id:"did-auth-password",name:"didAuthPassword",className:ie()("ecl-text-input ecl-u-width-100",{"ecl-text-input--invalid":M.didAuthPassword}),placeholder:"Password",ref:U({required:!0})})),R&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error ecl-u-mt-m","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},R)))),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{type:"submit",className:"ecl-button ecl-button--primary",disabled:j},j?i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:ie()("ecl-icon ecl-icon--xs",at.a.spinner)},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#general--spinner")}))," ","Checking..."):"Authorize")))))},ct=a(76),it=(a(748),a(370)),ot=a.n(it),lt=a(171),ut=a.n(lt),dt=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).isCredentialItemMounted=void 0,n.isCredentialItemMounted=!1,n.state={issuer:"",name:""},n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isCredentialItemMounted=!0,t=this.props.credential,e.next=4,I(t);case 4:return a=e.sent,e.next=7,D(t.name,"credential",t.did);case 7:n=e.sent,this.isCredentialItemMounted&&this.setState({issuer:a,name:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isCredentialItemMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.credential,a=e.methodToOpen,n=this.state,r=n.issuer,s=n.name;return i.a.createElement("article",{className:"ecl-card ecl-card--tile ".concat(ot.a.credentialItem),key:t.id},i.a.createElement("header",{className:"ecl-card__header"},i.a.createElement("h1",{className:"ecl-card__title"},i.a.createElement("img",{src:ut.a,height:"32",width:"32",className:"logo rounded mr-2",alt:""})," ",i.a.createElement(o.b,{to:"/notifications",onClick:function(e){e.preventDefault(),a(t.hash)},className:"ecl-link ecl-link--standalone"},s))),i.a.createElement("div",{className:"ecl-card__body"},i.a.createElement("div",{className:"ecl-card__description"},"Issued By: ",r)))}}]),a}(c.Component),mt=a(763),pt={WHITE:"#FFF",EC_BLUE:"#004494",EC_YELLOW:"#FFD617",EC_GREY:"#404040",EC_BLUE_N:"#006FB4",EC_BLUE_75:"#4073AF",EC_BLUE_BACK:"#002f67",EC_ORANGE:"#F29527",EC_GREEN:"#467A39",EC_RED:"#DA2131",BLACK:"#000000"},ht=a(172),ft=a.n(ht),Et={position:"absolute",left:0,right:0,margin:"0 auto",backgroundColor:"rgba(255,255,255,1)",border:"none",zIndex:10},bt=function(e){var t=e.isToastOpen,a=e.methodToClose,n=e.toastColor,r=e.colorText,s=e.toastMessage;return i.a.createElement(mt.a,{show:t,onClose:a,style:Et},i.a.createElement(mt.a.Header,{style:{backgroundColor:n,color:r}},i.a.createElement("img",{src:ft.a,height:"16",width:"16",className:"rounded mr-2",alt:""}),i.a.createElement("strong",{className:"mr-auto"},n===pt.EC_GREEN?"Success":"Error"),i.a.createElement("small",null,"Ebsi Wallet")),i.a.createElement(mt.a.Body,null,s))},yt=a(173),gt=a.n(yt),vt=(a(749),function(e){var t=e.data;try{var a=JSON.parse(t);return i.a.createElement("dl",{className:"ecl-description-list ecl-description-list--horizontal"},i.a.createElement("dt",{className:"ecl-description-list__term"},"Person Identifier"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.personIdentifier),i.a.createElement("dt",{className:"ecl-description-list__term"},"Family Name"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.currentFamilyName),i.a.createElement("dt",{className:"ecl-description-list__term"},"Given Name"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.currentGivenName),i.a.createElement("dt",{className:"ecl-description-list__term"},"Birth Name"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.birthName),i.a.createElement("dt",{className:"ecl-description-list__term"},"Date of Birth"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.dateOfBirth),i.a.createElement("dt",{className:"ecl-description-list__term"},"Address"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.currentAddress),i.a.createElement("dt",{className:"ecl-description-list__term"},"Gender"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.gender),i.a.createElement("dt",{className:"ecl-description-list__term"},"DID"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.id),i.a.createElement("dt",{className:"ecl-description-list__term"},"Government ID"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.govId?a.credentialSubject.govId:" - "))}catch(n){return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement("b",null,i.a.createElement("u",null,"Error Parsing the Verifiable eID."))),i.a.createElement("p",null,i.a.createElement("b",null,"Contact the issuer to check what happens.")))}}),wt=function(e){var t=e.data;try{var a=JSON.parse(t);return i.a.createElement("dl",{className:"ecl-description-list ecl-description-list--horizontal"},i.a.createElement("dt",{className:"ecl-description-list__term"},"Issuer"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.issuer),i.a.createElement("dt",{className:"ecl-description-list__term"},"Title"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.achievements[0].title),i.a.createElement("dt",{className:"ecl-description-list__term"},"Issuance Date"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.achievements[0].issuedDate),i.a.createElement("dt",{className:"ecl-description-list__term"},"ISCED-F Code"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.achievements[0].learningSpecification.iscedFcode),i.a.createElement("dt",{className:"ecl-description-list__term"},"Target Framework"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.achievements[0].learningSpecification.hasAccreditation.targetFramework),i.a.createElement("dt",{className:"ecl-description-list__term"},"Numeric Score"),i.a.createElement("dd",{className:"ecl-description-list__definition"},a.credentialSubject.achievements[0].hasPart[0].wasDerivedFrom.grade.numericScore))}catch(n){return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement("b",null,i.a.createElement("u",null,"Error Parsing the Diploma."))),i.a.createElement("p",null,i.a.createElement("b",null,"Contact the issuer to check what happens.")))}},Nt=a(371),Ot=a.n(Nt),_t=function(){return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("img",{src:Ot.a,height:"196",width:"196",className:"logo rounded mr-2",alt:""}),i.a.createElement("p",null,i.a.createElement("b",null,"Verifiable eID Presentation.")))},Tt=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).openDetails=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.credential,e.next=3,D(t.name,"credential",t.did);case 3:a=e.sent,n.setState({isFullCredentialDisplayed:!0,name:a});case 5:case"end":return e.stop()}}),e)}))),n.closeDetails=function(){n.state.isFullCredentialDisplayed&&n.setState({isFullCredentialDisplayed:!1,name:""})},n.state={isFullCredentialDisplayed:!1,name:""},n}return Object(ge.a)(a,[{key:"render",value:function(){var e=this.props,t=e.methodToClose,a=e.credential,n=e.isModalCredentialOpen,r=this.state,s=r.isFullCredentialDisplayed,c=r.name;return i.a.createElement($e.a,{show:n,onHide:t,size:"lg"},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,{className:"ModalTitleCredential"},c)),i.a.createElement($e.a.Body,null,!s&&n&&i.a.createElement(i.a.Fragment,null,"Verifiable ID"===a.name&&i.a.createElement(vt,{data:a.dataDecoded||""}),"VerifiablePresentation"===a.name&&i.a.createElement(_t,null),('["Europass Diploma"]'===a.name||"Europass Diploma"===a.name)&&i.a.createElement(wt,{data:a.dataDecoded||""})),s&&i.a.createElement(gt.a,{id:"json-pretty-store",data:a.dataDecoded})),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{className:"ecl-button ecl-button--ghost",type:"button",onClick:t},"Close"),s?i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:this.closeDetails},"Close Details"):i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:this.openDetails},"Open Details")))}}]),a}(c.Component),kt=w.REACT_APP_DEMO;!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Error=2]="Error"}(Xe||(Xe={}));var St,xt,It=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).passwordForKeyGeneration=void 0,n.closeTour=function(){n.setState({isTourOpen:!1})},n.disableBody=function(e){Object(Oe.a)(e)},n.enableBody=function(e){Object(Oe.b)(e)},n.openTour=function(){n.setState({isTourOpen:!0})},n.passwordForKeyGeneration=i.a.createRef(),n.state={credentials:[],credentialsStatus:Xe.Loading,credentialsError:"",credential:Me,isModalCredentialOpen:!1,isToastOpen:!1,toastMessage:"Error",toastColor:pt.EC_GREEN,isLoadingOpen:!1,isTourOpen:!1},n.closeToast=n.closeToast.bind(Object(ct.a)(n)),n.closeCredentialModal=n.closeCredentialModal.bind(Object(ct.a)(n)),n.displayCredential=n.displayCredential.bind(Object(ct.a)(n)),n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){Object(b.a)()?this.redirectTo(""):g(Object(b.c)())?window.location.assign(J()):this.getCredentials()}},{key:"getCredentials",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.startLoading(),e.next=3,qe();case 3:200===(t=e.sent).status||201===t.status?(a=t.data.items,n=a.filter((function(e){return Array.isArray(e.type)&&e.type.length>0&&e.type.includes("VerifiableCredential")})).map((function(e){return i.a.createElement(dt,{credential:e,key:e.id,methodToOpen:r.displayCredential})})),this.stopLoading(),this.setState({isLoadingOpen:!1,credentialsStatus:Xe.Success,credentials:n})):(404===t.status&&this.redirectTo(""),this.setState({isLoadingOpen:!1,credentialsStatus:Xe.Error,credentialsError:t.data}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"displayCredential",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:200===(a=e.sent).status||201===a.status?this.openCredentialModal(a.data):(404===a.status&&this.redirectTo(""),this.openToast("Error getting the credential. ".concat(a.data)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openCredentialModal",value:function(e){var t=e;t.dataDecoded=Object(S.b)(e.data.base64),this.setState({isModalCredentialOpen:!0,credential:t})}},{key:"openToast",value:function(e){this.setState({isToastOpen:!0,toastMessage:e,isLoadingOpen:!1,toastColor:pt.EC_RED})}},{key:"closeCredentialModal",value:function(){this.setState({isModalCredentialOpen:!1})}},{key:"closeToast",value:function(){this.setState({isToastOpen:!1})}},{key:"redirectTo",value:function(e){this.props.history.push("/".concat(e))}},{key:"startLoading",value:function(){this.setState({isLoadingOpen:!0})}},{key:"stopLoading",value:function(){this.setState({isLoadingOpen:!1})}},{key:"render",value:function(){var e=this.state,t=e.credentials,a=e.credentialsError,n=e.credentialsStatus,r=e.credential,s=e.isModalCredentialOpen,c=e.isLoadingOpen,o=e.isToastOpen,l=e.toastColor,u=e.toastMessage,d=e.isTourOpen;return i.a.createElement(i.a.Fragment,null,i.a.createElement(je,null),i.a.createElement(bt,{isToastOpen:o,methodToClose:this.closeToast,toastColor:l,colorText:pt.WHITE,toastMessage:u}),i.a.createElement(Le,{title:"Credentials Page",subtitle:"List of your credentials.",isLoadingOpen:c}),i.a.createElement("main",{className:"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l"},i.a.createElement(Tt,{credential:r,isModalCredentialOpen:s,methodToClose:this.closeCredentialModal}),n===Xe.Error&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},"Error"),i.a.createElement("p",{className:"ecl-message__description"},a))),n===Xe.Success&&0===t.length&&i.a.createElement("p",null,"You don\u2019t have any credential at the moment. Follow the"," ",i.a.createElement("a",{className:"ecl-link",href:kt},"demonstrator")," ","to create some."),i.a.createElement("div",{"data-tut":"reactour_credentials"},t)),i.a.createElement(De,null),i.a.createElement("button",{onClick:this.openTour,className:"ecl-button ecl-button--primary tourButton",type:"button",title:"Open guided tour"},"?"),i.a.createElement(_e.a,{steps:Be,isOpen:d,onRequestClose:this.closeTour,onAfterOpen:this.disableBody,onBeforeClose:this.enableBody}))}}]),a}(c.Component),At=(a(750),a(164)),Ct=a.n(At),jt=a(372),Dt=a.n(jt),Pt=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).parseDate=function(e){return Ct()(e).format("LLL")},n.state={issuerName:""},n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.notification,e.next=3,x(t.sender);case 3:a=e.sent,this.setState({issuerName:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props,a=t.notification,n=t.methodToOpen,r=this.state.issuerName;return i.a.createElement("article",{className:"ecl-card ecl-card--tile ".concat(Dt.a.notificationItem),key:a.id},i.a.createElement("header",{className:"ecl-card__header"},i.a.createElement("h1",{className:"ecl-card__title"},i.a.createElement("img",{src:ft.a,height:"32",width:"32",className:"rounded mr-2",alt:""})," ",i.a.createElement(o.b,{to:"/notifications",onClick:function(e){e.preventDefault(),n(a)},className:"ecl-link ecl-link--standalone"},C(a.message.notificationType,a.message.name,a.message.redirectURL)))),i.a.createElement("div",{className:"ecl-card__body"},i.a.createElement("div",{className:"ecl-card__description"},r)),i.a.createElement("footer",{className:"ecl-card__footer"},i.a.createElement("ul",{className:"ecl-card__info-container"},i.a.createElement("li",{className:"ecl-card__info-item"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-icon ecl-icon--xs"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#general--calendar")})),i.a.createElement("span",{className:"ecl-card__info-label"},this.parseDate((null===a||void 0===a||null===(e=a.message)||void 0===e?void 0:e.timestamp)||""))))))}}]),a}(c.Component),Lt=(a(134),function(e){var t=e.notification,a=e.methodToClose,n=e.isModalNotificationOpen,r=e.methodToAccept,s=Object(c.useState)(!1),o=Object(h.a)(s,2),l=o[0],u=o[1],p=Object(c.useState)(""),f=Object(h.a)(p,2),E=f[0],b=f[1];return Object(c.useEffect)((function(){(function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.message.name,t.message.notificationType);case 2:a=e.sent,E!==a&&b(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),i.a.createElement($e.a,{show:n&&(0===t.message.notificationType||1===t.message.notificationType),onHide:a,size:"lg"},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,{className:"ModalTitleCredential"},E)),i.a.createElement($e.a.Body,null,!l&&i.a.createElement(i.a.Fragment,null,1===t.message.notificationType&&i.a.createElement(vt,{data:t.dataDecoded||""}),0===t.message.notificationType&&i.a.createElement(wt,{data:t.dataDecoded||""})),l&&i.a.createElement(gt.a,{id:"json-pretty-store",data:t.dataDecoded})),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{className:"ecl-button ecl-button--ghost",type:"button",onClick:a},"Close"),l?i.a.createElement("button",{className:"ecl-button ecl-button--secondary",type:"button",onClick:function(){l&&u(!1)}},"Close Details"):i.a.createElement("button",{className:"ecl-button ecl-button--secondary",type:"button",onClick:function(){u(!0)}},"Open Details"),i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:function(){return r(t)}},"Accept")))}),Rt=a(373),Bt=a.n(Rt),Ft=function(e,t){return e.length===t.length&&e.every((function(e){return t.some((function(t){return e.length===t.length&&e.every((function(e){return t.indexOf(e)>-1}))}))}))},Ut=a(229),Wt=a.n(Ut),Mt=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={issuer:"",name:""},n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.credential,e.next=3,I(t);case 3:return a=e.sent,e.next=6,D(t.name,"credential",t.did);case 6:n=e.sent,this.setState({issuer:a,name:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.credential,a=e.methodToSelect,n=e.defaultChecked,r=this.state,s=r.issuer,c=r.name;return i.a.createElement("label",{htmlFor:t.id},i.a.createElement("article",{className:"".concat(Wt.a.credentialItem," ecl-card"),key:t.id},i.a.createElement("div",{className:"".concat(Wt.a.checkbox," ecl-checkbox")},i.a.createElement("input",{className:"ecl-checkbox__input",id:t.id,name:t.id,type:"checkbox",defaultChecked:n,onChange:function(){return a(t.hash,t.type)}}),i.a.createElement("div",{className:"ecl-checkbox__label"},i.a.createElement("span",{className:"ecl-checkbox__box"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-checkbox__icon ecl-icon ecl-icon--s"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#ui--check")}))))),i.a.createElement("header",{className:"ecl-card__header"},i.a.createElement("h1",{className:"ecl-card__title"},i.a.createElement("img",{src:ut.a,height:"32",width:"32",className:"rounded mr-2",alt:""})," ",c)),i.a.createElement("div",{className:"ecl-card__body"},i.a.createElement("div",{className:"ecl-card__description"},"Issued by: ",s))))}}]),a}(i.a.Component),Gt=(a(355),a(356),function(e){if(!e)throw new Error("No data provided");return{issuer:e.issuer,type:e.type,subscriberURL:e.subscriberURL,redirectURL:e.redirectURL}}),Ht=function(e){var t=e.notification,a=e.methodToClose,r=e.isModalNotificationOpen,s=e.methodToAccept,o=Object(c.useState)([]),l=Object(h.a)(o,2),u=l[0],p=l[1],f=Object(c.useState)(""),E=Object(h.a)(f,2),b=E[0],y=E[1],g=Object(c.useState)(""),v=Object(h.a)(g,2),w=v[0],N=v[1],O=Object(c.useState)(Ge),_=Object(h.a)(O,2),T=_[0],k=_[1],I=Object(c.useState)(!0),A=Object(h.a)(I,2),C=A[0],j=A[1],D=function(){var e=Object(S.a)(T.message.data.base64),t=n.presentationInputFromJSON(e).type;if(!t||!T.selectedCredsTypes)return!0;if(T.selectedCredsTypes.length<=0)return!0;if(!Array.isArray(T.selectedCredsTypes[0]))return!0;var a=T.selectedCredsTypes;return Ft(t,a)},P=function(){var e;return(null===T||void 0===T||null===(e=T.selectedCredentials)||void 0===e?void 0:e.length)>=function(){var e,t,a=Object(S.a)(null===T||void 0===T||null===(e=T.message)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.base64),r=n.presentationInputFromJSON(a).type;return r?r.length:0}()},R=function(e,t){var a=Bt()(T),n=a.selectedCredentials.indexOf(e);-1===n?(a.selectedCredentials.push(e),a.selectedCredsTypes.push(t)):(a.selectedCredentials.splice(n,1),a.selectedCredsTypes.splice(n,1)),k(a)};return Object(c.useEffect)((function(){var e=!0,a=function(){var a=Object(m.a)(d.a.mark((function a(n){var r,s,c,i,o,l,u,m;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p([]),j(!0),a.next=4,Je(n);case 4:r=a.sent,s=r.status,c=r.data,!e||200!==s&&201!==s||(l=c.items.filter((function(e){return Array.isArray(e.type)&&e.type.length>0&&e.type.includes("VerifiableCredential")})),n&&k(n),u=Object(S.a)(null===t||void 0===t||null===(i=t.message)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.base64).type,m=function(e){return u.some((function(t){return(Array.isArray(e.type)?e.type:[e.type]).every((function(e){return t.includes(e)}))}))},p(l.filter(m)),j(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(m.a)(d.a.mark((function a(){var n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(""),a.next=3,x(t.sender);case 3:n=a.sent,e&&y(n);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return a(t),r(),function(){var e,a,r=Object(S.a)(null===t||void 0===t||null===(e=t.message)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.base64),s=n.presentationInputFromJSON(r).type;N(function(e){var t="Select Requested Credentials";if(!e)return t;if(Array.isArray(e[0])){var a=e.reduce((function(e,t){return"string"!==typeof t[0]?"Not valid type":"".concat(e,", ").concat(L(t[t.length-1])," ")}),"Select: ");return a.includes("Not valid type")?t:function(e,t,a){var n=a.lastIndexOf(e);if(-1===n)return a;var r=a.substring(0,n),s=a.substring(n+e.length);return"".concat(r+t+s,"s")}(",","and","".concat(a.replace(": ,",":"),"Credential"))}return"string"===typeof e[0]?"Select: ".concat(L(e[e.length-1])," Credential"):t}(s))}(),function(){e=!1}}),[t]),i.a.createElement($e.a,{show:r&&2===t.message.notificationType,onHide:a},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,null,"Create presentation"),C&&i.a.createElement(Pe.a,{className:"spinner",animation:"border",role:"status",variant:"danger"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement($e.a.Body,null,b&&i.a.createElement("p",{className:"ecl-u-type-paragraph"},b," requested a presentation."),w&&i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,w)),!C&&0===u.length&&i.a.createElement("p",null,"You don\u2019t have any credential at the moment. Follow the demonstrator to create some."),!C&&u.map((function(e){return i.a.createElement(Mt,{credential:e,key:e.id,methodToSelect:R,defaultChecked:T.selectedCredentials.indexOf(e.hash)>=0})})),P()&&!D()&&i.a.createElement("p",{className:"ecl-u-type-color-red"},"Please, select the Credentials types specified.")),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{className:"ecl-button ecl-button--ghost",type:"button",onClick:a},"Close"),i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:function(){return s(T)},disabled:!P()||!D()},"Create presentation")))},Kt=function(e){var t=e.notification,a=e.methodToClose,n=e.isModalNotificationOpen,r=e.methodToSign;return i.a.createElement($e.a,{show:n&&4===t.message.notificationType,onHide:a},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,null,C(t.message.notificationType,t.message.name,t.message.redirectURL))),i.a.createElement($e.a.Body,{className:"ModalBody"},"Your are about to sign ",t.message.name),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{className:"ecl-button ecl-button--ghost",type:"button",onClick:a},"Close"),i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:r},"Sign It")))},qt=function(e){var t=e.notification,a=e.methodToClose,n=e.isModalNotificationOpen,r=e.methodToSign;return i.a.createElement($e.a,{show:n&&3===t.message.notificationType,onHide:a},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,null,C(t.message.notificationType,t.message.name,t.message.redirectURL))),i.a.createElement($e.a.Body,{className:"ModalBody"},"Please sign with your private key your eID presentation before sending it."),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{className:"ecl-button ecl-button--ghost",type:"button",onClick:a},"Close"),i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"button",onClick:r},"Sign It")))},Vt=function(e){var t=e.notification,a=e.methodToClose,n=e.isModalNotificationOpen,r=e.methodToAccept,s=e.methodToSign;return 0===t.message.notificationType||1===t.message.notificationType?i.a.createElement(Lt,{notification:t,isModalNotificationOpen:n,methodToClose:a,methodToAccept:r}):2===t.message.notificationType?i.a.createElement(Ht,{notification:t,isModalNotificationOpen:n,methodToClose:a,methodToAccept:r}):3===t.message.notificationType?i.a.createElement(qt,{notification:t,isModalNotificationOpen:n,methodToClose:a,methodToSign:s}):4===t.message.notificationType?i.a.createElement(Kt,{notification:t,isModalNotificationOpen:n,methodToClose:a,methodToSign:s}):null},zt=a(230),Yt=w.REACT_APP_DEMO;!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Error=2]="Error"}(St||(St={})),function(e){e[e.None=0]="None",e[e.Validating=1]="Validating",e[e.Success=2]="Success",e[e.Error=3]="Error"}(xt||(xt={}));var Jt,Qt=function(e){var t=e.history,a=Object(c.useState)([]),n=Object(h.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(St.Loading),l=Object(h.a)(o,2),u=l[0],p=l[1],f=Object(c.useState)(""),E=Object(h.a)(f,2),y=E[0],g=E[1],v=Object(c.useState)(Ge),w=Object(h.a)(v,2),O=w[0],_=w[1],T=Object(c.useState)(!1),k=Object(h.a)(T,2),x=k[0],I=k[1],A=Object(c.useState)(!1),C=Object(h.a)(A,2),j=C[0],D=C[1],P=Object(c.useState)(pt.EC_GREEN),L=Object(h.a)(P,2),R=L[0],B=L[1],W=Object(c.useState)("Error"),M=Object(h.a)(W,2),G=M[0],H=M[1],K=Object(c.useState)(!1),q=Object(h.a)(K,2),V=q[0],z=q[1],Y=Object(c.useState)(!1),J=Object(h.a)(Y,2),Q=J[0],X=J[1],Z=Object(c.useState)(!1),$=Object(h.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(xt.None),ne=Object(h.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(c.useState)(""),ue=Object(h.a)(oe,2),de=ue[0],me=ue[1],pe=Object(se.a)(),he=pe.register,fe=pe.handleSubmit,Ee=pe.errors,be=function(e){D(!0),H(e),B(pt.EC_RED),I(!1)},ye=function(e){D(!0),H(e),B(pt.EC_GREEN),I(!1)},ge=function(e){z(!0),_(e)},ve=function(){z(!1),ce(xt.None),me("")},we=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t).selectedCredentials=[],a.selectedCredsTypes=[],a.dataDecoded=Object(S.b)(t.message.data.base64),ge(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){X(!1)},Te=function(){var e=Object(m.a)(d.a.mark((function e(a){var n,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.message.notificationType,r={},s=a.id,2===n&&(r={selectedCredentials:a.selectedCredentials}),e.next=7,U(s,r);case 7:200===(c=e.sent).status||201===c.status?(ye(c.data.message),ve(),window.location.reload()):(404===c.status&&(be("Token invalid."),i="",t.push("/".concat(i))),be("Error signing the notification. ".concat(c.data))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),ve(),be("Error sending the notification.");case 15:case"end":return e.stop()}var i}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){var r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.id,e.next=4,Object(zt.b)(t,a,n);case 4:return s=e.sent,e.next=7,U(r,s);case 7:200===(c=e.sent).status||201===c.status?(ye(c.data.message),Ne(),void 0!==c.data.id&&""!==c.data.id?window.location.assign(c.data.id):window.location.reload()):404===c.status?me("Token invalid."):me("Error signing the notification ".concat(c.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),me("Error signing the notification.");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ce(xt.Validating),a=t.passwordForKeyGeneration){e.next=5;break}throw new Error("No password provided");case 5:return n=N.a.Instance,e.next=8,Object(zt.a)(n,a);case 8:return e.next=10,ke(n,a,O);case 10:ce(xt.Success),Ne(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),me(e.t0.toString()),ce(xt.Error);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),p(St.Loading),e.next=4,F(Object(b.c)()||"");case 4:200===(t=e.sent).status||201===t.status?(a=t.data.items,n=a.map((function(e){return i.a.createElement(Pt,{notification:e,key:e.id,methodToOpen:we})})),s(n),p(St.Success),I(!1)):(I(!1),g("Error getting the notifications: ".concat(t.data)),p(St.Error));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(je,null),i.a.createElement(bt,{isToastOpen:j,methodToClose:function(){D(!1)},toastColor:R,colorText:pt.WHITE,toastMessage:G}),i.a.createElement(Le,{title:"Notifications Page",subtitle:"List of the pending notifications to be signed.",isLoadingOpen:x}),i.a.createElement("main",{className:"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l"},i.a.createElement($e.a,{show:Q,onHide:Ne},i.a.createElement("form",{onSubmit:fe(Se)},i.a.createElement($e.a.Header,{className:"ModalHeader",closeButton:!0},i.a.createElement($e.a.Title,null,"Sign It")),i.a.createElement($e.a.Body,{className:"ModalBody"},i.a.createElement("div",{className:"ecl-form-group"},i.a.createElement("label",{className:"ecl-form-label",htmlFor:"password-key-gen"},"Please enter your secret to unlock your private key for signing."),Ee.passwordForKeyGeneration&&i.a.createElement("div",{className:"ecl-feedback-message"},Ee.passwordForKeyGeneration.message||"Invalid password!"),i.a.createElement("input",{type:"password",id:"password-key-gen",name:"passwordForKeyGeneration",className:ie()("ecl-text-input ecl-u-width-100",{"ecl-text-input--invalid":Ee.passwordForKeyGeneration}),placeholder:"Password",ref:he({required:"The password can't be empty!"})})),de&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error ecl-u-mt-m","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},de)))),i.a.createElement($e.a.Footer,null,i.a.createElement("button",{className:"ecl-button ecl-button--ghost",type:"button",onClick:Ne},"Cancel"),i.a.createElement("button",{className:"ecl-button ecl-button--primary",type:"submit",disabled:re===xt.Validating},re===xt.Validating?"Validating...":"Validate")))),i.a.createElement(Vt,{notification:O,isModalNotificationOpen:V,methodToClose:ve,methodToAccept:Te,methodToSign:function(){ve(),X(!0)}}),u===St.Error&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},"Error"),i.a.createElement("p",{className:"ecl-message__description"},y))),u===St.Success&&0===r.length&&i.a.createElement("p",null,"You don\u2019t have any notification at the moment. Follow the"," ",i.a.createElement("a",{className:"ecl-link",href:Yt},"demonstrator")," ","to create some."),i.a.createElement("div",{"data-tut":"reactour_notifications"},r)),i.a.createElement(De,null),i.a.createElement("button",{onClick:function(){te(!0)},className:"ecl-button ecl-button--primary tourButton",type:"button",title:"Open guided tour"},"?"),i.a.createElement(_e.a,{steps:Fe,isOpen:ee,onRequestClose:function(){te(!1)},onAfterOpen:function(e){Object(Oe.a)(e)},onBeforeClose:function(e){Object(Oe.b)(e)}}))},Xt=(a(751),w.REACT_APP_DEMO);!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Error=2]="Error"}(Jt||(Jt={}));var Zt=function(e){Object(ve.a)(a,e);var t=Object(we.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).disableBody=function(e){Object(Oe.a)(e)},n.enableBody=function(e){Object(Oe.b)(e)},n.openTour=function(){n.setState({isTourOpen:!0})},n.closeTour=function(){n.setState({isTourOpen:!1})},n.state={presentations:[],presentationsStatus:Jt.Loading,presentationsError:"",credential:Me,isToastOpen:!1,toastColor:pt.EC_GREEN,isModalCredentialOpen:!1,toastMessage:"Error",isLoadingOpen:!1,isTourOpen:!1},n.displayCredential=n.displayCredential.bind(Object(ct.a)(n)),n.closeModalCredential=n.closeModalCredential.bind(Object(ct.a)(n)),n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){Object(b.a)()?this.redirectTo(""):g(Object(b.c)())&&window.location.assign(J()),this.getCredentials()}},{key:"getCredentials",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:200===(t=e.sent).status||201===t.status?(a=t.data.items,n=a.filter((function(e){return"VerifiablePresentation"===e.name})).map((function(e){return i.a.createElement(dt,{credential:e,key:e.id,methodToOpen:r.displayCredential})})),this.setState({isLoadingOpen:!1,presentationsStatus:Jt.Success,presentations:n})):(404===t.status&&(this.openToast("Token invalid."),this.redirectTo("")),this.setState({isLoadingOpen:!1,presentationsStatus:Jt.Error,presentationsError:"Error getting the presentations: ".concat(t.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"displayCredential",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:200===(a=e.sent).status||201===a.status?this.openModalCredential(a.data):(404===a.status&&(this.openToast("Token invalid."),this.redirectTo("")),this.openToast("Error getting the credential. ".concat(a.data)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openModalCredential",value:function(e){var t=e;t.dataDecoded=Object(S.b)(e.data.base64),this.setState({isModalCredentialOpen:!0,credential:t})}},{key:"closeModalCredential",value:function(){this.setState({isModalCredentialOpen:!1})}},{key:"redirectTo",value:function(e){this.props.history.push("/".concat(e))}},{key:"openToast",value:function(e){this.setState({isToastOpen:!0,toastMessage:e,isLoadingOpen:!1,toastColor:pt.EC_RED})}},{key:"openSuccessToast",value:function(e){this.setState({isToastOpen:!0,toastMessage:e,toastColor:pt.EC_GREEN,isLoadingOpen:!1})}},{key:"closeToast",value:function(){this.setState({isToastOpen:!1})}},{key:"render",value:function(){var e=this.state,t=e.presentations,a=e.presentationsStatus,n=e.presentationsError,r=e.credential,s=e.isToastOpen,c=e.isModalCredentialOpen,o=e.toastColor,l=e.toastMessage,u=e.isTourOpen,d=e.isLoadingOpen;return i.a.createElement(i.a.Fragment,null,i.a.createElement(je,null),i.a.createElement(bt,{isToastOpen:s,methodToClose:this.closeToast,toastColor:o,colorText:pt.WHITE,toastMessage:l}),i.a.createElement(Le,{title:"Presentations Page",subtitle:"List of your presentations history.",isLoadingOpen:d}),i.a.createElement("main",{className:"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l"},i.a.createElement(Tt,{credential:r,isModalCredentialOpen:c,methodToClose:this.closeModalCredential}),a===Jt.Error&&i.a.createElement("div",{role:"alert",className:"ecl-message ecl-message--error","data-ecl-message":"true"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-message__icon ecl-icon ecl-icon--l"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#notifications--error")})),i.a.createElement("div",{className:"ecl-message__content"},i.a.createElement("div",{className:"ecl-message__title"},"Error"),i.a.createElement("p",{className:"ecl-message__description"},n))),a===Jt.Success&&0===t.length&&i.a.createElement("p",null,"You don\u2019t have any presentation at the moment. Follow the"," ",i.a.createElement("a",{className:"ecl-link",href:Xt},"demonstrator")," ","to create some."),i.a.createElement("div",{"data-tut":"reactour_presentations"},t)),i.a.createElement(De,null),i.a.createElement("button",{onClick:this.openTour,className:"ecl-button ecl-button--primary tourButton",type:"button",title:"Open guided tour"},"?"),i.a.createElement(_e.a,{steps:Ue,isOpen:u,onRequestClose:this.closeTour,onAfterOpen:this.disableBody,onBeforeClose:this.enableBody}))}}]),a}(c.Component),$t=function(e){var t=e.children,a=Object(se.a)(),n=a.register,r=a.handleSubmit,s=a.errors;return Object(b.e)()?i.a.createElement(i.a.Fragment,null,t):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ecl-u-bg-blue"},i.a.createElement("div",{className:"ecl-container ecl-u-pv-m ecl-u-pv-lg-2xl"},i.a.createElement("h1",{className:"ecl-u-type-heading-1 ecl-u-type-color-white"},"Welcome to your EBSI wallet"))),i.a.createElement("div",{className:"ecl-container ecl-u-flex-grow-1 ecl-u-pv-l"},i.a.createElement("h2",{className:"ecl-u-type-heading-2"},"Terms and Conditions"),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"Find more information by"," ",i.a.createElement(o.b,{to:"/termsAndConditions",className:"ecl-link"},"clicking here"),"."),i.a.createElement("form",{onSubmit:r((function(){Object(b.k)(!0)}))},i.a.createElement("div",{className:"ecl-form-group"},i.a.createElement("input",{type:"checkbox",className:"ecl-checkbox__input",id:"terms",name:"terms",ref:n({required:!0})}),i.a.createElement("label",{htmlFor:"terms",className:"ecl-form-label ecl-checkbox__label"},i.a.createElement("span",{className:"ecl-checkbox__box"},i.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"ecl-checkbox__icon ecl-icon ecl-icon--s"},i.a.createElement("use",{xlinkHref:"".concat(le.a,"#ui--check")}))),"I agree to the Terms and Conditions")),i.a.createElement("button",{type:"submit",className:"ecl-button ecl-button--primary ecl-u-mt-l"},"Continue"),s.terms&&i.a.createElement("div",{className:"ecl-feedback-message ecl-u-mt-m"},"You must agree to the Terms and Conditions before continuing."))),i.a.createElement(De,null))},ea=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"ecl-u-bg-blue"},i.a.createElement("div",{className:"ecl-container ecl-u-pv-m ecl-u-pv-lg-2xl"},i.a.createElement("h1",{className:"ecl-u-type-heading-1 ecl-u-type-color-white"},"Terms and conditions"),i.a.createElement("p",{className:"ecl-u-type-paragraph ecl-u-type-color-white"},"EBSI Wallet"))),i.a.createElement("main",{className:"ecl-container ecl-u-pv-l"},i.a.createElement("div",{className:"ecl-u-mt-l ecl-u-mb-2xl"},i.a.createElement("h2",{className:"ecl-u-type-heading-2"},"General terms & conditions for applications."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"GENERAL CONDITIONS OF USE OF THE APPLICATION \u201cEBSI WALLET DID\u201d.")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"YOUR ACCEPTANCE OF THIS AGREEMENT WILL BE DEFINITIVELY EVIDENCED BY ANY ONE OF THE FOLLOWING MEANS: DOWNLOADING THE SOFTWARE, INSTALLING THE SOFTWARE, RUNNING THE SOFTWARE, AND/OR ANY USE OF THE SOFTWARE, AND YOUR ACCEPTANCE SHALL BE EFFECTIVE ON THE EARLIER OF THE DATE ON WHICH YOU DOWNLOAD, ACCESS, COPY, OR INSTALL THE SOFTWARE PROVIDED HEREUNDER (THE \u201cEFFECTIVE DATE\u201d).IF YOU DO NOT AGREE TO THESE TERMS AND CONDITIONS, DO NOT CHECK THE ACCEPTANCE BOX, AND DO NOT DOWNLOAD, ACCESS, COPY, INSTALL OR USE THE SOFTWARE."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"PLEASE READ THE FOLLOWING TERMS AND CONDITIONS CAREFULLY BEFORE DOWNLOADING, INSTALLING OR USING THE SOFTWARE."," ",i.a.createElement("strong",null,"THESE TERMS AND CONDITIONS CONSTITUTE A LEGAL AGREEMENT BETWEEN YOU.")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Purpose.-")," By downloading, using or accessing the EBSI WALLET DID application (the \u201capplication\u201d, or the \u201cwallet\u201d) you agree to the following terms and conditions of use (collectively, these \u201cTerms\u201d). Please read these Terms carefully. If you do not agree to all of these Terms, please do not use the application. Your use of the EBSI Wallet DID application constitutes your acceptance of and agreement to abide by each of these Terms."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Download of the application and access to the Service.-")," ","Access to the application is via an EU login, currently requiring only a valid email. The application download is free, but the cost of the connection necessary for the operation of the same through your mobile device, will be at your sole expense and charge according to the rate you have contracted with your mobile phone operator."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"The application is intended for use, basically, by citizens (hereinafter \u201ccitizens \u201d) residing in EU or accessing from EU, so EU declines all responsibility for the access of persons in jurisdictions where such distribution or use they could be contrary to the norm or regulation. Certain services may not be available or authorized in all jurisdictions or for all persons."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"EU reserves the right to eliminate, limit or prevent access to the application for objectively justified reasons related to security or the suspicion of unauthorized or fraudulent use. Likewise, EU reserves the right to withdraw the application from the market when it seems it convenient and without prior notice to the USERS."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Software License.-")," You fully understand and accept that the Software is licensed to you, not sold. For the term of your participation we grant you a personal, non-exclusive, non-transferable, non-assignable, non-sub-licensable, revocable and limited license to install a copy of the application on your personal device. This limited license is solely for your personal and non-commercial use."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Responsibilities of the user.-")," The user undertakes to use the services and contents that are provided through the application in accordance with the current legislation applicable to each of them, the principles of good faith and generally accepted uses. Any use for illegal purposes or that harms or could damage in any way, the use and normal operation of the application, is prohibited."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"Any use for purposes contrary to the content of these Conditions of Use is prohibited, harmful to the interests or rights of third parties, or that in any way may damage, disable, render inaccessible or deteriorate the application, its contents or its services or intended for prevent a normal enjoyment of it by users.",i.a.createElement("br",null),"EU does not respond in any way to the actions that the user could perform for the improper use of the application.",i.a.createElement("br",null),"Registration in the application on behalf of and on behalf of any other person without their authorization is totally prohibited.",i.a.createElement("br",null),"The user always has the obligation to be diligent and take the necessary security measures to maintain the confidentiality of his access to the application, his password for the key generation, private keys and encryption secrets. In the event that such confidentiality is altered, you must notify EU without undue delay, any unauthorized access, improper use, misuse by third parties, loss, loss or subtraction of your keys, as soon as you have knowledge or suspicion of such circumstances.",i.a.createElement("br",null),"The device on which you install this application can receive notifications of the operations you perform through it, information that anyone with access to the device could see. The application implements security measures and it is very important that you do not disable them, as well as those of access to the device itself. Additionally, it is convenient that in any case you close the application when you finish your session."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Requirements for the use of services and content.-")," ","The access and/or use of the application is completely voluntary and attributes to the person who performs it the condition of user, just installing the application on your mobile device for use. Every user, when installing the application, accepts the present conditions of use and data protection. Consequently, the user must read and accept each other carefully before installing the application, having updated information on them on the website"," ",i.a.createElement("a",{className:"ecl-link",href:"https://ec.europa.eu/info/legal-notice_en"},"https://ec.europa.eu/info/legal-notice_en")," ","or in the application."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"In any case, EU reserves the right, at any time and without prior notice, to modify these conditions of use.",i.a.createElement("br",null),"Likewise, the reproduction, distribution, transmission, adaptation or modification, by any means and in any form, of the contents of the application (texts, designs, graphics, information, databases, sound and/ or image files, logos and other elements is prohibited), unless prior authorization of EU or when so permitted by law. Any commercial or advertising use, other than that strictly permitted, where appropriate, and the violation, in general, of any rights derived therefrom, are prohibited."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Limitation of Liability.-")," EU does not guarantee or be held liable, in any case or circumstance, for the following facts and contents, or for any damages that may, where appropriate, arise from them:"),i.a.createElement("ul",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"Lack of availability, continuity, access, maintenance and effective operation of the application and/or its services and updating, accuracy, completeness, relevance, timeliness and reliability of its contents, whatever the cause and technical difficulties or problems or another nature in which these facts originate."),i.a.createElement("li",null,"The transmission and/or existence of viruses, other elements or programs harmful to the devices of the users that could affect them, as a consequence of the access, use or examination of the application site, or that produced alterations in their electronic documents or files."),i.a.createElement("li",null,"Vices or defects of the contents and/or services that are accessed through the application."),i.a.createElement("li",null,"For the reception, storage, obtaining, dissemination or transmission by the users of the contents of the application.")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"The above enumeration is merely enunciative and is not, in any case, exclusive or exclusive in any of its points. In all cases, EU excludes any liability for damages of any kind derived directly or indirectly from them and from any other unspecified of similar characteristics.",i.a.createElement("br",null),"The acceptance of these Conditions of Use by downloading the application and using the service is valid and binding for both parties. The contract will last indefinitely."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Withdrawal, cancellation and / or withdrawal. -")," The user may at any time withdraw from the service by uninstalling the application from his device, without needing to communicate anything to EU. These general conditions will be governed by EU legislation."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Extrajudicial claim procedure. Applicable legislation and jurisdiction. -")," ","In case of divergence on any matter related to these general conditions, you can make a prior claim to the EU at the address"," ",i.a.createElement("a",{className:"ecl-link",href:"https://ec.europa.eu/"},"https://ec.europa.eu/"),".",i.a.createElement("br",null),"These general conditions will be governed by EU legislation. Issues that arise on the occasion of the interpretation, application or execution thereof are subject to the jurisdiction of the Belgium courts and tribunals that are competent in accordance with Belgium procedural legislation."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Privacy policy.-")," The data you provide us when installing or downloading the Application will be processed by the European Commission or Member State hosting an EBSI Stack Node to make available a service consisting of access and use of the functionalities available in every moment They will not be communicated to any third party, unless legally binding, and will not be used for any other purpose.",i.a.createElement("br",null),"All legal issues related to the use of your data in the framework of the Application (for example, retention periods, recipients, as well as your rights) are those collected at"," ",i.a.createElement("a",{className:"ecl-link",href:"https://www.EU/legal/privacy-policy/"},"https://www.EU/legal/privacy-policy/")," ","."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Security.-")," In compliance with current regulations, EU has adopted the necessary technical and organizational measures to maintain the level of security required in response to the personal data processed. It is also equipped with the precise mechanisms at its disposal to avoid as far as possible unauthorized access, subtractions and illegal modifications and loss of data. Additionally, EU recommends to the USER the use of all the security tools at his disposal, not being responsible EU for theft, modification or loss of illegal data caused by illegitimate intrusions in his mobile device."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Intellectual property.-")," EU retains all right, title and interest in and to the Application including all copyright, patents, trade secrets, trademarks, trade names, logos, slogans, custom graphics, button icons, scripts, videos, text, images, software, code, files, content, information and other intellectual property rights and nothing may be copied, imitated or used, in whole or in part, without our express prior written consent. EU reserves all rights not expressly granted.",i.a.createElement("br",null),"Nothing in these Terms will be construed as conferring any right or license to any patent, trademark, copyright or other intellectual property or proprietary rights of EU or any third party by implication or otherwise."),i.a.createElement("br",null),i.a.createElement("p",{className:"bigger ecl-u-type-paragraph"},"Specific terms & conditions for subjects and third parties using verifiable IDs and attestations Obligations of subjects who receive credentials"),i.a.createElement("br",null),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"The user or EBSI wallet holder.-")," These are natural persons, citizens of the EU, with a mobile phone device under their control, who have voluntarily registered through an EU login (currently only a valid email is required), and who, by accepting the terms of use of the application, they have create an EBSI wallet DID, which allows them to identify themselves and/or prove their identity in the manner provided by the terms of use.",i.a.createElement("br",null),"EBSI wallet holders have control over their private keys and encryption secrets and receive backup phrases for their private keys. EBSI Wallet holders can perform write transactions in the EBSI blockchain."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Ownership of the service and other elements.-")," The user recognizes that the EU is the owner of all the computer software applications and specifications that it provides.",i.a.createElement("br",null),"The user will have a non-exclusive license, with the character of unlimited and non-transferable, of software and other elements delivered by the EU, in connection with the provision of the service.",i.a.createElement("br",null),"This license of use is limited to the uses described in this document and related documentation as it is seen in the Internet address EBSI"),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Obligations of the users.-")),i.a.createElement("ol",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"Service request: the user expressly requests the provision of the EBSI Wallet DID and is obliged to use it in accordance with the procedures, service regulations, and, where appropriate, the technical components supplied by the EU."),i.a.createElement("li",null,"Accuracy of the information: The user will be obliged to provide the necessary data for the provision of the service, and must be responsible for ensuring that all the information included, by any means, in the application is accurate, complete for the purpose of the service, and is updated during the provision of the service. The user must immediately inform the UE of any inaccuracies detected once the application has been registered, as well as the changes that occur in the information provided"),i.a.createElement("li",null,"Delivery and acceptance of the service: The user accepts these conditions at the time of entering their data, and accept the service on their mobile device, by checking the corresponding box."),i.a.createElement("li",null,"Obligation of custody: The user is obliged to guard the confidentiality of his access to the application, his password for the key generation, private keys and encryption secrets. In case of loss or theft of the mobile device, it is necessary that you immediately request the suspension or revocation of the service through the same application, from an authorized office, through the web, or another enabled telephone channel."),i.a.createElement("li",null,"Obligations of correct use: The user is obliged to use the service exclusively for the authorized uses in these Specific terms & conditions. The user must comply with any law and regulation that may affect his right to use the system and specifically, the applicable regulations regarding trust services in whatever is appropriate. The user cannot adopt inspection, alteration or decompilation measures of application without the prior express permission of the EU."),i.a.createElement("li",null,"Prohibited transactions: The user undertakes not to use the EBSI wallet DID or any other technical support provided by the EU to carry out any transaction prohibited by applicable law. EBSI wallet DID has not been designed or in any case allows its use or resale as control equipment for dangerous situations, or for uses that require error-proof actions, such as the operation of nuclear facilities, navigation systems or aerial communication, systems of air traffic control or weapons control systems, where an error could directly cause death, physical damage or serious environmental damage.")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"Obligations of the third parties using verifiable IDs and attestations"),i.a.createElement("ol",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"Third parties using verifiable IDs and attestations (Third parties), are obliged to provide the services in the manner provided in terms and conditions, in the documentation of the applicable EBSI Wallet DID services, and subject to the current regulatory legislation, including, when applicable, the Regulation (EU) ) n\xba 910/2014, of July 23 and the legislation that is dictated for its development, to its own pacts"),i.a.createElement("li",null,"Specifically, third parties are obligated to:",i.a.createElement("ul",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"Identify and authenticate the User or wallet holder, correctly."),i.a.createElement("li",null,"Safely keep all the information and evidence generated as a result of its activity."),i.a.createElement("li",null,"Enable the necessary computer and telematic system to validate transactions."),i.a.createElement("li",null,"Fulfil its obligations derived from the GDPR, and specifically store the strict information necessary for the provision of the service.")))),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Terms & conditions for node operators."),i.a.createElement("br",null)," ",i.a.createElement("br",null),"This document establishes the terms and conditions for node operators.",i.a.createElement("br",null)," ",i.a.createElement("br",null),i.a.createElement("strong",null,"Presentation.-")," EBSI Platform is a peer to peer network of interconnected nodes of two types:"),i.a.createElement("ol",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"EBSI nodes at European level, operate by the Commission"),i.a.createElement("li",null,"EBSI nodes at a national level, operate by following Member States: Italy, Spain, Belgium, France, Sweden, Austria, Malta.")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"All the nodes will be able to create and broadcast transactions that will update the ledger."),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"The architecture of each node will be composed of two main functional areas:"),i.a.createElement("ul",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"A set of four layers comprising components which together provide the EBSI infrastructure, which contain capabilities common to all use cases. These layers will include generic capabilities and connectivity to Blockchain networks."),i.a.createElement("li",null,"A set of two layers comprising use case-specific components enabling support for hosting of business applications.")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"EBSI V1.0 Stack Nodes"),i.a.createElement("br",null),"EBSI 1.0 is a public permissioned network that requires EBSI full-stack nodes infrastructure, with several distributed validator nodes, basic redundancy, capacity to handle smart contracts, run transactions on those smart-contracts, with access control mechanism on them (Note: access control on smart contracts may not be all the time a core feature as it may imply wide type of implementations).",i.a.createElement("br",null),"All the members of the consortium (network) will use the same open-source EBSI Stack Node template. Each member of the network will activate/deactivate any module (container) of the Stack Node Template, based on the predefined agreement in respect to the use cases that will be implemented.",i.a.createElement("br",null),"For EBSI v1.0, the nodes will run on the host operating system Linux. A single Stack Node template is composed of a set of containers, that can be run with different containers managers (Docker has been selected for the V1.0) and that can be deployed on Virtual Machines node.",i.a.createElement("br",null),"To setup the EBSI v1.0 network, a minimum set of redundant nodes will be deployed by DIGIT for the European Commission. While European Commission will utilize its own infrastructure provider (based on the existing Cloud Framework contract), each Member State will define one or more contributing entities that will setup an EBSI node directly within their existing premises or through their own provider. All European Commission\u2019s nodes will be implemented on VM machines in the cloud, spread in different European geo-locations as depicted below.",i.a.createElement("br",null),"At any time EBSI team may (and will) assess the overall structure of EBSI in order to ensure full decentralization and avoid concentration of nodes (e.g. in a specific member state or managed by a specific cloud provider).",i.a.createElement("br",null),"All bare metal VM machines used for the EBSI v1.0 Stack Nodes will have the following minimum technical requirements:"),i.a.createElement("ul",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"4vCPU"),i.a.createElement("li",null,"16G RAM"),i.a.createElement("li",null,"1TB SSD"),i.a.createElement("li",null,"Linux OS")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},"Inside each EBSI bare-metal VM node, each sub-component will run in a dedicated docker container. Ubuntu server 18.04 LTS will be used for the docker container OS. If the Member State will also handle specific services managing application capabilities, additional computer infrastructure may be needed. Whenever Member States/Entities will have their existing business logic running in their IT Infrastructure, EBSI Application API/Libraries will require to be installed on their environment in order to permit their existing business process to integrate with EBSI Network infrastructure.",i.a.createElement("br",null),"The Stack Nodes will be interconnected with each other at containers level.",i.a.createElement("br",null)),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"General Architecture Aspects "),i.a.createElement("br",null),"See:"," ",i.a.createElement("a",{className:"ecl-link",href:"https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/Minimum+Technical+Requirements+for+an+EBSI+v1.0+NODE+Deployment"},"Minimum Technical Requirements for an EBSI v1.0 NODE Deployment within Member States or Institutions"),i.a.createElement("br",null)),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Technical Requirements.-")," EBSI data stores include Ethereum/Fabric blockchains, Cassandra database distributed to all nodes, Gluster file system distributed to all nodes, Mongo DB database particular to each node.",i.a.createElement("br",null),"EC Node Infrastructure Architecture - to be published on CEF Building Blocks Web Site >"," ",i.a.createElement("a",{className:"ecl-link",href:"https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/EBSI"},"EBSI")," ","or requested from EBSI support at"," ",i.a.createElement("a",{className:"ecl-link",href:"mailto:CEF-EBSI-support@ec.europa.eu"},"CEF-EBSI-support@ec.europa.eu")),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Terms of usage of hosting a node for the member states.-")," ","The Commission or EBP reserves the right to request a takedown of the network or node for the whole network or just one node"),i.a.createElement("p",{className:"ecl-u-type-paragraph"},i.a.createElement("strong",null,"Node Operator Authorization, Representation and Warranties, Obligations.")),i.a.createElement("ol",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"Responsibilities at all times during this Agreement:",i.a.createElement("ul",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"To comply with the terms of this Agreement and the terms of all other agreements to which you are a party in connection with your performance under this Agreement."),i.a.createElement("li",null,"To operate the Node in strict compliance with terms of this Agreement and will not take any action not expressly authorized hereunder."),i.a.createElement("li",null,"To comply with the documentation of the applicable EBSI Wallet DID services, and subject to the current regulatory legislation."),i.a.createElement("li",null,"You acknowledge and agree to, and will at all times comply with, the Node Information Policy located at:"," ",i.a.createElement("a",{className:"ecl-link",href:"https://ec.europa.eu/cefdigital/wiki/pages/viewpage.action?pageId=189432828"},"5 - EBSI v1 Node Operator Terms & Conditions")),i.a.createElement("li",null,"To not modify or attempt to modify the Software for any purpose including but not limited to attempting to circumvent the audit, bypass security, manipulate the performance of, or otherwise disrupt the Services, or otherwise interfere with the operation of the EBSI Services."),i.a.createElement("li",null,"The Node will meet all performance requirements referred to in this Agreement, as well as any performance requirements set forth in the Documentation or other instructions;"),i.a.createElement("li",null,"In connection with your use of the Software and/or operation of a Node hereunder, UE may provide notice of and may, from time to time, require you to affirm and/or re-affirm your agreement to this Agreement; your continued use of the Software is contingent upon your promptly providing such affirmation as requested by UE."))),i.a.createElement("li",null,"Restrictions You will not operate the Node except as expressly authorized hereunder. Without limiting the generality of the foregoing, you will not:",i.a.createElement("ul",{className:"ecl-u-type-paragraph"},i.a.createElement("li",null,"Operate more than one Node."),i.a.createElement("li",null,"Operate a Node that does not meet the following technical requirements")))),i.a.createElement("button",{type:"button",className:"ecl-button ecl-button--primary",onClick:function(){e.history.goBack()}},"Back")),i.a.createElement(De,null))},ta=w.REACT_APP_WALLET,aa=ta.startsWith("http")?new URL(ta).pathname:ta,na=function(){return i.a.createElement(o.a,{basename:aa},i.a.createElement(l.d,null,i.a.createElement(l.b,{exact:!0,path:"/terms",component:ea}),i.a.createElement(l.b,{exact:!0,path:"/termsAndConditions"},i.a.createElement(l.a,{to:"/terms"})),i.a.createElement(l.b,{path:"*"},i.a.createElement($t,null,i.a.createElement(ye,null,i.a.createElement(l.d,null,i.a.createElement(l.b,{path:"/auth",component:st}),i.a.createElement(l.b,{path:"/profile",component:Ze}),i.a.createElement(l.b,{path:"/notifications",component:Qt}),i.a.createElement(l.b,{path:"/presentations",component:Zt}),i.a.createElement(l.b,{path:"/credentials",component:It}),i.a.createElement(l.b,{path:"*"},i.a.createElement(l.a,{to:"/profile"}))))))))};s.a.render(na(),document.getElementById("root"))},98:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c}));var n="ebsi-wallet",r=["Store My Diploma","Store Verifiable eID","Request your eID Presentation","Request to Sign your eID Presentation","Sign ledger transaction"],s="urn:ietf:params:oauth:grant-type:jwt-bearer",c="ebsi profile user"}},[[376,1,2]]]);
//# sourceMappingURL=main.3ccd3fe7.chunk.js.map