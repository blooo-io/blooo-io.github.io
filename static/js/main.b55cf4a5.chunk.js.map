{"version":3,"sources":["screens/DidAuth/DidAuth.module.css","assets/images/step1.svg","assets/images/diploma.png","assets/images/european-union.png","screens/Login/screens/EuLogin.module.css","components/CredentialItemPresentation/CredentialItemPresentation.module.css","screens/Notifications/Notifications.utils.ts","utils/strB64dec.ts","utils/auth.ts","components/CredentialItem/CredentialItem.module.css","assets/images/eu-background.svg","components/NotificationItem/NotificationItem.module.css","secureEnclave/Util.ts","secureEnclave/UserWallet.ts","secureEnclave/SecureEnclave.ts","utils/DataStorage.ts","utils/JWTHandler.ts","config/env.ts","utils/issuer.ts","utils/StringTransformation.ts","apis/wallet.ts","screens/Login/Login.utils.ts","screens/Login/screens/ChooseMethod.tsx","apis/ecas.ts","components/Panel/Panel.tsx","screens/Login/screens/EuLogin.tsx","utils/KeysHandler.ts","screens/Login/Login.tsx","screens/Login/screens/ImportWallet.tsx","screens/Login/screens/LocalStorageWallet.tsx","screens/Login/screens/NewWallet.tsx","components/Ribbon/Ribbon.tsx","components/Header/Header.tsx","components/Footer/Footer.tsx","components/EbsiBanner/EbsiBanner.tsx","dtos/notifications.ts","utils/Tour.tsx","models/Models.ts","config/messages.ts","apis/idHub.ts","screens/Profile/Profile.tsx","screens/Credentials/Credentials.tsx","screens/DidAuth/DidAuth.utils.ts","screens/DidAuth/DidAuth.tsx","components/CredentialItem/CredentialItem.tsx","config/colors.ts","components/ToastEbsi/ToastEbsi.tsx","components/CredentialTypes/VID/VID.tsx","components/CredentialTypes/Diploma/Diploma.tsx","components/CredentialTypes/VP/VP.tsx","components/CredentialModal/CredentialModal.tsx","screens/Notifications/Notifications.tsx","components/NotificationItem/NotificationItem.tsx","components/NotificationModal/StoreCredentialModal.tsx","utils/util.ts","components/CredentialItemPresentation/CredentialItemPresentation.tsx","dtos/presentations.ts","components/NotificationModal/RequestPresentationModal.tsx","components/NotificationModal/SignTransactionModal.tsx","components/NotificationModal/SignPayloadModal.tsx","components/NotificationModal/NotificationModal.tsx","screens/Presentations/Presentations.tsx","screens/Terms/Terms.tsx","screens/TermsConditions/TermsConditions.tsx","screens/App.tsx","index.ts","config/config.ts"],"names":["module","exports","getBodyWithNotificationSigned","secureEnclave","userPassword","notificationToSign","a","body","dataDecoded","strB64dec","message","data","base64","type","notificationType","did","getDID","Error","signJwt","Buffer","from","signData","signature","txJSON","JSON","parse","signTx","decryptKeys","se","options","encryptedKey","getKeys","password","restoreWallet","input","base64url","decode","parseDecodedData","decoded","dataParsed","e","signToken","ticketFromUrl","SecureEnclave","Instance","request","aud","config","exp","moment","add","unix","ticket","publicKey","getPublicKey","buffer","stringify","token","generateKeys","kp","EllipticCurve","genKeyPair","getPublic","privateKey","getPrivate","UserWallet","ethAddress","publicKeyHex","privateKeyHex","this","util","wallet","ethers","Wallet","key","startsWith","address","utils","SigningKey","encrypt","v3JsonWallet","fromEncryptedJson","length","credentialDataObject","toString","loadWallet","signer","SimpleSigner","replace","createJwt","issuer","getDid","alg","jwt","signTransaction","walletSigned","initWithPass","wallets","Map","get","userWalletBuilder","set","addNewWallet","exportEncryptedKeys","jwtSigned","txSigned","instance","storeDID","localStorage","setItem","getItem","storeUserName","username","getUserName","storeJWT","getJWT","connectionNotEstablished","keysNotExist","storeKeys","keys","storeTerms","accept","getTerms","parseJwt","split","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","slice","join","isTokenExpired","payload","Date","now","includes","process","defaultConfig","local","REACT_APP_WALLET","REACT_APP_WALLET_API","REACT_APP_ID_HUB_API","REACT_APP_DEMO","REACT_APP_EULOGIN","DID_API_IDENTIFIERS","TRUSTED_ISSUERS_REGISTRY_URL","integration","development","production","env","PUBLIC_URL","getIssuerName","issuerDid","userStorage","url","REQUIRED_VARIABLES","axios","response","status","entities","issuerInfo","name","preferredName","getIssuer","credential","dataInBase64","dataInJSON","requestPresentationSpecialCases","typeName","redirectUrl","nameToDisplay","undefined","checkIfMasterOrBachelor","issuerName","modifyName","where","nameChanged","modifyNotificationTitle","title","setCredentialTypeName","inputType","API_URL","establishBond","grantType","assertion","scope","post","errorData","detail","getNotifications","authorization","headers","Authorization","acceptNotification","idNotification","notificationsOptions","setUpKeys","storeConnection","splitString","userNameAltered","transform","userName","handleTicket","accessToken","ChooseMethod","goToLocalStorageWalletScreen","goToNewWalletScreen","goToImportWalletScreen","hasLocalWallet","className","onClick","cas_url","service_url","cas_version","session_name","session_info","destroy_session","renew","loginLink","sessionStorage","window","location","href","query","service","format","pathname","logout","assign","PanelTitle","children","PanelBody","icon","linkLabel","src","alt","role","defaultProps","Panel","EuLogin","styles","app","main","step1SVG","exportKeys","navigator","msSaveOrOpenBlob","blob","Blob","encodeURI","document","createElement","download","encodeURIComponent","target","appendChild","click","removeChild","importKeys","certificateFile","Promise","resolve","reject","filename","regExpWhiteSpace","RegExp","indexExt","lastIndexOf","ext","substring","toUpperCase","reader","FileReader","onload","result","indexOf","readAsDataURL","Screen","ImportWallet","verifyTicket","goToChooseMethodScreen","useForm","register","handleSubmit","errors","useState","isGenerating","setIsGenerating","generationError","setGenerationError","uploadDocument","keysManager","keystore","passwordForKeyGeneration","onSubmit","htmlFor","id","ref","required","classNames","placeholder","disabled","data-ecl-message","focusable","aria-hidden","xlinkHref","eclIcons","LocalStorageWallet","onSubmitExistingPass","NewWallet","watch","onSubmitNewPass","confirmPassword","validate","value","publicUrl","basename","URL","Login","useLocation","history","useHistory","setTicket","BLANK","screen","setScreen","isConnected","useEffect","EU_LOGIN","queryString","search","Array","isArray","CHOOSE_METHOD","removeItem","params","URLSearchParams","delete","LOCAL_STORAGE","NEW_WALLET","IMPORT_WALLET","DEMONSTRATOR_URL","Ribbon","Container","Row","Col","data-tut","Header","isMenuOpen","setIsMenuOpen","closeMenu","to","aria-label","logo","data-ecl-auto-init","data-ecl-menu","aria-expanded","data-ecl-menu-overlay","data-ecl-menu-open","data-ecl-menu-inner","data-ecl-menu-close","data-ecl-icon","data-ecl-label","data-ecl-menu-back","data-ecl-menu-item","activeClassName","data-ecl-menu-link","preventDefault","clear","Footer","EbsiBanner","subtitle","isLoadingOpen","Spinner","animation","variant","NotificationType","stepsCredentials","selector","content","position","stepsNotifications","stepsPresentations","stepsProfile","hash","notification","sender","receiver","didOwner","NONE","validationServiceEndpoint","timestamp","selectedCredentials","selectedCredsTypes","errorMessages","invalidAttribute","API_ID_HUB","getCredentials","getCredential","getCredentialsForPresentation","arrayTypes","typesAsString","types","CredentialsStatus","Profile","props","setState","notifications","items","notification1","notification2","notification3","setCredentialsName","credentials","credentialsName","all","displayJustCredentials","list","filter","attribute","disableBody","disableBodyScroll","enableBody","enableBodyScroll","openTour","isTourOpen","closeTour","React","createRef","state","models","credential1","credential2","credential3","redirectTo","idHub","whereRedirect","push","style","wordWrap","Badge","redirectURL","steps","tour","isOpen","onRequestClose","onAfterOpen","onBeforeClose","Component","createResponse","nonce","serviceUrl","getPrivateKey","didAuthResponseCall","hexPrivatekey","redirectUri","EbsiDidAuth","createDidAuthResponse","didAuthResponseJwt","DidAuth","setServiceUrl","serviceDID","setServiceDID","serviceName","setServiceName","didAuthRequestJwt","setDidAuthRequestJwt","isModalAskingForPass","setIsModalAskingForPass","verifyingDidAuth","setVerifyingDidAuth","authenticationError","setAuthenticationError","verifyDidAuthRequest","requestPayload","didAuthPassword","didAuth","urlParameters","clientId","didAuthRequest","iss","componentDidMount","panelFooter","Modal","show","onHide","closeButton","Title","Body","spinner","CredentialItem","isCredentialItemMounted","methodToOpen","credentialItem","logoDiploma","height","width","colors","WHITE","EC_BLUE","EC_YELLOW","EC_GREY","EC_BLUE_N","EC_BLUE_75","EC_BLUE_BACK","EC_ORANGE","EC_GREEN","EC_RED","BLACK","toastStyle","left","right","margin","backgroundColor","border","zIndex","ToastEbsi","isToastOpen","methodToClose","toastColor","colorText","toastMessage","Toast","onClose","color","EUimage","VID","parsedData","credentialSubject","personIdentifier","currentFamilyName","currentGivenName","birthName","dateOfBirth","currentAddress","gender","govId","error","Diploma","achievements","issuedDate","learningSpecification","iscedFcode","hasAccreditation","targetFramework","hasPart","wasDerivedFrom","grade","numericScore","VP","textAlign","backgroundEUimage","CredentialModal","openDetails","isFullCredentialDisplayed","closeDetails","isModalCredentialOpen","size","DEMO","NotificationsStatus","NotificationProcessingStatus","Credentials","credentialsStatus","Loading","credentialsError","closeToast","bind","closeCredentialModal","displayCredential","startLoading","outAttrs","attrTemp","stopLoading","Success","openCredentialModal","openToast","credentialDecoded","NotificationItem","parseDate","date","notificationItem","StoreCredentialModal","isModalNotificationOpen","methodToAccept","setIsFullCredentialDisplayed","setTitle","notif","newTitle","updateTitle","areStringArraysEqual","arr1","arr2","every","arr1Elem","some","arr2Elem","stringArr1","CredentialItemPresentation","methodToSelect","defaultChecked","checkbox","onChange","diplomaImage","presentationInputFromJSON","json","subscriberURL","RequestPresentationModal","setCredentials","setIssuerName","formattedTypes","setFormattedTypes","notificationForPresentations","setNotificationForPresentations","isReadingCreds","setIsReadingCreds","validateCredentialsType","presentations","validateSelectedCredentialsNumber","getRequiredCredsNumber","select","notificationAux","cloneDeep","index","splice","isMounted","creds","requestedTypes","matchTypes","cred","r","fetchIssuerName","arrText","defaultText","output","reduce","tmpStr","typeArr","find","string","lastIndex","beginString","endString","fixOutput","getRequiredCredsFormatedType","filteredCred","SignTransactionModal","methodToSign","SignPayloadModal","NotificationModal","PresentationsStatus","Notifications","setNotifications","notificationsStatus","setNotificationsStatus","notificationsError","setNotificationsError","setNotification","setIsLoadingOpen","setIsToastOpen","setToastColor","setToastMessage","setIsModalNotificationOpen","setIsTourOpen","None","notificationProcessingStatus","setNotificationProcessingStatus","notificationProcessingError","setNotificationProcessingError","openSuccessToast","openNotificationModal","closeNotificationModal","openNotification","notificationToOpen","closeModalAskingForPass","notificationToAccept","reload","signNotification","Validating","outNotifications","notifs","n","Presentations","presentationsStatus","presentationsError","closeModalCredential","attr","openModalCredential","credentialToOpen","Terms","icons","terms","TermsConditions","goBack","App","exact","path","component","ReactDOM","render","getElementById","COMPONENT_WALLET_ID"],"mappings":"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","file":"static/js/main.b55cf4a5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"DidAuth_app__vfh8J\",\"main\":\"DidAuth_main__2KQie\",\"panelFooter\":\"DidAuth_panelFooter__2_DiC\",\"spinner\":\"DidAuth_spinner__2S7PC\",\"spin\":\"DidAuth_spin__HT1JY\"};","module.exports = __webpack_public_path__ + \"static/media/step1.8ea11e8d.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAACaRJREFUeJzdm2twVdUVx397nXPvDY9AHoDBAEkAg6CV4mNEqqjT0VqcabVCKFrqE2wdRkCd6kzbyfCpTlWe9iHazsColOCj1Aq2dqaOQqkPQJwGBIQkCISAhBCSQO49Z69+uAkScu8NyX0E+Wfu3Jyz917rv9bd+5y91t7bkGYsrH59qLHeZGN0HDBGrSlV0XysZIux2agI2FagAagDqVbDdoP51HiyaW7pXfvTyc+kWqCqmqXVq69VZAaWWxDGJifRfoE1fzeOrHm0aOomY4ymhmkUKXPA03sqBoaM/swY8wBQmiq5HWG/UDXLMcEX55fc2ZAKiUk7YNn+N/L9cHg+RuYAA1PAqUtYbJOoWRZ0vGceKbrnWDKyeuyAci2XvKrLHlK1v0EkLxkSPYa19SrmVw3F219YYBbYnojokQOe3bOq1BVZCebanrRPOazdhLr3zhs9dXd3m0p3GyyuWn23iNl83hgPIHKdNd6nS/auntndpufcAyq0wjlYzULg0e4qySQUu6SwWB4vM2X+udQ/Jwcs2bUuZANNKw2UJUcvM1Br3xR/wIy5pVNau6rbpQOW7FoX0kDTWuB7KWGXIai174g/4I6unJDwGVChFY4NNK3kG2Y8gBG5Td0Tr1ZohZOoXkIHHKxm4Tel28eEMT86UMUzCavEK1hUtXqGwbyaela9AKsz542a/nKsopgOeHbPqlIRs1mQ/ullliFYmlGZEGue0GkIlGu5uCIrLxjjAYR+GG9FuZZ3srfTjZyqcQ+eV5OcVEHkupzqcQ+ffbvDEFi2/438SKu3W4TczDHLIKytD7r+6DMDqA49wA+H51+wxgOI5IV95/Ezb53uAU/vqRiYJdSQoZC2t2CxTYbQ8PZ8wukekGV4mAvceABB+qPhWV9fE01jYewDvUcrszBGZ7e/EQRg4d6Ka0DG9C6tTEJG51SPuxbaHCCid/cuoV6AmmnQPgQst/Qum8zDGDsFwDxfVVHgQW28iq5xGNn3YiLq0WojhG2EsPWi3+phtUepONyIhxdwCUYi+I6DL91OTgHgGCFgXIISICguIQkQlAAB47K35SCexs+LOOIVup6aG0iQah8/YDTX514Rt9yqJaIeEfXxrI+n0Y+vFl99LBariq8WRXGPHqFPTTUFa9cSyc3DbTxOOH8QR279PuHBQ/BzcjEYHCOIMQiCYxwcI7jGiX7EIWAcAsZFTHzHvVe/lW2NX8Qtj3jOJFeNvcwkyIsMzxoStwxAjBAyQUIACSNvoHILvNQWnboBgm4I+g0gq/Ygw1f8CbJzoPx5cLoSdG4Y1bcwoQPE6LddLGMSZQUuCqUo4/3x+/D2agiG4LapEAhB7T7I6gOFxbBlY9RBS8uhbBYUFiWtsiDYFXcz1jWYuKs4IQmQJcGkiQDw1ipoPgEz58D6NXD4YMfy62+FayZHHfXpf1PigIC4ZEmQUzYcs1yVEteKHSRxusD4wCUcO96UNBG3ZhfZzY1w3Xfh/Xc6Gw+w4Z9w131QuRm79T+cGH89Njv5iem4QAlbWnfGLDPoEBcr2fGGwAingFOtkaRJ5P37LbAWii6Bje/Gr/jxBzDuSuSTD9Cdn3HqWxOT1j3CKWALsR0A5AlC3MSHJTULseHi9lHWhbxjRyEnP9pm+OiU6FZNpFNCIjb+szusyf/6AIEDNW3/BBJXzB8MjdFQPVT1eUp0R9RLWC4KsZ8QQIs9lRISJ6+YCCJQvRtKEoQcV0+Gys14+QWcKh2fEt0tJLLBtgrYuOvsDZr8AxDgVOl4vNzBsOFduPl2GFTQudLEm2H/XmhuIlxUiu2XnRLdDTahDfUuInVADEZwxD/GaHdYSoi0XHkj/TeuR17+Hdw2DRyBAzUQCEYfjpWbYduHhC8uoWX8pJToBPjKT7SPQupc0GowMfvbIXsUiyXea7I7aL76JiJDCsl/ZRH87WVwAzC4ACLh02+GZgtL3ZHcVzAiaX0APpZD9mjccmuoElR3xKsQUY/9/uGkSCiKxeJjaRk+koM/eYwFtUJrOMLhmn0cr6ujNgIPfRlgWnWQ1/71Ae99tBlLNHZIBl96hxIGQ2J0hyuYrYnUVEb2YlWJ4OHhEVGPsHrRoIe2b+PjWx8Pi080APLagp+zjahvOcbr+5tYfwhO+lA8oZDsobnsqPp6M9jiP7/Krvx95AzNxrT9uUaigREObluA5NIWHOGeDo4CxiVAgAAO2yPVCR1kLdvciG83uW784OOEbeGjcGVCQd3BwcpDADS1vZ0Gjx3KuFtKOby/iaP7ouPVa/V574VPuP3JGwj0cVGU8NlhdyqmKI67UZ64ZMaXVtmTAnHnhAP/q+twXXj5RTiucPPsq8nq/3Xc0XikmQ0rtnYxkUkClh2PFd9VG02JGd5Oj5aOUGup/byOfrl9AMjKziK3MLoM0Tc3i8kPXoURw4DB/ZjyixuY8INL6WG+pWsYux7ABbDWvCaiad/6cvJEKzf9fBJFE4ax5c3PaKht5Mx8RkFpPlf98FJaToQZVJTeDL0xrIG2hZFyLZfcvWN3IzIyrVrPgFpoONBA7vCcTmUnG1vpMyCUNt0Wu3t+8fQxxhgVgAVmgVVjlqdNYwwYIabxQFqNB3DULG/fcnu6A4YcbzmW5rRqPi9gT5xU82L71WkHPFJ0zzGE53uHVOagyOKnRpUdb7/uuDrs6G+tJam9t+c5voLAwjNvdHDA4yOm1+PorzPLKXMwyi/P3mXeKcoZVmT+CPph5mhlCMrG+pLKl86+3ckBZabMV+Vea21LZpilHxbbZBz/3lg7ymPGufNHTt8pxjySfmqZgcHMnls0I+Z0P26gP2/k9BWKLksfrcxA4dn5JdNXxStPmOkoLDbzFV2belqZgUJFQ3Hlk4nqJHRAmSnzc2j5MfCPlDLLAFRZ19DMzK5OknSZ67q/5P5TA2m+A8tfU0cv3dA1DS3cueDysrgZ73Z068DEgWr7nEHmJkcu3bDPHCve8dS5niHq9pmhRXsrfqpq/yAifbtPLn2w2CZBZs0rKftLd9pdEIemLHaDI3pfvFddIvQo3/3EqBm7Li4237FG5/Ry7PCVqs4+Xrzjxp4YDyk4OPncvtV5jscTqHkUoV+y8s4FFhoFu1gJLUr2BGnKjs7+vuaV3LAfmGVhthhGpUpuR9idilkukfBLc0tnNqZCYsoPT5drueTVXD5RfTsNMVNI8hyxtXa7EVmHmtfmlUz96Lw9PB0PS3a9PgzXm2Qx4w16qSolBh0C5IGELFaBVoR6VOrE2CpFdhhjt7kqG+eUlB1KJ7//A8tAqOvixtkzAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/european-union.38159e27.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"EuLogin_app__2tnKV\",\"main\":\"EuLogin_main__Dlaz3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"credentialItem\":\"CredentialItemPresentation_credentialItem__3XLxc\",\"credentialText\":\"CredentialItemPresentation_credentialText__3QEw6\",\"checkbox\":\"CredentialItemPresentation_checkbox__PXtQ6\"};","import { providers } from \"ethers\";\nimport { getDID, getKeys } from \"../../utils/DataStorage\";\nimport SecureEnclave from \"../../secureEnclave/SecureEnclave\";\nimport { strB64dec } from \"../../utils/strB64dec\";\nimport { INotification, NotificationsOptions } from \"../../dtos/notifications\";\nimport { IWalletOptions } from \"../../secureEnclave/UserWallet\";\n\nexport const getBodyWithNotificationSigned = async (\n  secureEnclave: SecureEnclave,\n  userPassword: string,\n  notificationToSign: INotification\n): Promise<NotificationsOptions> => {\n  let body: NotificationsOptions = {};\n  let signData: string;\n  let txJSON: providers.TransactionRequest;\n  const dataDecoded = strB64dec(notificationToSign.message.data.base64);\n  const type = notificationToSign.message.notificationType;\n  const did = getDID();\n  if (!did) throw new Error(\"User DID not found.\");\n  switch (type) {\n    case 3:\n      signData = await secureEnclave.signJwt(\n        did,\n        Buffer.from(dataDecoded),\n        userPassword\n      );\n      body = {\n        signature: signData,\n      };\n      break;\n    case 4:\n      txJSON = JSON.parse(dataDecoded);\n      signData = await secureEnclave.signTx(did, txJSON, userPassword);\n      body = {\n        signature: signData,\n      };\n      break;\n    default:\n      throw new Error(`types supported are only 3 and 4`);\n  }\n  return body;\n};\n\nexport const decryptKeys = async (se: SecureEnclave, userPassword: string) => {\n  const options: IWalletOptions = {\n    encryptedKey: getKeys() || \"\",\n    password: userPassword,\n  };\n\n  try {\n    await se.restoreWallet(options);\n  } catch (e) {\n    throw new Error(\n      \"Can't decrypt the keys. Make sure you entered the correct password!\"\n    );\n  }\n};\n","import base64url from \"base64url\";\n\n/**\n * Decodes a Base64 string in an UTF-8 string format\n * @param input Base64 encoded string to decode\n */\nexport const strB64dec = (input: string): string => {\n  return base64url.decode(input);\n};\n\nexport const parseDecodedData = (input: string): { [x: string]: unknown } => {\n  try {\n    const decoded = strB64dec(input);\n    const dataParsed = JSON.parse(decoded);\n\n    if (!dataParsed) return {};\n\n    return dataParsed;\n  } catch (e) {\n    return {};\n  }\n};\n","import moment from \"moment\";\nimport SecureEnclave from \"../secureEnclave/SecureEnclave\";\nimport * as config from \"../config/config\";\nimport { getDID } from \"./DataStorage\";\n\nexport const signToken = async (\n  ticketFromUrl: string,\n  password: string\n): Promise<string> => {\n  const se = SecureEnclave.Instance;\n  const did = getDID();\n  if (!did) throw new Error(\"No DID found on Local Storage.\");\n  const request = {\n    aud: config.COMPONENT_WALLET_ID,\n    exp: moment().add(15, \"seconds\").unix(),\n    ticket: ticketFromUrl,\n    publicKey: se.getPublicKey(did),\n  };\n  const buffer = Buffer.from(JSON.stringify(request));\n  const token = await se.signJwt(did, buffer, password);\n  return token;\n};\n\nexport default signToken;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"credentialItem\":\"CredentialItem_credentialItem__2AVJz\"};","module.exports = __webpack_public_path__ + \"static/media/eu-background.1c321bf5.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notificationItem\":\"NotificationItem_notificationItem__23iX2\"};","import { ec as EllipticCurve } from \"elliptic\";\n\n/**\n * Generate keys\n * @returns Object with address and privateKey in HEX format\n */\nconst generateKeys = (): { publicKey: string; privateKey: string } => {\n  const kp = new EllipticCurve(\"secp256k1\").genKeyPair();\n  const publicKey = kp.getPublic(\"hex\");\n  const privateKey = kp.getPrivate(\"hex\");\n  return { publicKey, privateKey };\n};\n\nfunction getDid(ethAddress: string): string {\n  return `did:ebsi:${ethAddress}`;\n}\n\nfunction prefixWith0x(key: string): string {\n  return key.startsWith(\"0x\") ? key : `0x${key}`;\n}\n\nexport { generateKeys, getDid, prefixWith0x };\n","import { ethers, providers } from \"ethers\";\nimport { SimpleSigner, createJwt } from \"@cef-ebsi/did-jwt\";\nimport * as util from \"./Util\";\n\nexport interface IWalletOptions {\n  encryptedKey?: string; // can be validated with ethers' isSecretStorageWallet method\n  password: string;\n}\n\n/**\n * UserWallet handles and stores secp256k1 keys.\n * It keeps them in _encryptedKey JSON encrypted format and instantiates a ethers wallet to access its private key for\n * signing.\n */\nexport default class UserWallet {\n  private encryptedKey!: string;\n\n  public ethAddress!: string;\n\n  private publicKeyHex!: string;\n\n  private privateKeyHex!: string;\n\n  private constructor(encryptedKey?: string) {\n    if (encryptedKey) this.encryptedKey = encryptedKey;\n  }\n\n  public static async userWalletBuilder(\n    options: IWalletOptions\n  ): Promise<UserWallet> {\n    if (!options.password) {\n      throw new Error(\"Password needs to be provided\");\n    }\n    const wallet = new UserWallet(options.encryptedKey);\n    // create new wallet when no encrypted key is provided\n    if (!options.encryptedKey) {\n      await wallet.initWithPass(options.password);\n      return wallet;\n    }\n    // load wallet from encrypted key\n    await wallet.loadWallet(options.encryptedKey, options.password);\n    return wallet;\n  }\n\n  private async initWithPass(password: string): Promise<void> {\n    const kp = util.generateKeys();\n    const wallet: ethers.Wallet = new ethers.Wallet(\n      util.prefixWith0x(kp.privateKey)\n    );\n    this.ethAddress = wallet.address;\n    this.publicKeyHex = new ethers.utils.SigningKey(\n      wallet.privateKey\n    ).publicKey;\n    this.privateKeyHex = new ethers.utils.SigningKey(\n      wallet.privateKey\n    ).privateKey;\n    this.encryptedKey = await wallet.encrypt(password);\n  }\n\n  /**\n   * Loads wallet from a V3 Web3 Secret Storage JSON object\n   * @param v3JsonWallet\n   * @param password\n   */\n  private async loadWallet(\n    v3JsonWallet: string,\n    password: string\n  ): Promise<ethers.Wallet> {\n    const wallet: ethers.Wallet = await ethers.Wallet.fromEncryptedJson(\n      v3JsonWallet,\n      password\n    );\n    this.ethAddress = wallet.address;\n    this.publicKeyHex = new ethers.utils.SigningKey(\n      wallet.privateKey\n    ).publicKey;\n    this.privateKeyHex = new ethers.utils.SigningKey(\n      wallet.privateKey\n    ).privateKey;\n    return wallet;\n  }\n\n  public exportEncryptedKeys(): string {\n    return this.encryptedKey;\n  }\n\n  public get publicKey(): string {\n    return this.publicKeyHex;\n  }\n\n  public get privateKey(): string {\n    return this.privateKeyHex;\n  }\n\n  public async signJwt(data: Buffer, password: string): Promise<string> {\n    if (password.length === 0)\n      throw new Error(\"Password must be provided to sign.\");\n    const credentialDataObject = JSON.parse(data.toString());\n    const wallet = await this.loadWallet(this.encryptedKey, password);\n    const signer = SimpleSigner(wallet.privateKey.replace(\"0x\", \"\")); // Removing 0x from wallet private key as input of SimpleSigner\n    const jwt = await createJwt(credentialDataObject, {\n      issuer: `${this.getDid()}`,\n      alg: \"ES256K-R\",\n      signer,\n    });\n    return jwt;\n  }\n\n  /**\n   * Signs an Ethereum Transaction.\n   * @param txJSON\n   * @param password\n   */\n  public async signTx(\n    txJSON: providers.TransactionRequest,\n    password: string\n  ): Promise<string> {\n    const wallet = await this.loadWallet(this.encryptedKey, password);\n    const walletSigned = await wallet.signTransaction(txJSON);\n    return walletSigned;\n  }\n\n  public getDid(): string {\n    return util.getDid(this.ethAddress);\n  }\n}\n","import { providers } from \"ethers\";\nimport UserWallet, { IWalletOptions } from \"./UserWallet\";\n\n/**\n * Class to a Secure Enclave\n */\nexport default class SecureEnclave {\n  private wallets: Map<string, UserWallet>;\n\n  private static instance: SecureEnclave;\n\n  private constructor() {\n    this.wallets = new Map<string, UserWallet>();\n  }\n\n  /**\n   * Returns an instance of the created SecureEnclave\n   * Used when it is not known the constructor parameters, which\n   * should be known only in the controller class\n   */\n  public static get Instance(): SecureEnclave {\n    const instance = this.instance || (this.instance = new this());\n    return instance;\n  }\n\n  public getWallet(did: string): UserWallet | undefined {\n    return this.wallets.get(did);\n  }\n\n  /**\n   * Adds a new wallet to the Enclave\n   * @param options\n   */\n  public async addNewWallet(options: IWalletOptions): Promise<string> {\n    try {\n      const wallet = await UserWallet.userWalletBuilder(options);\n      this.wallets.set(wallet.getDid(), wallet);\n      const did = wallet.getDid();\n      return did;\n    } catch (error) {\n      throw new Error(`Wallet could not be created. ${error.message}`);\n    }\n  }\n\n  /**\n   * Restores a wallet from a JSON encrypted file\n   */\n  public async restoreWallet(options: IWalletOptions): Promise<string> {\n    if (!options.encryptedKey)\n      throw new Error(\"JSON encrypted key must be provided\");\n    const did = await this.addNewWallet(options);\n    return did;\n  }\n\n  public getPublicKey(did: string): string {\n    const wallet = this.wallets.get(did);\n    if (!wallet) throw new Error(\"Wallet not found\");\n\n    return wallet.publicKey;\n  }\n\n  public getPrivateKey(did: string): string {\n    const wallet = this.wallets.get(did);\n    if (!wallet) throw new Error(\"Wallet not found\");\n\n    return wallet.privateKey;\n  }\n\n  public exportEncryptedKeys(did: string): string {\n    const wallet = this.wallets.get(did);\n    if (!wallet) throw new Error(\"Wallet not found\");\n\n    return wallet.exportEncryptedKeys();\n  }\n\n  /**\n   * Signs a JWT using did-jwt methods.\n   * @param did, the did of the signer\n   * @param data, payload to be included on the JWT\n   * @param password, password of the wallet (for User wallets only).\n   */\n  public async signJwt(\n    did: string,\n    data: Buffer,\n    password: string\n  ): Promise<any> {\n    const wallet = this.wallets.get(did);\n    if (!wallet) throw new Error(\"Wallet not found\");\n\n    const jwtSigned = await wallet.signJwt(data, password);\n    return jwtSigned;\n  }\n\n  public async signTx(\n    did: string,\n    txJSON: providers.TransactionRequest,\n    password = \"\"\n  ): Promise<string> {\n    const wallet = this.wallets.get(did);\n    if (!wallet) throw new Error(\"Wallet not found\");\n\n    const txSigned = await wallet.signTx(txJSON, password);\n    return txSigned;\n  }\n}\n","export const storeDID = (did: string): void => {\n  localStorage.setItem(\"Did\", did);\n};\n\nexport const getDID = (): string | null => {\n  return localStorage.getItem(\"Did\");\n};\n\nexport const storeUserName = (username: string): void => {\n  localStorage.setItem(\"UserName\", username);\n};\n\nexport const getUserName = (): string | null => {\n  return localStorage.getItem(\"UserName\");\n};\n\nexport const storeJWT = (token: string): void => {\n  localStorage.setItem(\"Jwt\", token);\n};\n\nexport const getJWT = (): string | null => {\n  return localStorage.getItem(\"Jwt\");\n};\n\nexport const connectionNotEstablished = (): boolean => {\n  return (\n    localStorage.getItem(\"Jwt\") === null ||\n    localStorage.getItem(\"Jwt\") === \"undefined\"\n  );\n};\n\nexport const keysNotExist = (): boolean => {\n  return (\n    localStorage.getItem(\"Keys\") === null ||\n    localStorage.getItem(\"Keys\") === \"undefined\"\n  );\n};\n\nexport const storeKeys = (keys: string): void => {\n  localStorage.setItem(\"Keys\", keys);\n};\n\nexport const getKeys = (): string | null => {\n  const keys = localStorage.getItem(\"Keys\");\n  if (!keys) return null;\n  return keys;\n};\n\nexport const storeTerms = (accept: boolean): void => {\n  localStorage.setItem(\"T&C\", accept ? \"true\" : \"false\");\n};\n\nexport const getTerms = (): boolean => {\n  if (\n    localStorage.getItem(\"T&C\") === null ||\n    localStorage.getItem(\"T&C\") === \"undefined\"\n  ) {\n    return false;\n  }\n  const response = localStorage.getItem(\"T&C\");\n  return response === \"true\";\n};\n","import { JWTClaims } from \"@cef-ebsi/did-auth\";\n\nexport interface IUserAuthZToken extends JWTClaims {\n  sub: string; // EU Login/ECAS Username that is obtained from the ECAS.\n  iat?: number; // The date at a time when the Access Token was issued.\n  exp?: number; // The date and time on or after which the token MUST NOT be accepted for processing. (expiry is 900s)\n  aud?: string; // Name of the application,  as registered in the Trusted Apps Registry, to which the Access Token is intended for.\n  did: string; // DID of the user as specified in the Access Token Request.\n  userName: string; // EU Login/ECAS Name and Surname of the user.\n}\n\n/**\n * Parse a JWT token\n */\nconst parseJwt = (token: string): IUserAuthZToken => {\n  const base64Url = token.split(\".\")[1];\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split(\"\")\n      .map(function atobFunction(c) {\n        return `%${`00${c.charCodeAt(0).toString(16)}`.slice(-2)}`;\n      })\n      .join(\"\")\n  );\n  return JSON.parse(jsonPayload);\n};\n\nconst isTokenExpired = (jwt: string | null): boolean => {\n  if (jwt === null || jwt === \"\") return true;\n  const payload = parseJwt(jwt);\n  if (!payload || !payload.exp) return true;\n  return +payload.exp * 1000 < Date.now();\n};\n\nexport { parseJwt, isTokenExpired };\n","const { REACT_APP_EBSI_ENV } = process.env;\n\nif (!REACT_APP_EBSI_ENV) {\n  throw new Error(\"REACT_APP_EBSI_ENV must be defined\");\n}\n\nif (\n  ![\"local\", \"integration\", \"development\", \"production\"].includes(\n    REACT_APP_EBSI_ENV\n  )\n) {\n  throw new Error(\n    `REACT_APP_EBSI_ENV has an unknown value: ${REACT_APP_EBSI_ENV}`\n  );\n}\n\nconst defaultConfig: { [index: string]: any } = {\n  local: {\n    REACT_APP_WALLET: \"http://localhost:8080/wallet\",\n    REACT_APP_WALLET_API: \"http://localhost:9000/wallet\",\n    REACT_APP_ID_HUB_API: \"http://localhost:9004/identity-hub\",\n    REACT_APP_DEMO: \"https://app.intebsi.xyz/demo\",\n    REACT_APP_EULOGIN: \"https://ecas.acceptance.ec.europa.eu/cas\",\n    DID_API_IDENTIFIERS: \"https://api.intebsi.xyz/did/v1/identifiers\",\n    TRUSTED_ISSUERS_REGISTRY_URL:\n      \"https://api.intebsi.xyz/trusted-issuers-registry/v1/issuers\",\n  },\n  integration: {\n    REACT_APP_WALLET: \"https://app.intebsi.xyz/wallet\",\n    REACT_APP_WALLET_API: \"https://api.intebsi.xyz/wallet\",\n    REACT_APP_ID_HUB_API: \"https://api.intebsi.xyz/identity-hub\",\n    REACT_APP_DEMO: \"https://app.intebsi.xyz/demo\",\n    REACT_APP_EULOGIN: \"https://ecas.ec.europa.eu/cas\",\n    DID_API_IDENTIFIERS: \"https://api.intebsi.xyz/did/v1/identifiers\",\n    TRUSTED_ISSUERS_REGISTRY_URL:\n      \"https://api.intebsi.xyz/trusted-issuers-registry/v1/issuers\",\n  },\n  development: {\n    REACT_APP_WALLET: \"https://app.ebsi.xyz/wallet\",\n    REACT_APP_WALLET_API: \"https://api.ebsi.xyz/wallet\",\n    REACT_APP_ID_HUB_API: \"https://api.ebsi.xyz/identity-hub\",\n    REACT_APP_DEMO: \"https://app.ebsi.xyz/demo\",\n    REACT_APP_EULOGIN: \"https://ecas.ec.europa.eu/cas\",\n    DID_API_IDENTIFIERS: \"https://api.ebsi.xyz/did/v1/identifiers\",\n    TRUSTED_ISSUERS_REGISTRY_URL:\n      \"https://api.ebsi.xyz/trusted-issuers-registry/v1/issuers\",\n  },\n  production: {\n    REACT_APP_WALLET: \"https://app.ebsi.tech.ec.europa.eu/wallet\",\n    REACT_APP_WALLET_API: \"https://api.ebsi.tech.ec.europa.eu/wallet\",\n    REACT_APP_ID_HUB_API: \"https://api.ebsi.tech.ec.europa.eu/identity-hub\",\n    REACT_APP_DEMO: \"https://app.ebsi.tech.ec.europa.eu/demo\",\n    REACT_APP_EULOGIN: \"https://ecas.ec.europa.eu/cas\",\n    DID_API_IDENTIFIERS:\n      \"https://api.ebsi.tech.ec.europa.eu/did/v1/identifiers\",\n    TRUSTED_ISSUERS_REGISTRY_URL:\n      \"https://api.ebsi.tech.ec.europa.eu/trusted-issuers-registry/v1/issuers\",\n  },\n};\n\nconst env = {\n  PUBLIC_URL: process.env.PUBLIC_URL || \"/\",\n  REACT_APP_WALLET:\n    process.env.REACT_APP_WALLET ||\n    defaultConfig[REACT_APP_EBSI_ENV].REACT_APP_WALLET,\n  REACT_APP_WALLET_API:\n    process.env.REACT_APP_WALLET_API ||\n    defaultConfig[REACT_APP_EBSI_ENV].REACT_APP_WALLET_API,\n  REACT_APP_ID_HUB_API:\n    process.env.REACT_APP_ID_HUB_API ||\n    defaultConfig[REACT_APP_EBSI_ENV].REACT_APP_ID_HUB_API,\n  REACT_APP_DEMO:\n    process.env.REACT_APP_DEMO ||\n    defaultConfig[REACT_APP_EBSI_ENV].REACT_APP_DEMO,\n  REACT_APP_EULOGIN:\n    process.env.REACT_APP_EULOGIN ||\n    defaultConfig[REACT_APP_EBSI_ENV].REACT_APP_EULOGIN,\n  DID_API_IDENTIFIERS: defaultConfig[REACT_APP_EBSI_ENV].DID_API_IDENTIFIERS,\n  TRUSTED_ISSUERS_REGISTRY_URL:\n    defaultConfig[REACT_APP_EBSI_ENV].TRUSTED_ISSUERS_REGISTRY_URL,\n};\n\nexport default env;\n","import axios from \"axios\";\nimport REQUIRED_VARIABLES from \"../config/env\";\nimport * as userStorage from \"./DataStorage\";\nimport { strB64dec } from \"./strB64dec\";\n\nexport interface IssuerInfoDiploma {\n  issuerDID: string;\n  preferredName: string;\n  alternativeName: string;\n  [x: string]: any;\n}\n\nexport interface IssuerInfoGov {\n  issuerDID: string;\n  name: string;\n  [x: string]: any;\n}\n\nexport type IssuerInfo = IssuerInfoDiploma | IssuerInfoGov;\n\n/**\n * Returns the issuer name either if it is the user or a registered\n * Trusted Issuer. If no issuer is found, it does not fails but returns\n * the DID received.\n * @param issuerDid DID from the issuer\n */\nconst getIssuerName = async (issuerDid: string): Promise<string> => {\n  // return user stored name when user is the issuer\n  if (issuerDid === userStorage.getDID())\n    return userStorage.getUserName() || issuerDid;\n\n  // or get issuerName from Trusted Issuers Registry API\n  try {\n    const url = `${REQUIRED_VARIABLES.TRUSTED_ISSUERS_REGISTRY_URL}/${issuerDid}`;\n    const response = await axios.get(url);\n    if (\n      !response ||\n      response.status !== 200 ||\n      !response.data ||\n      !response.data.entities ||\n      !response.data.entities[0]\n    )\n      return issuerDid;\n\n    // Extract info from first entity\n    const [issuerInfo]: [IssuerInfo] = response.data.entities;\n\n    if (!issuerInfo.name && !issuerInfo.preferredName) return issuerDid;\n    return issuerInfo.name || issuerInfo.preferredName;\n  } catch (error) {\n    return issuerDid;\n  }\n};\n\nconst getIssuer = async (credential: any): Promise<string> => {\n  try {\n    let issuer;\n    if (credential.name === \"VerifiablePresentation\") {\n      issuer = await getIssuerName(credential.did);\n    } else {\n      const dataInBase64 = credential.data.base64;\n      const data = strB64dec(dataInBase64);\n      const dataInJSON = JSON.parse(data);\n      issuer = await getIssuerName(dataInJSON.issuer);\n    }\n    return issuer;\n  } catch (error) {\n    return \"-\";\n  }\n};\n\nexport { getIssuerName, getIssuer };\n","import * as config from \"../config/config\";\nimport * as issuer from \"./issuer\";\n\n/**\n * Transform the username received from the backend to have the format:\n * firstname + lastname\n */\nconst transformUserName = (username: string): string => {\n  const splitString = username.split(\"&\");\n  let userNameAltered = username;\n  if (splitString.length > 1) {\n    userNameAltered = `${splitString[1]} ${splitString[0]}`;\n  }\n  return userNameAltered;\n};\n\n/**\n * Auxiliar function to give different name depends if the request\n * presentation comes form Spanish university or Flemish government\n */\nconst requestPresentationSpecialCases = (\n  type: number,\n  name: string,\n  typeName: string,\n  redirectUrl?: string\n): string => {\n  let nameToDisplay = typeName;\n  if (name === '[\"Verifiable ID\",\"Europass Diploma\"]') {\n    nameToDisplay = \"Request your eID and Diploma Presentation\";\n  }\n  if (name === \"Request Verifiable ID\") {\n    nameToDisplay = \"Request your Bachelor Diploma Presentation\";\n  }\n  if (name === \"Request Verifiable ID and Europass Diploma\") {\n    nameToDisplay = \"Request your Master Diploma Presentation\";\n  }\n  if (redirectUrl !== undefined) {\n    if (type === 3 && redirectUrl.includes(\"master\")) {\n      nameToDisplay = \"Request to Sign your eID & Diploma Presentation\";\n    }\n  }\n\n  return nameToDisplay;\n};\n\n/**\n * Return the name of the notification type, given the number\n */\nconst notificationType = (\n  type: number,\n  name: string,\n  redirectUrl?: string\n): string => {\n  if (type < 0) {\n    return \" - \";\n  }\n  let typeName = config.NotificationType[type];\n  if (type === 2) {\n    typeName = requestPresentationSpecialCases(\n      type,\n      name,\n      typeName,\n      redirectUrl\n    );\n  }\n  if (type === 3) {\n    typeName = requestPresentationSpecialCases(\n      type,\n      name,\n      typeName,\n      redirectUrl\n    );\n  }\n\n  return typeName;\n};\n\nconst checkIfMasterOrBachelor = async (issuerDid: string): Promise<string> => {\n  const issuerName = await issuer.getIssuerName(issuerDid);\n  if (issuerName.includes(\"Bachelor\")) return \"Bachelor Diploma\";\n  if (issuerName.includes(\"Master\")) return \"Master Diploma\";\n  return \"Diploma\";\n};\n\n/**\n * Modifies a name before disply it\n */\nconst modifyName = async (\n  name: string,\n  where: string,\n  issuerDid: string\n): Promise<string> => {\n  let nameChanged = name;\n  if (name === \"Verifiable ID\" && where === \"notification\") {\n    nameChanged = \"Verifiable eID\";\n  }\n  if (name === \"Verifiable ID\" && where === \"credential\") {\n    nameChanged = \"My Verifiable eID\";\n  }\n  if (name === \"Verifiable Presentation\" && where === \"credential\") {\n    nameChanged = \"Verifiable eID Presentation\";\n  }\n  if (name === \"VerifiablePresentation\" && where === \"credential\") {\n    nameChanged = \"Verifiable eID Presentation\";\n  }\n  if (name === '[\"Europass Diploma\"]' && where === \"credential\") {\n    nameChanged = await checkIfMasterOrBachelor(issuerDid);\n  }\n  if (name === \"Europass Diploma\" && where === \"notification\") {\n    nameChanged = \"Diploma\";\n  }\n  if (name === '[\"Europass Diploma\"]' && where === \"notification\") {\n    nameChanged = \"Diploma\";\n  }\n  if (name === \"\") {\n    nameChanged = \" - \";\n  }\n\n  return nameChanged;\n};\n\n/**\n * Modifies the title of a notification\n */\nconst modifyNotificationTitle = async (\n  name: string,\n  type: number\n): Promise<string> => {\n  let title = name;\n  if (type === 0) {\n    title = \"My Diploma\";\n  }\n  if (type === 1) {\n    title = await modifyName(name, \"notification\", \"\");\n  }\n  return title;\n};\n\nconst setCredentialTypeName = (inputType: string): string => {\n  switch (inputType) {\n    case \"EssifVerifiableID\":\n      return \"Verifiable eID\";\n    case \"EuropassCredential\":\n      return \"Diploma\";\n    default:\n      return inputType;\n  }\n};\n\nconst fixOutput = (find: string, replace: string, string: string): string => {\n  const lastIndex = string.lastIndexOf(find);\n\n  if (lastIndex === -1) {\n    return string;\n  }\n\n  const beginString = string.substring(0, lastIndex);\n  const endString = string.substring(lastIndex + find.length);\n\n  return `${beginString + replace + endString}s`;\n};\n\n/**\n * Parse the array of credentials requested and display in the correct format\n */\nconst getSelectRequestedCredentialsText = (\n  arrText: string[] | string[][]\n): string => {\n  const defaultText = \"Select Requested Credentials\";\n  if (!arrText) return defaultText;\n  // check if passed array is a array of arrays\n  if (Array.isArray(arrText[0])) {\n    const output = (arrText as string[][]).reduce(\n      (tmpStr: any, typeArr: string | any[]) => {\n        if (typeof typeArr[0] !== \"string\") return \"Not valid type\";\n        return `${tmpStr}, ${setCredentialTypeName(\n          typeArr[typeArr.length - 1]\n        )} `;\n      },\n      \"Select: \"\n    );\n    if (output.includes(\"Not valid type\")) return defaultText;\n    const text = `${output.replace(\": ,\", \":\")}Credential`;\n    return fixOutput(\",\", \"and\", text);\n  }\n  // check if passed array is a string array\n  if (typeof arrText[0] === \"string\") {\n    return `Select: ${setCredentialTypeName(\n      (arrText as string[])[arrText.length - 1]\n    )} Credential`;\n  }\n\n  // in any other cases return default text\n  return defaultText;\n};\n\nexport {\n  transformUserName,\n  notificationType,\n  modifyName,\n  modifyNotificationTitle,\n  getSelectRequestedCredentialsText,\n};\n","import axios from \"axios\";\nimport { getJWT } from \"../utils/DataStorage\";\nimport REQUIRED_VARIABLES from \"../config/env\";\nimport * as config from \"../config/config\";\nimport { messages, notifications } from \"../dtos\";\n\nconst API_URL = REQUIRED_VARIABLES.REACT_APP_WALLET_API;\nconst VERSION = \"v1\";\n\nconst establishBond = async (token: string): Promise<messages.ApiResponse> => {\n  const body = {\n    grantType: config.grantType,\n    assertion: token,\n    scope: config.scope,\n  };\n  try {\n    const response = await axios.post(`${API_URL}/${VERSION}/sessions`, body);\n    return { status: response.status, data: response.data };\n  } catch (error) {\n    const errorData = error.response?.data;\n    if (errorData !== undefined) {\n      return {\n        status: errorData.status,\n        data: `${errorData.detail}`,\n      };\n    }\n    return { status: 500, data: \"Error\" };\n  }\n};\n\nconst getNotifications = async (\n  token: string\n): Promise<messages.ApiResponse> => {\n  const authorization = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  try {\n    const response = await axios.get(\n      `${API_URL}/${VERSION}/notifications/`,\n      authorization\n    );\n    return { status: response.status, data: response.data };\n  } catch (error) {\n    const errorData = error.response?.data;\n    if (errorData !== undefined) {\n      return {\n        status: errorData.status,\n        data: `${errorData.detail}`,\n      };\n    }\n    return { status: 500, data: \"Error\" };\n  }\n};\n\nconst acceptNotification = async (\n  idNotification: string,\n  notificationsOptions: notifications.NotificationsOptions\n): Promise<messages.ApiResponse> => {\n  const authorization = {\n    headers: {\n      Authorization: `Bearer ${getJWT()}`,\n    },\n  };\n  try {\n    const response = await axios.post(\n      `${API_URL}/${VERSION}/notifications/${idNotification}/approvals`,\n      notificationsOptions,\n      authorization\n    );\n    return { status: response.status, data: response.data };\n  } catch (error) {\n    const errorData = error.response?.data;\n    if (errorData !== undefined) {\n      return {\n        status: errorData.status,\n        data: `${errorData.detail}`,\n      };\n    }\n    return { status: 500, data: \"Error\" };\n  }\n};\n\nexport { establishBond, getNotifications, acceptNotification };\n","import SecureEnclave from \"../../secureEnclave/SecureEnclave\";\nimport {\n  storeDID,\n  storeKeys,\n  storeJWT,\n  storeUserName,\n} from \"../../utils/DataStorage\";\nimport { signToken } from \"../../utils/auth\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport * as wallet from \"../../apis/wallet\";\nimport { parseJwt } from \"../../utils/JWTHandler\";\n\nexport const setUpKeys = async (userPassword: string) => {\n  const se = SecureEnclave.Instance;\n  const options = {\n    password: userPassword,\n  };\n  const did = await se.addNewWallet(options);\n  const keys = se.exportEncryptedKeys(did);\n  storeDID(did);\n  storeKeys(keys);\n};\n\nexport const storeConnection = (jwt: string) => {\n  storeJWT(jwt);\n  const token = parseJwt(jwt);\n  const username = transform.transformUserName(token.userName);\n  storeUserName(username);\n};\n\nexport const handleTicket = async (ticket: string, password: string) => {\n  if (!ticket) {\n    throw new Error(\"no ticket found\");\n  }\n  if (typeof ticket !== \"string\") {\n    throw new Error(\"ticket not in string format\");\n  }\n\n  const token = await signToken(ticket, password);\n  const response = await wallet.establishBond(token);\n\n  if (response.status === 200 || response.status === 201) {\n    storeConnection(response.data.accessToken);\n  } else {\n    throw new Error(response.data);\n  }\n};\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from \"react\";\nimport { keysNotExist } from \"../../../utils/DataStorage\";\n\ntype Props = {\n  goToLocalStorageWalletScreen: () => void;\n  goToNewWalletScreen: () => void;\n  goToImportWalletScreen: () => void;\n};\n\nexport const ChooseMethod = ({\n  goToLocalStorageWalletScreen,\n  goToNewWalletScreen,\n  goToImportWalletScreen,\n}: Props) => {\n  const hasLocalWallet = !keysNotExist();\n\n  return (\n    <div className=\"ecl-u-bg-blue-130 ecl-u-flex-grow-1\">\n      <main className=\"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl\">\n        <h1 className=\"ecl-u-type-heading-1\">\n          Welcome{hasLocalWallet && \" back\"} on EBSI Wallet!\n        </h1>\n        {hasLocalWallet ? (\n          <>\n            <p className=\"ecl-u-type-paragraph\">\n              We&apos;ve detected that you already have a wallet on this\n              browser.\n            </p>\n            <button\n              type=\"button\"\n              onClick={goToLocalStorageWalletScreen}\n              className=\"ecl-button ecl-button--primary ecl-u-mt-s ecl-u-mr-m\"\n            >\n              Use your existing wallet\n            </button>\n            <p className=\"ecl-u-type-paragraph ecl-u-mt-xl\">\n              You can also decide to create a new wallet or to import an\n              existing one:\n            </p>\n          </>\n        ) : (\n          <p className=\"ecl-u-type-paragraph\">\n            To get started, create a new wallet or import an existing one:\n          </p>\n        )}\n        <button\n          type=\"button\"\n          onClick={goToNewWalletScreen}\n          className={`ecl-button ecl-button--${\n            !hasLocalWallet ? \"primary\" : \"secondary\"\n          } ecl-u-mt-s ecl-u-mr-m`}\n        >\n          Create a new wallet\n        </button>\n        <button\n          type=\"button\"\n          onClick={goToImportWalletScreen}\n          className={`ecl-button ecl-button--${\n            !hasLocalWallet ? \"primary\" : \"secondary\"\n          } ecl-u-mt-s ecl-u-mr-m`}\n        >\n          Import an existing wallet\n        </button>\n      </main>\n    </div>\n  );\n};\n\nexport default ChooseMethod;\n","import url from \"url\";\nimport REACT_APP_EULOGIN from \"../config/env\";\n\nconst options = {\n  cas_url: REACT_APP_EULOGIN.REACT_APP_EULOGIN,\n  service_url: REACT_APP_EULOGIN.REACT_APP_WALLET,\n  cas_version: \"3.0\",\n  session_name: \"ecas_session\",\n  session_info: \"ecas_session_info\",\n  destroy_session: true,\n  renew: false,\n};\n/**\n * @typedef {Object} CAS_options\n * @property {string}  cas_url\n * @property {string}  service_url\n * @property {('1.0'|'2.0'|'3.0')} [cas_version='3.0']\n * @property {boolean} [renew=false]\n * @property {boolean} [is_dev_mode=false]\n * @property {string}  [dev_mode_user='']\n * @property {Object}  [dev_mode_info={}]\n * @property {string}  [session_name='cas_user']\n * @property {string}  [session_info=false]\n * @property {boolean} [destroy_session=false]\n */\nclass Ecas {\n  constructor() {\n    if (options.cas_url === undefined) {\n      throw new Error(\"CAS Authentication requires a cas_url parameter.\");\n    }\n    if (options.service_url === undefined) {\n      throw new Error(\"CAS Authentication requires a service_url parameter.\");\n    }\n  }\n\n  loginLink = (): string => {\n    sessionStorage.setItem(\"urlBeforeLogin\", window.location.href);\n    const query = {\n      service: `${options.service_url}/credentials`,\n      renew: options.renew !== undefined ? !!options.renew : false,\n    };\n    const urlLogin =\n      options.cas_url + url.format({ pathname: \"/login\", query });\n    return urlLogin;\n  };\n\n  logout = (): void => {\n    const query = {\n      service: options.service_url,\n      renew: options.renew !== undefined ? !!options.renew : false,\n    };\n    window.location.assign(\n      options.cas_url +\n        url.format({\n          pathname: \"/logout\",\n          query,\n        })\n    );\n  };\n}\nexport const { loginLink, logout } = new Ecas();\n","import React from \"react\";\nimport \"./Panel.css\";\n\nimport { loginLink } from \"../../apis/ecas\";\n\ntype TitleProps = {\n  children: React.ReactNode;\n};\n\nexport const PanelTitle: React.FunctionComponent<TitleProps> = ({\n  children,\n}: TitleProps) => <div className=\"panelTitle\">{children}</div>;\n\ntype BodyProps = {\n  icon: string;\n  title?: React.ReactNode;\n  linkLabel?: React.ReactNode;\n  children: React.ReactNode;\n};\n\nexport const PanelBody: React.FunctionComponent<BodyProps> = ({\n  icon,\n  title,\n  linkLabel,\n  children,\n}: BodyProps) => (\n  <div className=\"panelBody\">\n    <div className=\"panelImageContainer\">\n      <img src={icon} alt=\"\" role=\"presentation\" className=\"panelImage\" />\n    </div>\n    <div className=\"panelMainContent\">\n      {title && <h3 className=\"panelBodyTitle\">{title}</h3>}\n      <p className=\"panelBodyText\">{children}</p>\n    </div>\n    <div className=\"panelButtonContainer\">\n      <a\n        className=\"panelLink ecl-button ecl-button--call\"\n        role=\"button\"\n        href={loginLink()}\n      >\n        {linkLabel}\n      </a>\n    </div>\n  </div>\n);\n\nPanelBody.defaultProps = {\n  title: \"\",\n  linkLabel: \"\",\n} as Partial<BodyProps>;\n\nexport const Panel: React.FunctionComponent<TitleProps> = ({\n  children,\n}: TitleProps) => <>{children}</>;\n","import React from \"react\";\nimport { Panel, PanelTitle, PanelBody } from \"../../../components/Panel/Panel\";\nimport step1SVG from \"../../../assets/images/step1.svg\";\nimport styles from \"./EuLogin.module.css\";\n\nexport const EuLogin = () => (\n  <div className={styles.app}>\n    <main className={styles.main}>\n      <Panel>\n        <PanelTitle>EBSI Wallet</PanelTitle>\n        <PanelBody icon={step1SVG} linkLabel=\"Login\">\n          Authenticate via EU Login to access your EBSI Wallet.\n        </PanelBody>\n      </Panel>\n    </main>\n  </div>\n);\n\nexport default EuLogin;\n","import { getKeys } from \"./DataStorage\";\n\n/**\n * Function that export the keys (download a json file)\n */\nexport function exportKeys() {\n  const filename = \"keys.json\";\n  const contentType = \"application/json;charset=utf-8;\";\n  const keys = getKeys();\n  if (!keys) throw new Error(\"Keys not found\");\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n    const blob = new Blob([decodeURIComponent(encodeURI(keys))], {\n      type: contentType,\n    });\n    navigator.msSaveOrOpenBlob(blob, filename);\n  } else {\n    const a = document.createElement(\"a\");\n    a.download = filename;\n    a.href = `data:${contentType},${encodeURIComponent(\n      JSON.stringify(JSON.parse(keys))\n    )}`;\n    a.target = \"_blank\";\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  }\n}\n\n/**\n * Function that import the keys (upload a document)\n */\nexport function importKeys(certificateFile: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    // const certificateFile = e.target.files[0];\n    let filename = certificateFile.name;\n    const regExpWhiteSpace = new RegExp(\" \", \"g\");\n    filename = filename.replace(regExpWhiteSpace, \"_\");\n    const indexExt = filename.lastIndexOf(\".\");\n    let ext = \"\";\n    if (indexExt > 0) {\n      ext = filename.substring(indexExt + 1);\n    }\n    if (ext.toUpperCase() === \"JSON\") {\n      const reader = new FileReader();\n      reader.onload = function onLoadFunction() {\n        let dataInBase64 = reader.result;\n        if (typeof dataInBase64 !== \"string\")\n          throw new Error(\"error reading data keys\");\n        // Delete the \"data:application/json;base64\"\n        dataInBase64 = dataInBase64.substring(dataInBase64.indexOf(\",\") + 1);\n        resolve(dataInBase64);\n      };\n      reader.readAsDataURL(certificateFile);\n    } else {\n      reject(new Error(\"Invalid extension. Please upload a JSON file.\"));\n    }\n  });\n}\n\nexport default { exportKeys, importKeys };\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport {\n  connectionNotEstablished,\n  getJWT,\n  keysNotExist,\n} from \"../../utils/DataStorage\";\nimport { isTokenExpired } from \"../../utils/JWTHandler\";\nimport REQUIRED_VARIABLES from \"../../config/env\";\nimport { handleTicket } from \"./Login.utils\";\nimport {\n  ChooseMethod,\n  EuLogin,\n  ImportWallet,\n  LocalStorageWallet,\n  NewWallet,\n} from \"./screens\";\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport enum Screen {\n  BLANK,\n  EU_LOGIN,\n  CHOOSE_METHOD,\n  LOCAL_STORAGE,\n  NEW_WALLET,\n  IMPORT_WALLET,\n}\n\nconst publicUrl = REQUIRED_VARIABLES.REACT_APP_WALLET;\nconst basename = publicUrl.startsWith(\"http\")\n  ? new URL(publicUrl).pathname\n  : publicUrl;\n\nexport const Login: React.FunctionComponent<Props> = ({ children }: Props) => {\n  const location = useLocation();\n  const history = useHistory();\n  const [ticket, setTicket] = useState(\"\");\n  const [screen, setScreen] = useState<Screen>(Screen.BLANK);\n\n  const isConnected =\n    !connectionNotEstablished() && !isTokenExpired(getJWT()) && !keysNotExist();\n\n  useEffect(() => {\n    if (!isConnected && !ticket) {\n      // Return to EU Login screen whenever the user is disconnected (e.g. token has expired) and\n      // the user is currently not logging in (no ticket)\n      setScreen(Screen.EU_LOGIN);\n    }\n  }, [isConnected, ticket]);\n\n  useEffect(() => {\n    const ticketFromUrl = queryString.parse(location.search).ticket;\n    if (ticketFromUrl) {\n      setTicket(\n        Array.isArray(ticketFromUrl) ? ticketFromUrl[0] : ticketFromUrl\n      );\n\n      setScreen(Screen.CHOOSE_METHOD);\n\n      if (sessionStorage.getItem(\"urlBeforeLogin\")) {\n        const url = new URL(sessionStorage.getItem(\"urlBeforeLogin\") || \"\");\n        sessionStorage.removeItem(\"urlBeforeLogin\");\n        let pathname;\n        if (url.pathname.indexOf(basename) === 0) {\n          pathname = url.pathname.slice(basename.length);\n        } else {\n          pathname = url.pathname;\n        }\n        history.replace(pathname + url.search);\n      } else {\n        const params = new URLSearchParams(location.search);\n        params.delete(\"ticket\");\n        history.replace({ ...location, search: params.toString() });\n      }\n    }\n    // Run useEffect only on component first mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const verifyTicket = async (userPassword: string) => {\n    await handleTicket(ticket, userPassword);\n    setTicket(\"\");\n  };\n\n  if (isConnected) {\n    return <>{children}</>;\n  }\n\n  const goToLocalStorageWalletScreen = () => setScreen(Screen.LOCAL_STORAGE);\n  const goToNewWalletScreen = () => setScreen(Screen.NEW_WALLET);\n  const goToImportWalletScreen = () => setScreen(Screen.IMPORT_WALLET);\n  const goToChooseMethodScreen = () => setScreen(Screen.CHOOSE_METHOD);\n\n  if (screen === Screen.CHOOSE_METHOD) {\n    return (\n      <ChooseMethod\n        goToLocalStorageWalletScreen={goToLocalStorageWalletScreen}\n        goToNewWalletScreen={goToNewWalletScreen}\n        goToImportWalletScreen={goToImportWalletScreen}\n      />\n    );\n  }\n\n  if (screen === Screen.LOCAL_STORAGE) {\n    return (\n      <LocalStorageWallet\n        verifyTicket={verifyTicket}\n        goToChooseMethodScreen={goToChooseMethodScreen}\n      />\n    );\n  }\n\n  if (screen === Screen.NEW_WALLET) {\n    return (\n      <NewWallet\n        verifyTicket={verifyTicket}\n        goToChooseMethodScreen={goToChooseMethodScreen}\n      />\n    );\n  }\n\n  if (screen === Screen.IMPORT_WALLET) {\n    return (\n      <ImportWallet\n        verifyTicket={verifyTicket}\n        goToChooseMethodScreen={goToChooseMethodScreen}\n      />\n    );\n  }\n\n  if (screen === Screen.EU_LOGIN) {\n    return <EuLogin />;\n  }\n\n  // Blue screen\n  return <div className=\"ecl-u-bg-blue-130 ecl-u-flex-grow-1\" />;\n};\n\nexport default Login;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport classNames from \"classnames\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport SecureEnclave from \"../../../secureEnclave/SecureEnclave\";\nimport { strB64dec } from \"../../../utils/strB64dec\";\nimport { storeKeys, storeDID } from \"../../../utils/DataStorage\";\nimport * as keysManager from \"../../../utils/KeysHandler\";\n\ntype Props = {\n  verifyTicket: (password: string) => Promise<void>;\n  goToChooseMethodScreen: () => void;\n};\n\nexport const ImportWallet = ({\n  verifyTicket,\n  goToChooseMethodScreen,\n}: Props) => {\n  const { register, handleSubmit, errors } = useForm();\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationError, setGenerationError] = useState(\"\");\n\n  const uploadDocument = async (data: any) => {\n    if (isGenerating) return;\n\n    setIsGenerating(true);\n    setGenerationError(\"\");\n\n    try {\n      const dataInBase64 = await keysManager.importKeys(data.keystore[0]);\n      const keys = strB64dec(dataInBase64);\n\n      const did = await SecureEnclave.Instance.restoreWallet({\n        encryptedKey: keys,\n        password: data.passwordForKeyGeneration,\n      });\n\n      storeKeys(keys);\n      storeDID(did);\n\n      await verifyTicket(data.passwordForKeyGeneration);\n    } catch (e) {\n      setGenerationError(e.toString());\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <div className=\"ecl-u-bg-blue-130 ecl-u-flex-grow-1\">\n      <main className=\"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl\">\n        <h1 className=\"ecl-u-type-heading-1\">Import an existing wallet</h1>\n        <form onSubmit={handleSubmit(uploadDocument)}>\n          <div className=\"ecl-form-group no-js\">\n            <label className=\"ecl-form-label\" htmlFor=\"keystore\">\n              Keystore file\n            </label>\n            <div className=\"ecl-help-block\">\n              This is the JSON file you have exported.\n              <div className=\"ecl-u-mt-xs ecl-u-type-color-grey-75\">\n                Only <strong>.json</strong> files are accepted.\n              </div>\n            </div>\n            {errors.keystore && (\n              <div className=\"ecl-feedback-message\">\n                {errors.keystore.message || \"Invalid keystore!\"}\n              </div>\n            )}\n            <input\n              id=\"keystore\"\n              name=\"keystore\"\n              type=\"file\"\n              className=\"ecl-file-upload\"\n              ref={register({\n                required: \"Keystore is required\",\n              })}\n            />\n          </div>\n          <div className=\"ecl-form-group ecl-u-mt-m\">\n            <label className=\"ecl-form-label\" htmlFor=\"password-key-gen\">\n              Password\n            </label>\n            {errors.passwordForKeyGeneration && (\n              <div className=\"ecl-feedback-message\">\n                {errors.passwordForKeyGeneration.message || \"Invalid password!\"}\n              </div>\n            )}\n            <input\n              type=\"password\"\n              id=\"password-key-gen\"\n              name=\"passwordForKeyGeneration\"\n              className={classNames(\"ecl-text-input ecl-text-input--m\", {\n                \"ecl-text-input--invalid\": errors.passwordForKeyGeneration,\n              })}\n              placeholder=\"Password\"\n              ref={register({\n                required: \"Password is required\",\n              })}\n            />\n          </div>\n          <button\n            className=\"ecl-button ecl-button--primary ecl-u-mt-l ecl-u-mr-m\"\n            type=\"submit\"\n            disabled={isGenerating}\n          >\n            {isGenerating ? \"Importing wallet...\" : \"Import wallet\"}\n          </button>\n          <button\n            className=\"ecl-button ecl-button--ghost ecl-u-mt-l\"\n            type=\"button\"\n            onClick={goToChooseMethodScreen}\n          >\n            Choose another method\n          </button>\n          {generationError && (\n            <div\n              role=\"alert\"\n              className=\"ecl-message ecl-message--error ecl-u-mt-l\"\n              data-ecl-message=\"true\"\n            >\n              <svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n              >\n                <use xlinkHref={`${eclIcons}#notifications--error`} />\n              </svg>\n              <div className=\"ecl-message__content\">\n                <div className=\"ecl-message__title\">Error</div>\n                <p className=\"ecl-message__description\">{generationError}</p>\n              </div>\n            </div>\n          )}\n        </form>\n      </main>\n    </div>\n  );\n};\n\nexport default ImportWallet;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport classNames from \"classnames\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport SecureEnclave from \"../../../secureEnclave/SecureEnclave\";\nimport { getKeys } from \"../../../utils/DataStorage\";\n\ntype Props = {\n  verifyTicket: (password: string) => Promise<void>;\n  goToChooseMethodScreen: () => void;\n};\n\nexport const LocalStorageWallet = ({\n  verifyTicket,\n  goToChooseMethodScreen,\n}: Props) => {\n  const { register, handleSubmit, errors } = useForm();\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationError, setGenerationError] = useState(\"\");\n\n  const onSubmitExistingPass = async (data: any) => {\n    if (isGenerating) return;\n\n    setIsGenerating(true);\n    setGenerationError(\"\");\n\n    try {\n      const userPassword = data.passwordForKeyGeneration;\n      if (!userPassword) throw new Error(\"No password provided\");\n\n      await SecureEnclave.Instance.restoreWallet({\n        encryptedKey: getKeys() || \"\",\n        password: userPassword,\n      });\n      await verifyTicket(userPassword);\n    } catch (error) {\n      setGenerationError(error.toString());\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <div className=\"ecl-u-bg-blue-130 ecl-u-flex-grow-1\">\n      <main className=\"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl\">\n        <h1 className=\"ecl-u-type-heading-1\">Open Wallet</h1>\n        <p className=\"ecl-u-type-paragraph\">\n          The wallet will be loaded from your browser&apos;s local storage.\n        </p>\n        <form onSubmit={handleSubmit(onSubmitExistingPass)}>\n          <div className=\"ecl-form-group\">\n            <label className=\"ecl-form-label\" htmlFor=\"password-key-gen\">\n              Please enter your password:\n            </label>\n            {errors.passwordForKeyGeneration && (\n              <div className=\"ecl-feedback-message\">\n                {errors.passwordForKeyGeneration.message || \"Invalid password!\"}\n              </div>\n            )}\n            <input\n              type=\"password\"\n              id=\"password-key-gen\"\n              name=\"passwordForKeyGeneration\"\n              className={classNames(\"ecl-text-input ecl-text-input--m\", {\n                \"ecl-text-input--invalid\": errors.passwordForKeyGeneration,\n              })}\n              placeholder=\"Password\"\n              ref={register({\n                required: \"Password is required\",\n              })}\n            />\n          </div>\n          <button\n            className=\"ecl-button ecl-button--primary ecl-u-mt-l ecl-u-mr-m\"\n            type=\"submit\"\n            disabled={isGenerating}\n          >\n            {isGenerating ? \"Opening wallet...\" : \"Open wallet\"}\n          </button>\n          <button\n            className=\"ecl-button ecl-button--ghost ecl-u-mt-l\"\n            type=\"button\"\n            onClick={goToChooseMethodScreen}\n          >\n            Choose another method\n          </button>\n          {generationError && (\n            <div\n              role=\"alert\"\n              className=\"ecl-message ecl-message--error ecl-u-mt-l\"\n              data-ecl-message=\"true\"\n            >\n              <svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n              >\n                <use xlinkHref={`${eclIcons}#notifications--error`} />\n              </svg>\n              <div className=\"ecl-message__content\">\n                <div className=\"ecl-message__title\">Error</div>\n                <p className=\"ecl-message__description\">{generationError}</p>\n              </div>\n            </div>\n          )}\n        </form>\n      </main>\n    </div>\n  );\n};\n\nexport default LocalStorageWallet;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport classNames from \"classnames\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { setUpKeys } from \"../Login.utils\";\n\ntype Props = {\n  verifyTicket: (password: string) => Promise<void>;\n  goToChooseMethodScreen: (data: any) => void;\n};\n\nexport const NewWallet = ({ verifyTicket, goToChooseMethodScreen }: Props) => {\n  const { register, watch, handleSubmit, errors } = useForm();\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationError, setGenerationError] = useState(\"\");\n\n  const onSubmitNewPass = async (data: any) => {\n    if (isGenerating) return;\n\n    setIsGenerating(true);\n    setGenerationError(\"\");\n\n    try {\n      const userPassword = data.passwordForKeyGeneration;\n      if (!userPassword) throw new Error(\"No password provided\");\n\n      await setUpKeys(userPassword);\n      await verifyTicket(userPassword);\n    } catch (error) {\n      setGenerationError(error.toString());\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <div className=\"ecl-u-bg-blue-130 ecl-u-flex-grow-1\">\n      <main className=\"ecl-container ecl-u-bg-white ecl-u-pa-xl ecl-u-mt-xl\">\n        <h1 className=\"ecl-u-type-heading-1\">Generate Keys</h1>\n        <h2 className=\"ecl-u-type-heading-2\">\n          Please type a password for the key generation.\n        </h2>\n        <p className=\"ecl-u-type-paragraph\">\n          Please keep this password, you will need it for signing credentials.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          Please note that if you will not be able to recover your wallet unless\n          you download your keys. Note that clicking on &ldquo;Restart User\n          Journey&rdquo; will delete your access to your current wallet.\n        </p>\n        <form onSubmit={handleSubmit(onSubmitNewPass)}>\n          <div className=\"ecl-form-group\">\n            <label className=\"ecl-form-label\" htmlFor=\"password-key-gen\">\n              Please enter your password:\n            </label>\n            {errors.passwordForKeyGeneration && (\n              <div className=\"ecl-feedback-message\">\n                {errors.passwordForKeyGeneration.message || \"Invalid password!\"}\n              </div>\n            )}\n            <input\n              type=\"password\"\n              id=\"password-key-gen\"\n              name=\"passwordForKeyGeneration\"\n              className={classNames(\"ecl-text-input ecl-text-input--m\", {\n                \"ecl-text-input--invalid\": errors.passwordForKeyGeneration,\n              })}\n              placeholder=\"Password\"\n              ref={register({\n                required: \"Password is required\",\n              })}\n            />\n          </div>\n          <div className=\"ecl-form-group ecl-u-mt-m\">\n            <label className=\"ecl-form-label\" htmlFor=\"password-confirm\">\n              Confirm your password:\n            </label>\n            {errors.confirmPassword && (\n              <div className=\"ecl-feedback-message\">\n                {errors.confirmPassword.message || \"Invalid password!\"}\n              </div>\n            )}\n            <input\n              type=\"password\"\n              id=\"password-confirm\"\n              name=\"confirmPassword\"\n              className={classNames(\"ecl-text-input ecl-text-input--m\", {\n                \"ecl-text-input--invalid\": errors.confirmPassword,\n              })}\n              placeholder=\"Confirm password\"\n              ref={register({\n                required: \"Password confirmation is required\",\n                validate: (value) => {\n                  return (\n                    value === watch(\"passwordForKeyGeneration\") ||\n                    \"Your password and confirmation password do not match.\"\n                  );\n                },\n              })}\n            />\n          </div>\n          <button\n            className=\"ecl-button ecl-button--primary ecl-u-mt-l ecl-u-mr-m\"\n            type=\"submit\"\n            disabled={isGenerating}\n          >\n            {isGenerating ? \"Generating...\" : \"Generate\"}\n          </button>\n          <button\n            className=\"ecl-button ecl-button--ghost ecl-u-mt-l\"\n            type=\"button\"\n            onClick={goToChooseMethodScreen}\n          >\n            Choose another method\n          </button>\n          {generationError && (\n            <div\n              role=\"alert\"\n              className=\"ecl-message ecl-message--error ecl-u-mt-l\"\n              data-ecl-message=\"true\"\n            >\n              <svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n              >\n                <use xlinkHref={`${eclIcons}#notifications--error`} />\n              </svg>\n              <div className=\"ecl-message__content\">\n                <div className=\"ecl-message__title\">Error</div>\n                <p className=\"ecl-message__description\">{generationError}</p>\n              </div>\n            </div>\n          )}\n        </form>\n      </main>\n    </div>\n  );\n};\n\nexport default NewWallet;\n","import React from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport \"./Ribbon.css\";\nimport REQUIRED_VARIABLES from \"../../config/env\";\n\nconst DEMONSTRATOR_URL = REQUIRED_VARIABLES.REACT_APP_DEMO;\n\nexport const Ribbon: React.FunctionComponent = () => (\n  <>\n    <Container>\n      <Row>\n        <Col className=\"col\" />\n      </Row>\n    </Container>\n    <div className=\"ribbon\" data-tut=\"reactour_header\">\n      <a className=\"ribbonText\" href={DEMONSTRATOR_URL}>\n        EBSI DEMO\n      </a>\n    </div>\n  </>\n);\nexport default Ribbon;\n","import React, { useState } from \"react\";\nimport \"./Header.css\";\nimport logo from \"@ecl/ec-preset-website/dist/images/logo/logo--en.svg\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { Ribbon } from \"../Ribbon/Ribbon\";\nimport { logout } from \"../../apis/ecas\";\n\nexport const Header: React.FunctionComponent = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const doLogOut = (e: React.MouseEvent) => {\n    e.preventDefault();\n    sessionStorage.clear();\n    localStorage.removeItem(\"Jwt\");\n    logout();\n  };\n\n  const openMenu = () => {\n    setIsMenuOpen(true);\n  };\n\n  const closeMenu = () => {\n    setIsMenuOpen(false);\n  };\n\n  return (\n    <header className=\"ecl-site-header-harmonised--group1 ecl-site-header-harmonised\">\n      <div className=\"ecl-site-header-harmonised__container ecl-container\">\n        <div className=\"ecl-site-header-harmonised__top\">\n          <Link\n            className=\"ecl-link ecl-link--standalone ecl-site-header-harmonised__logo-link\"\n            to=\"/profile\"\n            aria-label=\"European Commission\"\n          >\n            <img\n              alt=\"European Commission logo\"\n              title=\"European Commission\"\n              className=\"ecl-site-header-harmonised__logo-image\"\n              src={logo}\n            />\n          </Link>\n        </div>\n      </div>\n      {/* eslint-disable-next-line jsx-a11y/role-supports-aria-props */}\n      <nav\n        data-ecl-auto-init=\"Menu\"\n        className=\"ecl-menu--group1 ecl-menu\"\n        data-ecl-menu\n        aria-expanded={isMenuOpen}\n      >\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */}\n        <div\n          className=\"ecl-menu__overlay\"\n          data-ecl-menu-overlay\n          onClick={closeMenu}\n        />\n        <div className=\"ecl-container ecl-menu__container\">\n          {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n          <Link\n            className=\"ecl-link ecl-link--standalone ecl-menu__open\"\n            to=\"#\"\n            data-ecl-menu-open\n            onClick={openMenu}\n          >\n            <svg\n              focusable=\"false\"\n              aria-hidden=\"true\"\n              className=\"ecl-icon ecl-icon--s\"\n            >\n              <use xlinkHref={`${eclIcons}#general--hamburger`} />\n            </svg>\n            Menu\n          </Link>\n          <div className=\"ecl-menu__site-name\">EBSI Wallet</div>\n          <section className=\"ecl-menu__inner\" data-ecl-menu-inner>\n            <header className=\"ecl-menu__inner-header\">\n              <button\n                data-ecl-menu-close\n                type=\"button\"\n                className=\"ecl-menu__close ecl-button ecl-button--text\"\n                onClick={closeMenu}\n              >\n                <span className=\"ecl-menu__close-container ecl-button__container\">\n                  <svg\n                    focusable=\"false\"\n                    aria-hidden=\"true\"\n                    data-ecl-icon\n                    className=\"ecl-button__icon ecl-button__icon--before ecl-icon ecl-icon--s\"\n                  >\n                    <use xlinkHref={`${eclIcons}#ui--close-filled`} />\n                  </svg>\n                  <span className=\"ecl-button__label\" data-ecl-label>\n                    Close\n                  </span>\n                </span>\n              </button>\n              <div className=\"ecl-menu__title\">Menu</div>\n              <button\n                data-ecl-menu-back\n                type=\"submit\"\n                className=\"ecl-menu__back ecl-button ecl-button--text\"\n              >\n                <span className=\"ecl-button__container\">\n                  <svg\n                    focusable=\"false\"\n                    aria-hidden=\"true\"\n                    data-ecl-icon\n                    className=\"ecl-button__icon ecl-button__icon--before ecl-icon ecl-icon--s ecl-icon--rotate-270\"\n                  >\n                    <use xlinkHref={`${eclIcons}#ui--corner-arrow`} />\n                  </svg>\n                  <span className=\"ecl-button__label\" data-ecl-label>\n                    Back\n                  </span>\n                </span>\n              </button>\n            </header>\n            <ul className=\"ecl-menu__list\">\n              <li className=\"ecl-menu__item\" data-ecl-menu-item>\n                <NavLink\n                  to=\"/profile\"\n                  className=\"ecl-menu__link\"\n                  activeClassName=\"ecl-menu__link--active\"\n                  data-ecl-menu-link\n                >\n                  My Profile\n                </NavLink>\n              </li>\n              <li className=\"ecl-menu__item\" data-ecl-menu-item>\n                <NavLink\n                  to=\"/credentials\"\n                  className=\"ecl-menu__link\"\n                  activeClassName=\"ecl-menu__link--active\"\n                  data-ecl-menu-link\n                >\n                  Credentials\n                </NavLink>\n              </li>\n              <li className=\"ecl-menu__item\" data-ecl-menu-item>\n                <NavLink\n                  to=\"/notifications\"\n                  className=\"ecl-menu__link\"\n                  activeClassName=\"ecl-menu__link--active\"\n                  data-ecl-menu-link\n                >\n                  Notifications\n                </NavLink>\n              </li>\n              <li className=\"ecl-menu__item\" data-ecl-menu-item>\n                <NavLink\n                  to=\"/presentations\"\n                  className=\"ecl-menu__link\"\n                  activeClassName=\"ecl-menu__link--active\"\n                  data-ecl-menu-link\n                >\n                  Presentations\n                </NavLink>\n              </li>\n              <li className=\"ecl-menu__item\" data-ecl-menu-item>\n                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                <Link\n                  to=\"#\"\n                  onClick={doLogOut}\n                  className=\"ecl-menu__link\"\n                  data-ecl-menu-link\n                >\n                  Logout\n                </Link>\n              </li>\n            </ul>\n          </section>\n        </div>\n      </nav>\n      <Ribbon />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nexport const Footer: React.FunctionComponent = () => (\n  <footer className=\"ecl-footer-core\" />\n);\n\nexport default Footer;\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport \"./EbsiBanner.css\";\n\ntype Props = {\n  title: string;\n  subtitle: string;\n  isLoadingOpen?: boolean;\n};\n\nexport const EbsiBanner: React.FunctionComponent<Props> = ({\n  title,\n  subtitle,\n  isLoadingOpen,\n}: Props) => (\n  <>\n    <div className=\"ecl-page-header-harmonised ecl-u-mt-l\">\n      <div className=\"ecl-container\">\n        <h1 className=\"ecl-page-header-harmonised__title\">{title}</h1>\n      </div>\n    </div>\n    <div className=\"ecl-container\">\n      <p>{subtitle}</p>\n\n      {isLoadingOpen && (\n        <div className=\"ecl-u-mv-l\">\n          <Spinner animation=\"border\" role=\"status\" variant=\"danger\">\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>\n        </div>\n      )}\n    </div>\n  </>\n);\n\nEbsiBanner.defaultProps = {\n  isLoadingOpen: false,\n};\n\nexport default EbsiBanner;\n","export enum NotificationType {\n  STORE_CREDENTIAL,\n  STORE_VERIFIABLEID,\n  REQUEST_PRESENTATION,\n  SIGN_PAYLOAD,\n  SIGN_TX,\n  NONE = -1,\n}\n\nexport interface INotiData {\n  base64: string;\n}\n\nexport interface INotification {\n  id: string;\n  sender: string;\n  receiver: string;\n  message: {\n    didOwner: string;\n    notificationType: NotificationType;\n    name: string;\n    data: INotiData;\n    hash: string;\n    subscriberURL?: string;\n    validationServiceEndpoint?: string;\n    redirectURL?: string;\n    issuer?: string;\n    timestamp?: string;\n  };\n  selectedCredentials: string[];\n  selectedCredsTypes: string[][];\n  dataDecoded?: string;\n}\n\nexport interface NotificationsOptions {\n  signature?: string;\n  selectedCredentials?: string[];\n}\n","import React from \"react\";\nimport { ReactourStep } from \"reactour\";\n\nconst stepsCredentials: ReactourStep[] = [\n  {\n    selector: '[data-tut=\"reactour_credentials\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">\n            You will see here your credentials.\n          </strong>\n          <br />\n          Tap in the credential to see more details about it.\n        </div>\n      );\n    },\n    position: \"left\",\n  },\n  {\n    selector: '[data-tut=\"reactour_header\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">Demonstration Flow.</strong>\n          <br />\n          When you are on the Wallet and other pages and have completed your\n          tasks there, don&#8217;t forget to tap on the &apos;EBSI DEMO&apos;\n          button to return to the demonstration flow\n        </div>\n      );\n    },\n  },\n];\n\nconst stepsNotifications: ReactourStep[] = [\n  {\n    selector: '[data-tut=\"reactour_notifications\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">\n            You will see here your notifications.\n          </strong>\n          <br />\n          Tap in the notification to Verify it.\n        </div>\n      );\n    },\n    position: \"left\",\n  },\n  {\n    selector: '[data-tut=\"reactour_header\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">Demonstration Flow.</strong>\n          <br />\n          When you are on the Wallet and other pages and have completed your\n          tasks there, don&#8217;t forget to tap on the &apos;EBSI DEMO&apos;\n          button to return to the demonstration flow\n        </div>\n      );\n    },\n  },\n];\n\nconst stepsPresentations: ReactourStep[] = [\n  {\n    selector: '[data-tut=\"reactour_presentations\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">\n            You will see here your presentations.\n          </strong>\n          <br />\n          Tap in the presentation to see more details about it.\n        </div>\n      );\n    },\n    position: \"left\",\n  },\n  {\n    selector: '[data-tut=\"reactour_header\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">Demonstration Flow.</strong>\n          <br />\n          When you are on the Wallet and other pages and have completed your\n          tasks there, don&#8217;t forget to tap on the &lsquo;EBSI DEMO&rsquo;\n          button to return to the demonstration flow\n        </div>\n      );\n    },\n  },\n];\n\nconst stepsProfile: ReactourStep[] = [\n  {\n    selector: '[data-tut=\"reactour_center\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">\n            This is your profile page.\n          </strong>\n          <br />\n          In this area you can see your DID and manage your keys.\n        </div>\n      );\n    },\n    position: \"center\",\n  },\n  {\n    selector: '[data-tut=\"reactour_header\"]',\n    content: function DemoHelperComponent() {\n      return (\n        <div>\n          <strong className=\"ecl-u-type-color-blue\">Demonstration Flow.</strong>\n          <br />\n          When you are on the Wallet and other pages and have completed your\n          tasks there, don&#8217;t forget to tap on the &lsquo;EBSI DEMO&rsquo;\n          button to return to the demonstration flow\n        </div>\n      );\n    },\n  },\n];\n\nexport {\n  stepsCredentials,\n  stepsNotifications,\n  stepsPresentations,\n  stepsProfile,\n};\n","import { NotificationType } from \"../dtos/notifications\";\n\nconst credential = {\n  id: \"\",\n  name: \"\",\n  hash: \"\",\n  data: { base64: \"\" },\n  type: [\"\"],\n  did: \"\",\n  dataDecoded: \"\",\n};\n\nconst notification = {\n  id: \"\",\n  sender: \"\",\n  receiver: \"\",\n  message: {\n    didOwner: \"\",\n    notificationType: NotificationType.NONE,\n    name: \"\",\n    data: { base64: \"\" },\n    hash: \"\",\n    validationServiceEndpoint: \"\",\n    timestamp: \"\",\n  },\n\n  selectedCredentials: [],\n  selectedCredsTypes: [],\n  dataDecoded: \"\",\n};\n\nexport { credential, notification };\n","const errorMessages = {\n  invalidAttribute: \"Error: Attribute null or dataDecoded undefined\",\n};\n\nexport default errorMessages;\n","import axios from \"axios\";\nimport { getJWT, getDID } from \"../utils/DataStorage\";\nimport REQUIRED_VARIABLES from \"../config/env\";\nimport { messages, notifications } from \"../dtos\";\nimport errorMessages from \"../config/messages\";\n\nconst API_ID_HUB = REQUIRED_VARIABLES.REACT_APP_ID_HUB_API;\nconst VERSION = \"v1\";\n\nasync function getCredentials(): Promise<messages.ApiResponse> {\n  const authorization = {\n    headers: {\n      Authorization: `Bearer ${getJWT()}`,\n    },\n  };\n  try {\n    const response = await axios.get(\n      `${API_ID_HUB}/${VERSION}/attributes?did=${getDID()}`,\n      authorization\n    );\n    return { status: response.status, data: response.data };\n  } catch (error) {\n    const errorData = error.response?.data;\n    if (errorData !== undefined) {\n      return {\n        status: errorData.status,\n        data: `${errorData.detail}`,\n      };\n    }\n    return { status: 500, data: \"Error\" };\n  }\n}\n\nasync function getCredential(hash: string): Promise<messages.ApiResponse> {\n  const authorization = {\n    headers: {\n      Authorization: `Bearer ${getJWT()}`,\n    },\n  };\n  try {\n    const response = await axios.get(\n      `${API_ID_HUB}/${VERSION}/attributes/${hash}`,\n      authorization\n    );\n    return { status: response.status, data: response.data };\n  } catch (error) {\n    const errorData = error.response?.data;\n    if (errorData !== undefined) {\n      return {\n        status: errorData.status,\n        data: `${errorData.detail}`,\n      };\n    }\n    return { status: 500, data: \"Error\" };\n  }\n}\n\nasync function getCredentialsForPresentation(\n  notification: notifications.INotification\n): Promise<messages.ApiResponse> {\n  const authorization = {\n    headers: {\n      Authorization: `Bearer ${getJWT()}`,\n    },\n  };\n\n  if (!notification || !notification.dataDecoded) {\n    return { status: 500, data: errorMessages.invalidAttribute };\n  }\n\n  try {\n    let url = `${API_ID_HUB}/${VERSION}/attributes?did=${getDID()}`;\n    const arrayTypes = JSON.parse(notification.dataDecoded).type;\n\n    if (Array.isArray(arrayTypes) && arrayTypes.length > 0) {\n      const typesAsString = JSON.stringify(arrayTypes);\n      const types = encodeURI(typesAsString);\n      url = `${url}&type=${types}`;\n    }\n\n    const response = await axios.get(url, authorization);\n    return { status: response.status, data: response.data };\n  } catch (error) {\n    const errorData = error.response?.data;\n    if (errorData !== undefined) {\n      return {\n        status: errorData.status,\n        data: `${errorData.detail}`,\n      };\n    }\n    return { status: 500, data: \"Error\" };\n  }\n}\n\nexport { getCredentials, getCredential, getCredentialsForPresentation };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Profile.css\";\nimport { Badge } from \"react-bootstrap\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport Tour from \"reactour\";\nimport { isTokenExpired } from \"../../utils/JWTHandler\";\nimport { loginLink } from \"../../apis/ecas\";\nimport { Header } from \"../../components/Header/Header\";\nimport { Footer } from \"../../components/Footer/Footer\";\nimport {\n  connectionNotEstablished,\n  getUserName,\n  getDID,\n  getJWT,\n} from \"../../utils/DataStorage\";\nimport { EbsiBanner } from \"../../components/EbsiBanner/EbsiBanner\";\nimport * as tour from \"../../utils/Tour\";\nimport * as models from \"../../models/Models\";\nimport * as idHub from \"../../apis/idHub\";\nimport * as wallet from \"../../apis/wallet\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport * as keysManager from \"../../utils/KeysHandler\";\nimport { INotification } from \"../../dtos/notifications\";\nimport { IAttribute } from \"../../dtos/attributes\";\nimport { attributes } from \"../../dtos\";\n\ntype Props = {\n  history: any;\n  location: any;\n};\n\ntype State = {\n  username: string;\n  did: string;\n  notifications: INotification[];\n  notification1: INotification;\n  notification2: INotification;\n  notification3: INotification;\n  credentials: IAttribute[];\n  credential1: IAttribute;\n  credential2: IAttribute;\n  credential3: IAttribute;\n  isTourOpen: boolean;\n  credentialsName: string[];\n};\n\nexport class Profile extends Component<Props, State> {\n  passwordForKeyGeneration: React.RefObject<HTMLInputElement>;\n\n  constructor(props: Readonly<Props>) {\n    super(props);\n\n    this.passwordForKeyGeneration = React.createRef();\n\n    this.state = {\n      username: getUserName() || \"\",\n      did: getDID() || \"\",\n      notifications: [],\n      notification1: models.notification,\n      notification2: models.notification,\n      notification3: models.notification,\n      credentials: [],\n      credential1: models.credential,\n      credential2: models.credential,\n      credential3: models.credential,\n      isTourOpen: false,\n      credentialsName: [],\n    };\n  }\n\n  componentDidMount(): void {\n    if (connectionNotEstablished()) {\n      this.redirectTo(\"\");\n      return;\n    }\n    if (isTokenExpired(getJWT())) {\n      window.location.assign(loginLink());\n      return;\n    }\n    // other cases\n    this.getNotifications();\n    this.getCredentials();\n  }\n\n  getNotifications = async (): Promise<void> => {\n    const jwt = getJWT();\n    if (!jwt) return;\n\n    const response = await wallet.getNotifications(jwt);\n    if (response.status === 200 || response.status === 201) {\n      this.setState({\n        notifications: response.data.items,\n        notification1: response.data.items[0],\n        notification2: response.data.items[1],\n        notification3: response.data.items[2],\n      });\n    }\n  };\n\n  setCredentialsName = async (\n    credentials: attributes.IAttribute[]\n  ): Promise<string[]> => {\n    const credentialsName = credentials.map(async (credential) =>\n      transform.modifyName(\n        credential.name,\n        \"credential\",\n        credential.issuer || \"\"\n      )\n    );\n    return Promise.all(credentialsName);\n  };\n\n  async getCredentials(): Promise<void> {\n    const response = await idHub.getCredentials();\n    if (response.status === 200 || response.status === 201) {\n      const list = this.displayJustCredentials(response.data.items);\n      this.setState({\n        credentials: list,\n        credential1: list[0],\n        credential2: list[1],\n        credential3: list[2],\n        credentialsName: await this.setCredentialsName(list),\n      });\n    }\n  }\n\n  displayJustCredentials = (\n    list: attributes.IAttribute[]\n  ): attributes.IAttribute[] => {\n    const listOfCredentials = list.filter(\n      (attribute) => attribute.type !== \"VerifiablePresentation\"\n    );\n\n    return listOfCredentials;\n  };\n\n  disableBody = (target: HTMLDivElement): void => {\n    disableBodyScroll(target);\n  };\n\n  enableBody = (target: HTMLDivElement): void => {\n    enableBodyScroll(target);\n  };\n\n  openTour = (): void => {\n    this.setState({\n      isTourOpen: true,\n    });\n  };\n\n  closeTour = (): void => {\n    this.setState({\n      isTourOpen: false,\n    });\n  };\n\n  redirectTo(whereRedirect: string): void {\n    const { history } = this.props;\n    history.push(`/${whereRedirect}`);\n  }\n\n  render(): JSX.Element {\n    const {\n      username,\n      did,\n      notifications,\n      notification1,\n      notification2,\n      notification3,\n      credentials,\n      credential1,\n      credential2,\n      credential3,\n      isTourOpen,\n      credentialsName,\n    } = this.state;\n    return (\n      <>\n        <Header />\n        <EbsiBanner title=\"Welcome to your EBSI wallet\" subtitle=\"My Profile\" />\n        <main className=\"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l\">\n          <div className=\"ecl-row\">\n            <div className=\"ecl-col-lg-4\">\n              <h2 className=\"ecl-u-type-heading-2\">Personal</h2>\n              <p> {username}</p>\n              <h3 className=\"ecl-u-type-heading-3\">My DID Address</h3>\n              <div\n                data-tut=\"reactour_center\"\n                style={{ wordWrap: \"break-word\" }}\n              >\n                {did}\n              </div>\n              <p className=\"ecl-u-type-paragraph ecl-u-mt-m\">\n                Please note that if you will not be able to recover your wallet\n                unless you download your keys. Note that clicking on\n                &ldquo;Restart User Journey&rdquo; will delete your access to\n                your current wallet.\n              </p>\n              <button\n                className=\"ecl-button ecl-button--primary\"\n                type=\"button\"\n                onClick={() => keysManager.exportKeys()}\n              >\n                Export Keys\n              </button>\n            </div>\n            <div className=\"ecl-col-lg-4\">\n              <h2 className=\"ecl-u-type-heading-2\">\n                Notifications\n                {notifications.length > 0 && (\n                  <>\n                    {\" \"}\n                    <Badge variant=\"danger\">{notifications.length}</Badge>\n                  </>\n                )}\n              </h2>\n              {notifications.length === 0 && (\n                <p className=\"ecl-u-type-paragraph\">\n                  You don&apos;t have any pending notifications.\n                </p>\n              )}\n              {notifications.length > 0 && (\n                <>\n                  <ul className=\"ecl-unordered-list\">\n                    {notification1 !== undefined && (\n                      <li className=\"ecl-unordered-list__item\">\n                        {transform.notificationType(\n                          notification1.message.notificationType,\n                          notification1.message.name,\n                          notification1.message.redirectURL\n                        )}\n                      </li>\n                    )}\n                    {notification2 !== undefined && (\n                      <li className=\"ecl-unordered-list__item\">\n                        {transform.notificationType(\n                          notification2.message.notificationType,\n                          notification2.message.name,\n                          notification2.message.redirectURL\n                        )}\n                      </li>\n                    )}\n                    {notification3 !== undefined && (\n                      <li className=\"ecl-unordered-list__item\">\n                        {transform.notificationType(\n                          notification3.message.notificationType,\n                          notification3.message.name,\n                          notification3.message.redirectURL\n                        )}\n                      </li>\n                    )}\n                  </ul>\n                  <Link\n                    to=\"/notifications\"\n                    className=\"ecl-link ecl-link--cta ecl-u-mt-s\"\n                  >\n                    See All Pending Notifications\n                  </Link>\n                </>\n              )}\n            </div>\n            <div className=\"ecl-col-lg-4\">\n              <h2 className=\"ecl-u-type-heading-2\">\n                Credentials\n                {credentials.length > 0 && (\n                  <>\n                    {\" \"}\n                    <Badge variant=\"danger\">{credentials.length}</Badge>\n                  </>\n                )}\n              </h2>\n              {credentials.length === 0 && (\n                <p className=\"ecl-u-type-paragraph\">\n                  You don&apos;t have any credentials yet.\n                </p>\n              )}\n              {credentials.length > 0 && (\n                <>\n                  <ul className=\"ecl-unordered-list\">\n                    {credential1 !== undefined && (\n                      <li className=\"ecl-unordered-list__item\">\n                        {credentialsName[0]}\n                      </li>\n                    )}\n                    {credential2 !== undefined && (\n                      <li className=\"ecl-unordered-list__item\">\n                        {credentialsName[1]}\n                      </li>\n                    )}\n                    {credential3 !== undefined && (\n                      <li className=\"ecl-unordered-list__item\">\n                        {credentialsName[2]}\n                      </li>\n                    )}\n                  </ul>\n                  <Link\n                    to=\"/credentials\"\n                    className=\"ecl-link ecl-link--cta ecl-u-mt-s  \"\n                  >\n                    See All Credentials\n                  </Link>\n                </>\n              )}\n            </div>\n          </div>\n        </main>\n        <Footer />\n        <button\n          onClick={this.openTour}\n          className=\"ecl-button ecl-button--primary tourButton\"\n          type=\"button\"\n          title=\"Open guided tour\"\n        >\n          ?\n        </button>\n        <Tour\n          steps={tour.stepsProfile}\n          isOpen={isTourOpen}\n          onRequestClose={this.closeTour}\n          onAfterOpen={this.disableBody}\n          onBeforeClose={this.enableBody}\n        />\n      </>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport \"./Credentials.css\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport Tour from \"reactour\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { Header } from \"../../components/Header/Header\";\nimport { EbsiBanner } from \"../../components/EbsiBanner/EbsiBanner\";\nimport { Footer } from \"../../components/Footer/Footer\";\nimport CredentialItem from \"../../components/CredentialItem/CredentialItem\";\nimport { ToastEbsi } from \"../../components/ToastEbsi/ToastEbsi\";\nimport CredentialModal from \"../../components/CredentialModal/CredentialModal\";\nimport colors from \"../../config/colors\";\nimport { getJWT, connectionNotEstablished } from \"../../utils/DataStorage\";\nimport { strB64dec } from \"../../utils/strB64dec\";\nimport { isTokenExpired } from \"../../utils/JWTHandler\";\nimport * as tour from \"../../utils/Tour\";\nimport * as models from \"../../models/Models\";\nimport * as idHub from \"../../apis/idHub\";\nimport REQUIRED_VARIABLES from \"../../config/env\";\nimport { loginLink } from \"../../apis/ecas\";\nimport { IAttribute } from \"../../dtos/attributes\";\n\nconst DEMO = REQUIRED_VARIABLES.REACT_APP_DEMO;\n\nexport enum CredentialsStatus {\n  Loading,\n  Success,\n  Error,\n}\n\ntype Props = {\n  history: any;\n  location: any;\n};\n\ntype State = {\n  credentials: JSX.Element[];\n  credentialsStatus: CredentialsStatus;\n  credentialsError: string;\n  credential: IAttribute;\n  isModalCredentialOpen: boolean;\n  isToastOpen: boolean;\n  toastMessage: string;\n  toastColor: string;\n  isLoadingOpen: boolean;\n  isTourOpen: boolean;\n};\n\nexport class Credentials extends Component<Props, State> {\n  passwordForKeyGeneration: React.RefObject<HTMLInputElement>;\n\n  constructor(props: Readonly<Props>) {\n    super(props);\n\n    this.passwordForKeyGeneration = React.createRef();\n\n    this.state = {\n      credentials: [],\n      credentialsStatus: CredentialsStatus.Loading,\n      credentialsError: \"\",\n      credential: models.credential,\n      isModalCredentialOpen: false,\n      isToastOpen: false,\n      toastMessage: \"Error\",\n      toastColor: colors.EC_GREEN,\n      isLoadingOpen: false,\n      isTourOpen: false,\n    };\n    this.closeToast = this.closeToast.bind(this);\n    this.closeCredentialModal = this.closeCredentialModal.bind(this);\n    this.displayCredential = this.displayCredential.bind(this);\n  }\n\n  componentDidMount(): void {\n    if (connectionNotEstablished()) {\n      this.redirectTo(\"\");\n    } else if (isTokenExpired(getJWT())) {\n      window.location.assign(loginLink());\n    } else {\n      this.getCredentials();\n    }\n  }\n\n  async getCredentials(): Promise<void> {\n    this.startLoading();\n    const response = await idHub.getCredentials();\n    if (response.status === 200 || response.status === 201) {\n      const outAttrs = response.data.items as IAttribute[];\n      const credentials = outAttrs\n        .filter(\n          (credential) =>\n            Array.isArray(credential.type) &&\n            credential.type.length > 0 &&\n            credential.type.includes(\"VerifiableCredential\")\n        )\n        .map((attrTemp) => (\n          <CredentialItem\n            credential={attrTemp}\n            key={attrTemp.id}\n            methodToOpen={this.displayCredential}\n          />\n        ));\n      this.stopLoading();\n      this.setState({\n        isLoadingOpen: false,\n        credentialsStatus: CredentialsStatus.Success,\n        credentials,\n      });\n    } else {\n      if (response.status === 404) {\n        this.redirectTo(\"\");\n      }\n\n      this.setState({\n        isLoadingOpen: false,\n        credentialsStatus: CredentialsStatus.Error,\n        credentialsError: response.data,\n      });\n    }\n  }\n\n  closeTour = (): void => {\n    this.setState({\n      isTourOpen: false,\n    });\n  };\n\n  disableBody = (target: HTMLDivElement): void => {\n    disableBodyScroll(target);\n  };\n\n  enableBody = (target: HTMLDivElement): void => {\n    enableBodyScroll(target);\n  };\n\n  openTour = (): void => {\n    this.setState({\n      isTourOpen: true,\n    });\n  };\n\n  async displayCredential(hash: string): Promise<void> {\n    const response = await idHub.getCredential(hash);\n    if (response.status === 200 || response.status === 201) {\n      this.openCredentialModal(response.data);\n    } else {\n      if (response.status === 404) {\n        this.redirectTo(\"\");\n      }\n      this.openToast(`Error getting the credential. ${response.data}`);\n    }\n  }\n\n  openCredentialModal(credential: IAttribute): void {\n    const credentialDecoded = credential;\n    credentialDecoded.dataDecoded = strB64dec(credential.data.base64);\n    this.setState({\n      isModalCredentialOpen: true,\n      credential: credentialDecoded,\n    });\n  }\n\n  openToast(message: string): void {\n    this.setState({\n      isToastOpen: true,\n      toastMessage: message,\n      isLoadingOpen: false,\n      toastColor: colors.EC_RED,\n    });\n  }\n\n  closeCredentialModal(): void {\n    this.setState({\n      isModalCredentialOpen: false,\n    });\n  }\n\n  closeToast(): void {\n    this.setState({\n      isToastOpen: false,\n    });\n  }\n\n  redirectTo(whereRedirect: string): void {\n    const { history } = this.props;\n    history.push(`/${whereRedirect}`);\n  }\n\n  startLoading(): void {\n    this.setState({\n      isLoadingOpen: true,\n    });\n  }\n\n  stopLoading(): void {\n    this.setState({\n      isLoadingOpen: false,\n    });\n  }\n\n  render(): JSX.Element {\n    const {\n      credentials,\n      credentialsError,\n      credentialsStatus,\n      credential,\n      isModalCredentialOpen,\n      isLoadingOpen,\n      isToastOpen,\n      toastColor,\n      toastMessage,\n      isTourOpen,\n    } = this.state;\n\n    return (\n      <>\n        <Header />\n        <ToastEbsi\n          isToastOpen={isToastOpen}\n          methodToClose={this.closeToast}\n          toastColor={toastColor}\n          colorText={colors.WHITE}\n          toastMessage={toastMessage}\n        />\n        <EbsiBanner\n          title=\"Credentials Page\"\n          subtitle=\"List of your credentials.\"\n          isLoadingOpen={isLoadingOpen}\n        />\n        <main className=\"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l\">\n          <CredentialModal\n            credential={credential}\n            isModalCredentialOpen={isModalCredentialOpen}\n            methodToClose={this.closeCredentialModal}\n          />\n          {credentialsStatus === CredentialsStatus.Error && (\n            <div\n              role=\"alert\"\n              className=\"ecl-message ecl-message--error\"\n              data-ecl-message=\"true\"\n            >\n              <svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n              >\n                <use xlinkHref={`${eclIcons}#notifications--error`} />\n              </svg>\n              <div className=\"ecl-message__content\">\n                <div className=\"ecl-message__title\">Error</div>\n                <p className=\"ecl-message__description\">{credentialsError}</p>\n              </div>\n            </div>\n          )}\n          {credentialsStatus === CredentialsStatus.Success &&\n            credentials.length === 0 && (\n              <p>\n                You don&#8217;t have any credential at the moment. Follow the{\" \"}\n                <a className=\"ecl-link\" href={DEMO}>\n                  demonstrator\n                </a>{\" \"}\n                to create some.\n              </p>\n            )}\n          <div data-tut=\"reactour_credentials\">{credentials}</div>\n        </main>\n        <Footer />\n        <button\n          onClick={this.openTour}\n          className=\"ecl-button ecl-button--primary tourButton\"\n          type=\"button\"\n          title=\"Open guided tour\"\n        >\n          ?\n        </button>\n        <Tour\n          steps={tour.stepsCredentials}\n          isOpen={isTourOpen}\n          onRequestClose={this.closeTour}\n          onAfterOpen={this.disableBody}\n          onBeforeClose={this.enableBody}\n        />\n      </>\n    );\n  }\n}\n\nexport default Credentials;\n","import { EbsiDidAuth, DidAuthResponseCall } from \"@cef-ebsi/did-auth\";\nimport SecureEnclave from \"../../secureEnclave/SecureEnclave\";\nimport { getDID, getKeys } from \"../../utils/DataStorage\";\nimport { IWalletOptions } from \"../../secureEnclave/UserWallet\";\n\nexport const createResponse = async (nonce: string, serviceUrl: string) => {\n  const did = getDID();\n  if (!did) throw new Error(\"No DID found on Local Storage.\");\n\n  const privateKey = SecureEnclave.Instance.getPrivateKey(did);\n\n  const didAuthResponseCall: DidAuthResponseCall = {\n    hexPrivatekey: privateKey, // private key managed by the user. Should be passed in hexadecimal format\n    did, // User DID\n    nonce, // same nonce received as a Request Payload after verifying it\n    redirectUri: serviceUrl, // parsed URI from the DID Auth Request payload\n  };\n\n  const didAuthResponseJwt = await EbsiDidAuth.createDidAuthResponse(\n    didAuthResponseCall\n  );\n\n  window.location.replace(`${serviceUrl}?response=${didAuthResponseJwt}`);\n};\n\nexport const decryptKeys = async (password: string) => {\n  const encryptedKey = getKeys();\n  if (!encryptedKey) throw new Error(\"No keys found.\");\n\n  const options: IWalletOptions = {\n    encryptedKey,\n    password,\n  };\n\n  await SecureEnclave.Instance.restoreWallet(options);\n};\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { Modal } from \"react-bootstrap\";\nimport classNames from \"classnames\";\nimport { EbsiDidAuth, DidAuthRequestPayload } from \"@cef-ebsi/did-auth\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { parseJwt } from \"../../utils/JWTHandler\";\nimport { Panel, PanelTitle } from \"../../components/Panel/Panel\";\nimport REQUIRED_VARIABLES from \"../../config/env\";\nimport step1SVG from \"../../assets/images/step1.svg\";\nimport styles from \"./DidAuth.module.css\";\nimport * as issuer from \"../../utils/issuer\";\nimport { createResponse, decryptKeys } from \"./DidAuth.utils\";\n\nexport const DidAuth: React.FunctionComponent = () => {\n  const location = useLocation();\n  const [serviceUrl, setServiceUrl] = useState(\"\");\n  const [serviceDID, setServiceDID] = useState(\"\");\n  const [serviceName, setServiceName] = useState(\"\");\n  const [didAuthRequestJwt, setDidAuthRequestJwt] = useState(\"\");\n  const [isModalAskingForPass, setIsModalAskingForPass] = useState(false);\n  const [verifyingDidAuth, setVerifyingDidAuth] = useState(false);\n  const [authenticationError, setAuthenticationError] = useState(\"\");\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = async (data: any) => {\n    try {\n      setVerifyingDidAuth(true);\n\n      const requestPayload: DidAuthRequestPayload = await EbsiDidAuth.verifyDidAuthRequest(\n        didAuthRequestJwt,\n        REQUIRED_VARIABLES.DID_API_IDENTIFIERS\n      );\n\n      await decryptKeys(data.didAuthPassword);\n      createResponse(requestPayload.nonce, serviceUrl);\n    } catch (error) {\n      setVerifyingDidAuth(false);\n      setAuthenticationError(error.message);\n    }\n  };\n\n  const openModalAskingPass = () => {\n    setIsModalAskingForPass(true);\n    setAuthenticationError(\"\");\n  };\n\n  const closeModalAskingPass = () => {\n    setIsModalAskingForPass(false);\n  };\n\n  const didAuth = async (urlParameters: URLSearchParams) => {\n    if (!urlParameters) throw new Error(\"No URL Parameters provided\");\n\n    const clientId = urlParameters.get(\"client_id\");\n    const didAuthRequest = urlParameters.get(\"request\");\n    if (!clientId || !didAuthRequest)\n      throw new Error(\"Error parsing DIDAuth request\");\n\n    const token = parseJwt(didAuthRequest);\n    if (!token.iss) throw new Error(\"No issuer found in DIDAuth request token\");\n    const issuerName = await issuer.getIssuerName(token.iss);\n\n    setServiceDID(token.iss);\n    setServiceUrl(clientId);\n    setServiceName(issuerName);\n    setDidAuthRequestJwt(didAuthRequest);\n  };\n\n  // ComponentDidMount\n  useEffect(() => {\n    async function componentDidMount() {\n      const urlParameters = new URLSearchParams(location.search);\n      try {\n        await didAuth(urlParameters);\n      } catch (error) {\n        // do nothing\n      }\n    }\n    componentDidMount();\n  }, [location]);\n\n  return (\n    <div className={styles.app}>\n      <main className={styles.main}>\n        <Panel>\n          <PanelTitle>Authorization</PanelTitle>\n          <div className=\"panelBody\">\n            <div className=\"panelImageContainer\">\n              <img\n                src={step1SVG}\n                alt=\"\"\n                role=\"presentation\"\n                className=\"panelImage\"\n              />\n            </div>\n            <div className=\"panelMainContent\">\n              {serviceName === \"-\" && (\n                <div>\n                  <h3 className=\"panelBodyTitle\">\n                    Connect with the service with DID:\n                  </h3>\n                  <p\n                    className=\"panelBodyText\"\n                    style={{ wordWrap: \"break-word\" }}\n                  >\n                    {serviceDID}\n                  </p>\n                </div>\n              )}\n              {serviceName !== \"-\" && (\n                <h3 className=\"panelBodyTitle\">\n                  {serviceName} wants to connects you\n                </h3>\n              )}\n              <p className=\"panelBodyText\" style={{ wordWrap: \"break-word\" }}>\n                {serviceUrl}\n              </p>\n            </div>\n          </div>\n          <div className={styles.panelFooter}>\n            <button\n              className=\"ecl-button ecl-button--call\"\n              type=\"button\"\n              onClick={openModalAskingPass}\n            >\n              Authorize\n            </button>\n          </div>\n        </Panel>\n      </main>\n      <Modal show={isModalAskingForPass} onHide={closeModalAskingPass}>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Modal.Header className=\"ModalHeader\" closeButton>\n            <Modal.Title>Password</Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"ModalBody\">\n            <div className=\"ecl-form-group\">\n              <label className=\"ecl-form-label\" htmlFor=\"did-auth-password\">\n                Please type your password to authorize the connection.\n              </label>\n              {errors.didAuthPassword && (\n                <div className=\"ecl-feedback-message\">\n                  {errors.didAuthPassword.message || \"Invalid password!\"}\n                </div>\n              )}\n              <input\n                type=\"password\"\n                id=\"did-auth-password\"\n                name=\"didAuthPassword\"\n                className={classNames(\"ecl-text-input ecl-u-width-100\", {\n                  \"ecl-text-input--invalid\": errors.didAuthPassword,\n                })}\n                placeholder=\"Password\"\n                ref={register({ required: true })}\n              />\n            </div>\n            {authenticationError && (\n              <div\n                role=\"alert\"\n                className=\"ecl-message ecl-message--error ecl-u-mt-m\"\n                data-ecl-message=\"true\"\n              >\n                <svg\n                  focusable=\"false\"\n                  aria-hidden=\"true\"\n                  className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n                >\n                  <use xlinkHref={`${eclIcons}#notifications--error`} />\n                </svg>\n                <div className=\"ecl-message__content\">\n                  <div className=\"ecl-message__title\">\n                    {authenticationError}\n                  </div>\n                </div>\n              </div>\n            )}\n          </Modal.Body>\n          <Modal.Footer>\n            <button\n              type=\"submit\"\n              className=\"ecl-button ecl-button--primary\"\n              disabled={verifyingDidAuth}\n            >\n              {verifyingDidAuth ? (\n                <>\n                  <svg\n                    focusable=\"false\"\n                    aria-hidden=\"true\"\n                    className={classNames(\n                      \"ecl-icon ecl-icon--xs\",\n                      styles.spinner\n                    )}\n                  >\n                    <use xlinkHref={`${eclIcons}#general--spinner`} />\n                  </svg>{\" \"}\n                  Checking...\n                </>\n              ) : (\n                \"Authorize\"\n              )}\n            </button>\n          </Modal.Footer>\n        </form>\n      </Modal>\n    </div>\n  );\n};\nexport default DidAuth;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./CredentialItem.module.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { getIssuer } from \"../../utils/issuer\";\nimport logoDiploma from \"../../assets/images/diploma.png\";\nimport { IAttribute } from \"../../dtos/attributes\";\n\ntype CallbackFunctionOpen = (hash: string) => void;\n\ntype Props = {\n  credential: IAttribute;\n  methodToOpen: CallbackFunctionOpen;\n};\n\ntype State = {\n  issuer: string;\n  name: string;\n};\n\nclass CredentialItem extends Component<Props, State> {\n  public isCredentialItemMounted: boolean;\n\n  constructor(props: Readonly<Props>) {\n    super(props);\n    this.isCredentialItemMounted = false;\n    this.state = {\n      issuer: \"\",\n      name: \"\",\n    };\n  }\n\n  async componentDidMount(): Promise<void> {\n    this.isCredentialItemMounted = true;\n    const { credential } = this.props;\n    const issuer = await getIssuer(credential);\n    const name = await transform.modifyName(\n      credential.name,\n      \"credential\",\n      credential.did\n    );\n\n    // Prevent memory leaks with this.isMounted\n    if (this.isCredentialItemMounted) {\n      this.setState({\n        issuer,\n        name,\n      });\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.isCredentialItemMounted = false;\n  }\n\n  render(): JSX.Element {\n    const { credential, methodToOpen } = this.props;\n    const { issuer, name } = this.state;\n    return (\n      <article\n        className={`ecl-card ecl-card--tile ${styles.credentialItem}`}\n        key={credential.id}\n      >\n        <header className=\"ecl-card__header\">\n          <h1 className=\"ecl-card__title\">\n            <img\n              src={logoDiploma}\n              height=\"32\"\n              width=\"32\"\n              className=\"logo rounded mr-2\"\n              alt=\"\"\n            />{\" \"}\n            <Link\n              to=\"/notifications\"\n              onClick={(e) => {\n                e.preventDefault();\n                methodToOpen(credential.hash);\n              }}\n              className=\"ecl-link ecl-link--standalone\"\n            >\n              {name}\n            </Link>\n          </h1>\n        </header>\n        <div className=\"ecl-card__body\">\n          <div className=\"ecl-card__description\">Issued By: {issuer}</div>\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default CredentialItem;\n","const colors = {\n  WHITE: \"#FFF\",\n  EC_BLUE: \"#004494\",\n  EC_YELLOW: \"#FFD617\",\n  EC_GREY: \"#404040\",\n  EC_BLUE_N: \"#006FB4\",\n  EC_BLUE_75: \"#4073AF\",\n  EC_BLUE_BACK: \"#002f67\",\n  EC_ORANGE: \"#F29527\",\n  EC_GREEN: \"#467A39\",\n  EC_RED: \"#DA2131\",\n  BLACK: \"#000000\",\n};\n\nexport default colors;\n","import React from \"react\";\nimport { Toast } from \"react-bootstrap\";\nimport colors from \"../../config/colors\";\nimport EUimage from \"../../assets/images/european-union.png\";\n\ntype CallbackFunction = () => void;\n\ntype Props = {\n  isToastOpen: boolean;\n  methodToClose: CallbackFunction;\n  toastColor: string;\n  colorText: string;\n  toastMessage: string;\n};\n\nconst toastStyle: React.CSSProperties = {\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  margin: \"0 auto\",\n  backgroundColor: \"rgba(255,255,255,1)\",\n  border: \"none\",\n  zIndex: 10,\n};\n\nexport const ToastEbsi: React.FunctionComponent<Props> = ({\n  isToastOpen,\n  methodToClose,\n  toastColor,\n  colorText,\n  toastMessage,\n}: Props) => (\n  <Toast show={isToastOpen} onClose={methodToClose} style={toastStyle}>\n    <Toast.Header style={{ backgroundColor: toastColor, color: colorText }}>\n      <img\n        src={EUimage}\n        height=\"16\"\n        width=\"16\"\n        className=\"rounded mr-2\"\n        alt=\"\"\n      />\n      <strong className=\"mr-auto\">\n        {toastColor === colors.EC_GREEN ? \"Success\" : \"Error\"}\n      </strong>\n      <small>Ebsi Wallet</small>\n    </Toast.Header>\n    <Toast.Body>{toastMessage}</Toast.Body>\n  </Toast>\n);\nexport default ToastEbsi;\n","import React from \"react\";\n\ntype Props = {\n  data: string;\n};\n\nexport const VID: React.FunctionComponent<Props> = ({ data }) => {\n  try {\n    const parsedData = JSON.parse(data);\n    return (\n      <dl className=\"ecl-description-list ecl-description-list--horizontal\">\n        <dt className=\"ecl-description-list__term\">Person Identifier</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.personIdentifier}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Family Name</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.currentFamilyName}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Given Name</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.currentGivenName}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Birth Name</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.birthName}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Date of Birth</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.dateOfBirth}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Address</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.currentAddress}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Gender</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.gender}\n        </dd>\n        <dt className=\"ecl-description-list__term\">DID</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.id}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Government ID</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.govId\n            ? parsedData.credentialSubject.govId\n            : \" - \"}\n        </dd>\n      </dl>\n    );\n  } catch (error) {\n    return (\n      <>\n        <p>\n          <b>\n            <u>Error Parsing the Verifiable eID.</u>\n          </b>\n        </p>\n        <p>\n          <b>Contact the issuer to check what happens.</b>\n        </p>\n      </>\n    );\n  }\n};\n\nexport default VID;\n","import React from \"react\";\n\ntype Props = {\n  data: string | any;\n};\n\nexport const Diploma: React.FunctionComponent<Props> = ({ data }) => {\n  try {\n    const parsedData = JSON.parse(data);\n    return (\n      <dl className=\"ecl-description-list ecl-description-list--horizontal\">\n        <dt className=\"ecl-description-list__term\">Issuer</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.issuer}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Title</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.achievements[0].title}\n        </dd>\n        <dt className=\"ecl-description-list__term\">Issuance Date</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {parsedData.credentialSubject.achievements[0].issuedDate}\n        </dd>\n        <dt className=\"ecl-description-list__term\">ISCED-F Code</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {\n            parsedData.credentialSubject.achievements[0].learningSpecification\n              .iscedFcode\n          }\n        </dd>\n        <dt className=\"ecl-description-list__term\">Target Framework</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {\n            parsedData.credentialSubject.achievements[0].learningSpecification\n              .hasAccreditation.targetFramework\n          }\n        </dd>\n        <dt className=\"ecl-description-list__term\">Numeric Score</dt>\n        <dd className=\"ecl-description-list__definition\">\n          {\n            parsedData.credentialSubject.achievements[0].hasPart[0]\n              .wasDerivedFrom.grade.numericScore\n          }\n        </dd>\n      </dl>\n    );\n  } catch (error) {\n    return (\n      <>\n        <p>\n          <b>\n            <u>Error Parsing the Diploma.</u>\n          </b>\n        </p>\n        <p>\n          <b>Contact the issuer to check what happens.</b>\n        </p>\n      </>\n    );\n  }\n};\n\nexport default Diploma;\n","import React from \"react\";\nimport backgroundEUimage from \"../../../assets/images/eu-background.svg\";\n\nexport const VP: React.FunctionComponent = () => (\n  <div style={{ textAlign: \"center\" }}>\n    <img\n      src={backgroundEUimage}\n      height=\"196\"\n      width=\"196\"\n      className=\"logo rounded mr-2\"\n      alt=\"\"\n    />\n    <p>\n      <b>Verifiable eID Presentation.</b>\n    </p>\n  </div>\n);\n\nexport default VP;\n","import React, { Component } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport JSONPretty from \"react-json-pretty\";\nimport \"./CredentialModal.css\";\nimport { VID } from \"../CredentialTypes/VID/VID\";\nimport { Diploma } from \"../CredentialTypes/Diploma/Diploma\";\nimport { VP } from \"../CredentialTypes/VP/VP\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { IAttribute } from \"../../dtos/attributes\";\n\ntype CallbackFunction = () => void;\n\ntype Props = {\n  credential: IAttribute;\n  isModalCredentialOpen: boolean;\n  methodToClose: CallbackFunction;\n};\n\ntype State = {\n  isFullCredentialDisplayed: boolean;\n  name: string;\n};\n\nclass CredentialModal extends Component<Props, State> {\n  constructor(props: Readonly<Props>) {\n    super(props);\n\n    this.state = {\n      isFullCredentialDisplayed: false,\n      name: \"\",\n    };\n  }\n\n  openDetails = async (): Promise<void> => {\n    const { credential } = this.props;\n    const name = await transform.modifyName(\n      credential.name,\n      \"credential\",\n      credential.did\n    );\n    this.setState({\n      isFullCredentialDisplayed: true,\n      name,\n    });\n  };\n\n  closeDetails = (): void => {\n    const { isFullCredentialDisplayed } = this.state;\n    if (isFullCredentialDisplayed) {\n      this.setState({\n        isFullCredentialDisplayed: false,\n        name: \"\",\n      });\n    }\n  };\n\n  render(): JSX.Element {\n    const { methodToClose, credential, isModalCredentialOpen } = this.props;\n    const { isFullCredentialDisplayed, name } = this.state;\n    return (\n      <Modal show={isModalCredentialOpen} onHide={methodToClose} size=\"lg\">\n        <Modal.Header className=\"ModalHeader\" closeButton>\n          <Modal.Title className=\"ModalTitleCredential\">{name}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {!isFullCredentialDisplayed && isModalCredentialOpen && (\n            <>\n              {credential.name === \"Verifiable ID\" && (\n                <VID data={credential.dataDecoded || \"\"} />\n              )}\n              {credential.name === \"VerifiablePresentation\" && <VP />}\n              {(credential.name === '[\"Europass Diploma\"]' ||\n                credential.name === \"Europass Diploma\") && (\n                <Diploma data={credential.dataDecoded || \"\"} />\n              )}\n            </>\n          )}\n          {isFullCredentialDisplayed && (\n            <JSONPretty id=\"json-pretty-store\" data={credential.dataDecoded} />\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            className=\"ecl-button ecl-button--ghost\"\n            type=\"button\"\n            onClick={methodToClose}\n          >\n            Close\n          </button>\n          {!isFullCredentialDisplayed ? (\n            <button\n              className=\"ecl-button ecl-button--primary\"\n              type=\"button\"\n              onClick={this.openDetails}\n            >\n              Open Details\n            </button>\n          ) : (\n            <button\n              className=\"ecl-button ecl-button--primary\"\n              type=\"button\"\n              onClick={this.closeDetails}\n            >\n              Close Details\n            </button>\n          )}\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default CredentialModal;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport classNames from \"classnames\";\nimport \"./Notifications.css\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { Modal } from \"react-bootstrap\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport Tour from \"reactour\";\nimport { Header } from \"../../components/Header/Header\";\nimport { Footer } from \"../../components/Footer/Footer\";\nimport colors from \"../../config/colors\";\nimport { getJWT } from \"../../utils/DataStorage\";\nimport SecureEnclave from \"../../secureEnclave/SecureEnclave\";\nimport { strB64dec } from \"../../utils/strB64dec\";\nimport * as tour from \"../../utils/Tour\";\nimport * as models from \"../../models/Models\";\nimport * as wallet from \"../../apis/wallet\";\nimport { NotificationItem } from \"../../components/NotificationItem/NotificationItem\";\nimport { NotificationModal } from \"../../components/NotificationModal/NotificationModal\";\nimport { ToastEbsi } from \"../../components/ToastEbsi/ToastEbsi\";\nimport { EbsiBanner } from \"../../components/EbsiBanner/EbsiBanner\";\nimport REQUIRED_VARIABLES from \"../../config/env\";\nimport { INotification } from \"../../dtos/notifications\";\nimport {\n  getBodyWithNotificationSigned,\n  decryptKeys,\n} from \"./Notifications.utils\";\n\nconst DEMO = REQUIRED_VARIABLES.REACT_APP_DEMO;\n\ntype Props = {\n  history: any;\n};\n\nexport enum NotificationsStatus {\n  Loading,\n  Success,\n  Error,\n}\n\nexport enum NotificationProcessingStatus {\n  None,\n  Validating,\n  Success,\n  Error,\n}\n\nexport const Notifications: React.FunctionComponent<Props> = ({\n  history,\n}: Props) => {\n  const [notifications, setNotifications] = useState<JSX.Element[]>([]);\n  const [notificationsStatus, setNotificationsStatus] = useState<\n    NotificationsStatus\n  >(NotificationsStatus.Loading);\n  const [notificationsError, setNotificationsError] = useState<string>(\"\");\n  const [notification, setNotification] = useState<INotification>(\n    models.notification\n  );\n  const [isLoadingOpen, setIsLoadingOpen] = useState(false);\n  const [isToastOpen, setIsToastOpen] = useState(false);\n  const [toastColor, setToastColor] = useState(colors.EC_GREEN);\n  const [toastMessage, setToastMessage] = useState(\"Error\");\n  const [isModalNotificationOpen, setIsModalNotificationOpen] = useState(false);\n  const [isModalAskingForPass, setIsModalAskingForPass] = useState(false);\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const [\n    notificationProcessingStatus,\n    setNotificationProcessingStatus,\n  ] = useState<NotificationProcessingStatus>(NotificationProcessingStatus.None);\n  const [\n    notificationProcessingError,\n    setNotificationProcessingError,\n  ] = useState(\"\");\n  const { register, handleSubmit, errors } = useForm();\n\n  const redirectTo = (whereRedirect: string) => {\n    history.push(`/${whereRedirect}`);\n  };\n\n  const openToast = (message: string) => {\n    setIsToastOpen(true);\n    setToastMessage(message);\n    setToastColor(colors.EC_RED);\n    setIsLoadingOpen(false);\n  };\n\n  const openSuccessToast = (message: string) => {\n    setIsToastOpen(true);\n    setToastMessage(message);\n    setToastColor(colors.EC_GREEN);\n    setIsLoadingOpen(false);\n  };\n\n  const closeToast = () => {\n    setIsToastOpen(false);\n  };\n\n  const openNotificationModal = (notif: INotification) => {\n    setIsModalNotificationOpen(true);\n    setNotification(notif);\n  };\n\n  const closeNotificationModal = () => {\n    setIsModalNotificationOpen(false);\n    // Clean up errors\n    setNotificationProcessingStatus(NotificationProcessingStatus.None);\n    setNotificationProcessingError(\"\");\n  };\n\n  const openNotification = async (notif: INotification) => {\n    const notificationToOpen = notif;\n    notificationToOpen.selectedCredentials = [];\n    notificationToOpen.selectedCredsTypes = [];\n    notificationToOpen.dataDecoded = strB64dec(notif.message.data.base64);\n    openNotificationModal(notificationToOpen);\n  };\n\n  const openModalAskingForPass = () => {\n    closeNotificationModal();\n    setIsModalAskingForPass(true);\n  };\n\n  const disableBody = (target: HTMLDivElement) => {\n    disableBodyScroll(target);\n  };\n\n  const enableBody = (target: HTMLDivElement) => {\n    enableBodyScroll(target);\n  };\n\n  const closeModalAskingForPass = () => {\n    setIsModalAskingForPass(false);\n  };\n\n  const openTour = () => {\n    setIsTourOpen(true);\n  };\n\n  const closeTour = () => {\n    setIsTourOpen(false);\n  };\n\n  const acceptNotification = async (notificationToAccept: INotification) => {\n    try {\n      const type = notificationToAccept.message.notificationType;\n      let body = {};\n      const idNotification = notificationToAccept.id;\n\n      if (type === 2) {\n        body = {\n          selectedCredentials: notificationToAccept.selectedCredentials,\n        };\n      }\n      const response = await wallet.acceptNotification(idNotification, body);\n      if (response.status === 200 || response.status === 201) {\n        openSuccessToast(response.data.message);\n        closeNotificationModal();\n        window.location.reload();\n      } else {\n        if (response.status === 404) {\n          openToast(\"Token invalid.\");\n          redirectTo(\"\");\n        }\n        openToast(`Error signing the notification. ${response.data}`);\n      }\n    } catch (error) {\n      closeNotificationModal();\n      openToast(\"Error sending the notification.\");\n    }\n  };\n\n  const signNotification = async (\n    secureEnclave: SecureEnclave,\n    userPassword: string,\n    notificationToSign: INotification\n  ) => {\n    try {\n      const idNotification = notificationToSign.id;\n      const body = await getBodyWithNotificationSigned(\n        secureEnclave,\n        userPassword,\n        notificationToSign\n      );\n      const response = await wallet.acceptNotification(idNotification, body);\n      if (response.status === 200 || response.status === 201) {\n        openSuccessToast(response.data.message);\n        closeModalAskingForPass();\n        if (response.data.id !== undefined && response.data.id !== \"\") {\n          window.location.assign(response.data.id);\n        } else {\n          window.location.reload();\n        }\n      } else if (response.status === 404) {\n        setNotificationProcessingError(\"Token invalid.\");\n      } else {\n        setNotificationProcessingError(\n          `Error signing the notification ${response.data}`\n        );\n      }\n    } catch (error) {\n      setNotificationProcessingError(\"Error signing the notification.\");\n    }\n  };\n\n  const onSubmit = async (data: any) => {\n    try {\n      setNotificationProcessingStatus(NotificationProcessingStatus.Validating);\n\n      const userPassword = data.passwordForKeyGeneration;\n      if (!userPassword) throw new Error(\"No password provided\");\n\n      const se = SecureEnclave.Instance;\n      await decryptKeys(se, userPassword);\n      await signNotification(se, userPassword, notification);\n      setNotificationProcessingStatus(NotificationProcessingStatus.Success);\n      closeModalAskingForPass();\n    } catch (error) {\n      setNotificationProcessingError(error.toString());\n      setNotificationProcessingStatus(NotificationProcessingStatus.Error);\n    }\n  };\n\n  // ComponentDidMount\n  useEffect(() => {\n    async function componentDidMount() {\n      setIsLoadingOpen(true);\n      setNotificationsStatus(NotificationsStatus.Loading);\n      const response = await wallet.getNotifications(getJWT() || \"\");\n      if (response.status === 200 || response.status === 201) {\n        const outNotifications = response.data.items as INotification[];\n        const notifs = outNotifications.map((n) => (\n          <NotificationItem\n            notification={n}\n            key={n.id}\n            methodToOpen={openNotification}\n          />\n        ));\n\n        setNotifications(notifs);\n        setNotificationsStatus(NotificationsStatus.Success);\n        setIsLoadingOpen(false);\n      } else {\n        setIsLoadingOpen(false);\n        setNotificationsError(\n          `Error getting the notifications: ${response.data}`\n        );\n        setNotificationsStatus(NotificationsStatus.Error);\n      }\n    }\n    componentDidMount();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <Header />\n      <ToastEbsi\n        isToastOpen={isToastOpen}\n        methodToClose={closeToast}\n        toastColor={toastColor}\n        colorText={colors.WHITE}\n        toastMessage={toastMessage}\n      />\n      <EbsiBanner\n        title=\"Notifications Page\"\n        subtitle=\"List of the pending notifications to be signed.\"\n        isLoadingOpen={isLoadingOpen}\n      />\n      <main className=\"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l\">\n        <Modal show={isModalAskingForPass} onHide={closeModalAskingForPass}>\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <Modal.Header className=\"ModalHeader\" closeButton>\n              <Modal.Title>Sign It</Modal.Title>\n            </Modal.Header>\n            <Modal.Body className=\"ModalBody\">\n              <div className=\"ecl-form-group\">\n                <label className=\"ecl-form-label\" htmlFor=\"password-key-gen\">\n                  Please enter your secret to unlock your private key for\n                  signing.\n                </label>\n                {errors.passwordForKeyGeneration && (\n                  <div className=\"ecl-feedback-message\">\n                    {errors.passwordForKeyGeneration.message ||\n                      \"Invalid password!\"}\n                  </div>\n                )}\n                <input\n                  type=\"password\"\n                  id=\"password-key-gen\"\n                  name=\"passwordForKeyGeneration\"\n                  className={classNames(\"ecl-text-input ecl-u-width-100\", {\n                    \"ecl-text-input--invalid\": errors.passwordForKeyGeneration,\n                  })}\n                  placeholder=\"Password\"\n                  ref={register({ required: \"The password can't be empty!\" })}\n                />\n              </div>\n              {notificationProcessingError && (\n                <div\n                  role=\"alert\"\n                  className=\"ecl-message ecl-message--error ecl-u-mt-m\"\n                  data-ecl-message=\"true\"\n                >\n                  <svg\n                    focusable=\"false\"\n                    aria-hidden=\"true\"\n                    className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n                  >\n                    <use xlinkHref={`${eclIcons}#notifications--error`} />\n                  </svg>\n                  <div className=\"ecl-message__content\">\n                    <div className=\"ecl-message__title\">\n                      {notificationProcessingError}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </Modal.Body>\n            <Modal.Footer>\n              <button\n                className=\"ecl-button ecl-button--ghost\"\n                type=\"button\"\n                onClick={closeModalAskingForPass}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"ecl-button ecl-button--primary\"\n                type=\"submit\"\n                disabled={\n                  notificationProcessingStatus ===\n                  NotificationProcessingStatus.Validating\n                }\n              >\n                {notificationProcessingStatus ===\n                NotificationProcessingStatus.Validating\n                  ? \"Validating...\"\n                  : \"Validate\"}\n              </button>\n            </Modal.Footer>\n          </form>\n        </Modal>\n        <NotificationModal\n          notification={notification}\n          isModalNotificationOpen={isModalNotificationOpen}\n          methodToClose={closeNotificationModal}\n          methodToAccept={acceptNotification}\n          methodToSign={openModalAskingForPass}\n        />\n        {notificationsStatus === NotificationsStatus.Error && (\n          <div\n            role=\"alert\"\n            className=\"ecl-message ecl-message--error\"\n            data-ecl-message=\"true\"\n          >\n            <svg\n              focusable=\"false\"\n              aria-hidden=\"true\"\n              className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n            >\n              <use xlinkHref={`${eclIcons}#notifications--error`} />\n            </svg>\n            <div className=\"ecl-message__content\">\n              <div className=\"ecl-message__title\">Error</div>\n              <p className=\"ecl-message__description\">{notificationsError}</p>\n            </div>\n          </div>\n        )}\n        {notificationsStatus === NotificationsStatus.Success &&\n          notifications.length === 0 && (\n            <p>\n              You don&#8217;t have any notification at the moment. Follow the{\" \"}\n              <a className=\"ecl-link\" href={DEMO}>\n                demonstrator\n              </a>{\" \"}\n              to create some.\n            </p>\n          )}\n        <div data-tut=\"reactour_notifications\">{notifications}</div>\n      </main>\n      <Footer />\n      <button\n        onClick={openTour}\n        className=\"ecl-button ecl-button--primary tourButton\"\n        type=\"button\"\n        title=\"Open guided tour\"\n      >\n        ?\n      </button>\n      <Tour\n        steps={tour.stepsNotifications}\n        isOpen={isTourOpen}\n        onRequestClose={closeTour}\n        onAfterOpen={disableBody}\n        onBeforeClose={enableBody}\n      />\n    </>\n  );\n};\n\nexport default Notifications;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport styles from \"./NotificationItem.module.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { getIssuerName } from \"../../utils/issuer\";\nimport EUimage from \"../../assets/images/european-union.png\";\nimport { INotification } from \"../../dtos/notifications\";\n\ntype CallbackFunctionOpen = (notification: INotification) => void;\n\ntype Props = {\n  notification: INotification;\n  methodToOpen: CallbackFunctionOpen;\n};\n\ntype State = {\n  issuerName: string;\n};\n\nexport class NotificationItem extends Component<Props, State> {\n  constructor(props: Readonly<Props>) {\n    super(props);\n    this.state = {\n      issuerName: \"\",\n    };\n  }\n\n  async componentDidMount(): Promise<void> {\n    const { notification } = this.props;\n    const issuerName = await getIssuerName(notification.sender);\n    this.setState({\n      issuerName,\n    });\n  }\n\n  parseDate = (date: string): string => {\n    return moment(date).format(\"LLL\");\n  };\n\n  render(): JSX.Element {\n    const { notification, methodToOpen } = this.props;\n    const { issuerName } = this.state;\n    return (\n      <article\n        className={`ecl-card ecl-card--tile ${styles.notificationItem}`}\n        key={notification.id}\n      >\n        <header className=\"ecl-card__header\">\n          <h1 className=\"ecl-card__title\">\n            <img\n              src={EUimage}\n              height=\"32\"\n              width=\"32\"\n              className=\"rounded mr-2\"\n              alt=\"\"\n            />{\" \"}\n            <Link\n              to=\"/notifications\"\n              onClick={(e) => {\n                e.preventDefault();\n                methodToOpen(notification);\n              }}\n              className=\"ecl-link ecl-link--standalone\"\n            >\n              {transform.notificationType(\n                notification.message.notificationType,\n                notification.message.name,\n                notification.message.redirectURL\n              )}\n            </Link>\n          </h1>\n        </header>\n        <div className=\"ecl-card__body\">\n          <div className=\"ecl-card__description\">{issuerName}</div>\n        </div>\n        <footer className=\"ecl-card__footer\">\n          <ul className=\"ecl-card__info-container\">\n            <li className=\"ecl-card__info-item\">\n              <svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                className=\"ecl-icon ecl-icon--xs\"\n              >\n                <use xlinkHref={`${eclIcons}#general--calendar`} />\n              </svg>\n              <span className=\"ecl-card__info-label\">\n                {this.parseDate(notification?.message?.timestamp || \"\")}\n              </span>\n            </li>\n          </ul>\n        </footer>\n      </article>\n    );\n  }\n}\n\nexport default NotificationItem;\n","import React, { useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport JSONPretty from \"react-json-pretty\";\nimport \"./NotificationModal.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { VID } from \"../CredentialTypes/VID/VID\";\nimport { Diploma } from \"../CredentialTypes/Diploma/Diploma\";\nimport { INotification } from \"../../dtos/notifications\";\n\ntype CallbackFunction = () => void;\ntype CallbackFunctionAccept = (notification: INotification) => void;\n\ntype Props = {\n  notification: INotification;\n  isModalNotificationOpen: boolean;\n  methodToClose: CallbackFunction;\n  methodToAccept: CallbackFunctionAccept;\n};\n\nexport const StoreCredentialModal: React.FunctionComponent<Props> = ({\n  notification,\n  methodToClose,\n  isModalNotificationOpen,\n  methodToAccept,\n}: Props) => {\n  const [isFullCredentialDisplayed, setIsFullCredentialDisplayed] = useState(\n    false\n  );\n  const [title, setTitle] = useState(\"\");\n\n  const closeDetails = () => {\n    if (isFullCredentialDisplayed) {\n      setIsFullCredentialDisplayed(false);\n    }\n  };\n\n  const openDetails = () => {\n    setIsFullCredentialDisplayed(true);\n  };\n\n  useEffect(() => {\n    const updateTitle = async (notif: INotification) => {\n      const newTitle = await transform.modifyNotificationTitle(\n        notif.message.name,\n        notif.message.notificationType\n      );\n\n      if (title !== newTitle) {\n        setTitle(newTitle);\n      }\n    };\n\n    updateTitle(notification);\n  }, [notification]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Modal\n      show={\n        isModalNotificationOpen &&\n        (notification.message.notificationType === 0 ||\n          notification.message.notificationType === 1)\n      }\n      onHide={methodToClose}\n      size=\"lg\"\n    >\n      <Modal.Header className=\"ModalHeader\" closeButton>\n        <Modal.Title className=\"ModalTitleCredential\">{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {!isFullCredentialDisplayed && (\n          <>\n            {notification.message.notificationType === 1 && (\n              <VID data={notification.dataDecoded || \"\"} />\n            )}\n            {notification.message.notificationType === 0 && (\n              <Diploma data={notification.dataDecoded || \"\"} />\n            )}\n          </>\n        )}\n        {isFullCredentialDisplayed && (\n          <JSONPretty id=\"json-pretty-store\" data={notification.dataDecoded} />\n        )}\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className=\"ecl-button ecl-button--ghost\"\n          type=\"button\"\n          onClick={methodToClose}\n        >\n          Close\n        </button>\n        {!isFullCredentialDisplayed ? (\n          <button\n            className=\"ecl-button ecl-button--secondary\"\n            type=\"button\"\n            onClick={openDetails}\n          >\n            Open Details\n          </button>\n        ) : (\n          <button\n            className=\"ecl-button ecl-button--secondary\"\n            type=\"button\"\n            onClick={closeDetails}\n          >\n            Close Details\n          </button>\n        )}\n        <button\n          className=\"ecl-button ecl-button--primary\"\n          type=\"button\"\n          onClick={() => methodToAccept(notification)}\n        >\n          Accept\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default StoreCredentialModal;\n","const areStringArraysEqual = (arr1: string[][], arr2: string[][]): boolean => {\n  if (arr1.length !== arr2.length) return false;\n  const findOddManOut = arr1.every((arr1Elem) =>\n    arr2.some(\n      (arr2Elem) =>\n        arr1Elem.length === arr2Elem.length &&\n        arr1Elem.every((stringArr1) => arr2Elem.indexOf(stringArr1) > -1)\n    )\n  );\n  return findOddManOut;\n};\n\nexport default areStringArraysEqual;\n","import React from \"react\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport styles from \"./CredentialItemPresentation.module.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { getIssuer } from \"../../utils/issuer\";\nimport diplomaImage from \"../../assets/images/diploma.png\";\nimport { IAttribute } from \"../../dtos/attributes\";\n\ntype CallbackFunctionSelect = (hash: string, type: string[]) => void;\n\ntype Props = {\n  credential: IAttribute;\n  methodToSelect: CallbackFunctionSelect;\n  defaultChecked: boolean;\n};\n\ntype State = {\n  issuer: string;\n  name: string;\n};\n\nclass CredentialItemPresentation extends React.Component<Props, State> {\n  constructor(props: Readonly<Props>) {\n    super(props);\n    this.state = {\n      issuer: \"\",\n      name: \"\",\n    };\n  }\n\n  async componentDidMount(): Promise<void> {\n    const { credential } = this.props;\n    const issuer = await getIssuer(credential);\n    const name = await transform.modifyName(\n      credential.name,\n      \"credential\",\n      credential.did\n    );\n    this.setState({\n      issuer,\n      name,\n    });\n  }\n\n  render(): JSX.Element {\n    const { credential, methodToSelect, defaultChecked } = this.props;\n    const { issuer, name } = this.state;\n    return (\n      <label htmlFor={credential.id}>\n        <article\n          className={`${styles.credentialItem} ecl-card`}\n          key={credential.id}\n        >\n          <div className={`${styles.checkbox} ecl-checkbox`}>\n            <input\n              className=\"ecl-checkbox__input\"\n              id={credential.id}\n              name={credential.id}\n              type=\"checkbox\"\n              defaultChecked={defaultChecked}\n              onChange={() =>\n                methodToSelect(credential.hash, credential.type as string[])\n              }\n            />\n            <div className=\"ecl-checkbox__label\">\n              <span className=\"ecl-checkbox__box\">\n                <svg\n                  focusable=\"false\"\n                  aria-hidden=\"true\"\n                  className=\"ecl-checkbox__icon ecl-icon ecl-icon--s\"\n                >\n                  <use xlinkHref={`${eclIcons}#ui--check`} />\n                </svg>\n              </span>\n            </div>\n          </div>\n          <header className=\"ecl-card__header\">\n            <h1 className=\"ecl-card__title\">\n              <img\n                src={diplomaImage}\n                height=\"32\"\n                width=\"32\"\n                className=\"rounded mr-2\"\n                alt=\"\"\n              />{\" \"}\n              {name}\n            </h1>\n          </header>\n          <div className=\"ecl-card__body\">\n            <div className=\"ecl-card__description\">Issued by: {issuer}</div>\n          </div>\n        </article>\n      </label>\n    );\n  }\n}\n\nexport default CredentialItemPresentation;\n","export interface PresentationInputCall {\n  issuer: string;\n  type: string[][];\n  subscriberURL: string;\n  redirectURL?: string;\n}\n\nconst presentationInputFromJSON = (json: any): PresentationInputCall => {\n  if (!json) throw new Error(\"No data provided\");\n  return {\n    issuer: json.issuer,\n    type: json.type,\n    subscriberURL: json.subscriberURL,\n    redirectURL: json.redirectURL,\n  };\n};\n\nexport { presentationInputFromJSON };\n","import React, { useState, useEffect } from \"react\";\nimport { Modal, Spinner } from \"react-bootstrap\";\nimport cloneDeep from \"lodash.clonedeep\";\nimport \"./NotificationModal.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport * as models from \"../../models/Models\";\nimport * as idHub from \"../../apis/idHub\";\nimport { parseDecodedData } from \"../../utils/strB64dec\";\nimport areStringArraysEqual from \"../../utils/util\";\nimport CredentialItemPresentation from \"../CredentialItemPresentation/CredentialItemPresentation\";\nimport { INotification } from \"../../dtos/notifications\";\nimport { presentations } from \"../../dtos\";\nimport { IAttribute } from \"../../dtos/attributes\";\nimport { getIssuerName } from \"../../utils/issuer\";\n\ntype CallbackFunction = () => void;\ntype CallbackFunctionAccept = (notification: INotification) => void;\n\ntype Props = {\n  notification: INotification;\n  isModalNotificationOpen: boolean;\n  methodToClose: CallbackFunction;\n  methodToAccept: CallbackFunctionAccept;\n};\n\nexport const RequestPresentationModal: React.FunctionComponent<Props> = ({\n  notification,\n  methodToClose,\n  isModalNotificationOpen,\n  methodToAccept,\n}: Props) => {\n  const [credentials, setCredentials] = useState<IAttribute[]>([]);\n  const [issuerName, setIssuerName] = useState<string>(\"\");\n  const [formattedTypes, setFormattedTypes] = useState<string>(\"\");\n  const [\n    notificationForPresentations,\n    setNotificationForPresentations,\n  ] = useState<INotification>(models.notification);\n  const [isReadingCreds, setIsReadingCreds] = useState(true);\n\n  const getRequiredCredsNumber = () => {\n    const dataParsed = parseDecodedData(\n      notificationForPresentations?.message?.data?.base64\n    );\n    const { type } = presentations.presentationInputFromJSON(dataParsed);\n    if (!type) return 0;\n    return type.length;\n  };\n\n  const validateCredentialsType = () => {\n    const dataParsed = parseDecodedData(\n      notificationForPresentations.message.data.base64\n    );\n    const { type } = presentations.presentationInputFromJSON(dataParsed);\n\n    if (!type || !notificationForPresentations.selectedCredsTypes) return true;\n    if (notificationForPresentations.selectedCredsTypes.length <= 0)\n      return true;\n    if (!Array.isArray(notificationForPresentations.selectedCredsTypes[0]))\n      return true;\n    const { selectedCredsTypes } = notificationForPresentations;\n    // check that all types requested are the ones selected\n    const equals = areStringArraysEqual(type, selectedCredsTypes);\n\n    return equals;\n  };\n\n  const validateSelectedCredentialsNumber = () => {\n    // the number of selected credentials should be the same as requested\n    const nSelectedCreds =\n      notificationForPresentations?.selectedCredentials?.length;\n    return nSelectedCreds >= getRequiredCredsNumber();\n  };\n\n  const select = (hash: string, type: string[]) => {\n    const notificationAux = cloneDeep(notificationForPresentations);\n    const index = notificationAux.selectedCredentials.indexOf(hash);\n    if (index === -1) {\n      notificationAux.selectedCredentials.push(hash);\n      notificationAux.selectedCredsTypes.push(type);\n    } else {\n      notificationAux.selectedCredentials.splice(index, 1);\n      notificationAux.selectedCredsTypes.splice(index, 1);\n    }\n\n    setNotificationForPresentations(notificationAux);\n  };\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const getCredentials = async (notif: INotification) => {\n      setCredentials([]);\n      setIsReadingCreds(true);\n      const { status, data } = await idHub.getCredentialsForPresentation(notif);\n\n      if (isMounted && (status === 200 || status === 201)) {\n        const creds = (data.items as IAttribute[]).filter(\n          (credential) =>\n            Array.isArray(credential.type) &&\n            credential.type.length > 0 &&\n            credential.type.includes(\"VerifiableCredential\")\n        );\n\n        if (notif) {\n          setNotificationForPresentations(notif);\n        }\n\n        // Filter out unrelated credentials\n        const requestedTypes = (parseDecodedData(\n          notification?.message?.data?.base64\n        ) as any).type;\n\n        const matchTypes = (cred: any) =>\n          requestedTypes.some((r: any) =>\n            (Array.isArray(cred.type)\n              ? cred.type\n              : [cred.type]\n            ).every((c: any) => r.includes(c))\n          );\n\n        setCredentials(creds.filter(matchTypes));\n        setIsReadingCreds(false);\n      }\n    };\n\n    const fetchIssuerName = async () => {\n      setIssuerName(\"\");\n      const name = await getIssuerName(notification.sender);\n      if (isMounted) {\n        setIssuerName(name);\n      }\n    };\n\n    const getRequiredCredsFormatedType = () => {\n      const dataParsed = parseDecodedData(notification?.message?.data?.base64);\n      const { type } = presentations.presentationInputFromJSON(dataParsed);\n      setFormattedTypes(transform.getSelectRequestedCredentialsText(type));\n    };\n\n    getCredentials(notification);\n    fetchIssuerName();\n    getRequiredCredsFormatedType();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [notification]);\n\n  return (\n    <Modal\n      show={\n        isModalNotificationOpen && notification.message.notificationType === 2\n      }\n      onHide={methodToClose}\n    >\n      <Modal.Header className=\"ModalHeader\" closeButton>\n        <Modal.Title>Create presentation</Modal.Title>\n        {isReadingCreds && (\n          <Spinner\n            className=\"spinner\"\n            animation=\"border\"\n            role=\"status\"\n            variant=\"danger\"\n          >\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>\n        )}\n      </Modal.Header>\n      <Modal.Body>\n        {issuerName && (\n          <p className=\"ecl-u-type-paragraph\">\n            {issuerName} requested a presentation.\n          </p>\n        )}\n        {formattedTypes && (\n          <p className=\"ecl-u-type-paragraph\">\n            <strong>{formattedTypes}</strong>\n          </p>\n        )}\n        {!isReadingCreds && credentials.length === 0 && (\n          <p>\n            You don&#8217;t have any credential at the moment. Follow the\n            demonstrator to create some.\n          </p>\n        )}\n        {!isReadingCreds &&\n          credentials.map((filteredCred) => (\n            <CredentialItemPresentation\n              credential={filteredCred}\n              key={filteredCred.id}\n              methodToSelect={select}\n              defaultChecked={\n                notificationForPresentations.selectedCredentials.indexOf(\n                  filteredCred.hash\n                ) >= 0\n              }\n            />\n          ))}\n        {validateSelectedCredentialsNumber() && !validateCredentialsType() && (\n          <p className=\"ecl-u-type-color-red\">\n            Please, select the Credentials types specified.\n          </p>\n        )}\n      </Modal.Body>\n      <Modal.Footer>\n        <button\n          className=\"ecl-button ecl-button--ghost\"\n          type=\"button\"\n          onClick={methodToClose}\n        >\n          Close\n        </button>\n        <button\n          className=\"ecl-button ecl-button--primary\"\n          type=\"button\"\n          onClick={() => methodToAccept(notificationForPresentations)}\n          disabled={\n            !validateSelectedCredentialsNumber() || !validateCredentialsType()\n          }\n        >\n          Create presentation\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default RequestPresentationModal;\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport \"./NotificationModal.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { INotification } from \"../../dtos/notifications\";\n\ntype CallbackFunction = () => void;\n\ntype Props = {\n  notification: INotification;\n  isModalNotificationOpen: boolean;\n  methodToClose: CallbackFunction;\n  methodToSign: CallbackFunction;\n};\n\nexport const SignTransactionModal: React.FunctionComponent<Props> = ({\n  notification,\n  methodToClose,\n  isModalNotificationOpen,\n  methodToSign,\n}: Props) => (\n  <Modal\n    show={\n      isModalNotificationOpen && notification.message.notificationType === 4\n    }\n    onHide={methodToClose}\n  >\n    <Modal.Header className=\"ModalHeader\" closeButton>\n      <Modal.Title>\n        {transform.notificationType(\n          notification.message.notificationType,\n          notification.message.name,\n          notification.message.redirectURL\n        )}\n      </Modal.Title>\n    </Modal.Header>\n    <Modal.Body className=\"ModalBody\">\n      Your are about to sign {notification.message.name}\n    </Modal.Body>\n    <Modal.Footer>\n      <button\n        className=\"ecl-button ecl-button--ghost\"\n        type=\"button\"\n        onClick={methodToClose}\n      >\n        Close\n      </button>\n      <button\n        className=\"ecl-button ecl-button--primary\"\n        type=\"button\"\n        onClick={methodToSign}\n      >\n        Sign It\n      </button>\n    </Modal.Footer>\n  </Modal>\n);\n\nexport default SignTransactionModal;\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport \"./NotificationModal.css\";\nimport * as transform from \"../../utils/StringTransformation\";\nimport { INotification } from \"../../dtos/notifications\";\n\ntype CallbackFunction = () => void;\n\ntype Props = {\n  notification: INotification;\n  isModalNotificationOpen: boolean;\n  methodToClose: CallbackFunction;\n  methodToSign: CallbackFunction;\n};\n\nexport const SignPayloadModal: React.FunctionComponent<Props> = ({\n  notification,\n  methodToClose,\n  isModalNotificationOpen,\n  methodToSign,\n}: Props) => (\n  <Modal\n    show={\n      isModalNotificationOpen && notification.message.notificationType === 3\n    }\n    onHide={methodToClose}\n  >\n    <Modal.Header className=\"ModalHeader\" closeButton>\n      <Modal.Title>\n        {transform.notificationType(\n          notification.message.notificationType,\n          notification.message.name,\n          notification.message.redirectURL\n        )}\n      </Modal.Title>\n    </Modal.Header>\n    <Modal.Body className=\"ModalBody\">\n      Please sign with your private key your eID presentation before sending it.\n    </Modal.Body>\n    <Modal.Footer>\n      <button\n        className=\"ecl-button ecl-button--ghost\"\n        type=\"button\"\n        onClick={methodToClose}\n      >\n        Close\n      </button>\n      <button\n        className=\"ecl-button ecl-button--primary\"\n        type=\"button\"\n        onClick={methodToSign}\n      >\n        Sign It\n      </button>\n    </Modal.Footer>\n  </Modal>\n);\n\nexport default SignPayloadModal;\n","import React from \"react\";\nimport \"./NotificationModal.css\";\nimport { INotification } from \"../../dtos/notifications\";\nimport { StoreCredentialModal } from \"./StoreCredentialModal\";\nimport { RequestPresentationModal } from \"./RequestPresentationModal\";\nimport { SignTransactionModal } from \"./SignTransactionModal\";\nimport { SignPayloadModal } from \"./SignPayloadModal\";\n\ntype CallbackFunction = () => void;\ntype CallbackFunctionAccept = (notification: INotification) => void;\n\ntype Props = {\n  notification: INotification;\n  isModalNotificationOpen: boolean;\n  methodToClose: CallbackFunction;\n  methodToAccept: CallbackFunctionAccept;\n  methodToSign: CallbackFunction;\n};\n\nexport const NotificationModal: React.FunctionComponent<Props> = ({\n  notification,\n  methodToClose,\n  isModalNotificationOpen,\n  methodToAccept,\n  methodToSign,\n}: Props) => {\n  if (\n    notification.message.notificationType === 0 ||\n    notification.message.notificationType === 1\n  ) {\n    return (\n      <StoreCredentialModal\n        notification={notification}\n        isModalNotificationOpen={isModalNotificationOpen}\n        methodToClose={methodToClose}\n        methodToAccept={methodToAccept}\n      />\n    );\n  }\n\n  if (notification.message.notificationType === 2) {\n    return (\n      <RequestPresentationModal\n        notification={notification}\n        isModalNotificationOpen={isModalNotificationOpen}\n        methodToClose={methodToClose}\n        methodToAccept={methodToAccept}\n      />\n    );\n  }\n\n  if (notification.message.notificationType === 3) {\n    return (\n      <SignPayloadModal\n        notification={notification}\n        isModalNotificationOpen={isModalNotificationOpen}\n        methodToClose={methodToClose}\n        methodToSign={methodToSign}\n      />\n    );\n  }\n\n  if (notification.message.notificationType === 4) {\n    return (\n      <SignTransactionModal\n        notification={notification}\n        isModalNotificationOpen={isModalNotificationOpen}\n        methodToClose={methodToClose}\n        methodToSign={methodToSign}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport default NotificationModal;\n","import React, { Component } from \"react\";\nimport \"./Presentations.css\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport Tour from \"reactour\";\nimport eclIcons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { Header } from \"../../components/Header/Header\";\nimport { Footer } from \"../../components/Footer/Footer\";\nimport * as tour from \"../../utils/Tour\";\nimport * as models from \"../../models/Models\";\nimport * as idHub from \"../../apis/idHub\";\nimport { ToastEbsi } from \"../../components/ToastEbsi/ToastEbsi\";\nimport { EbsiBanner } from \"../../components/EbsiBanner/EbsiBanner\";\nimport CredentialItem from \"../../components/CredentialItem/CredentialItem\";\nimport CredentialModal from \"../../components/CredentialModal/CredentialModal\";\nimport colors from \"../../config/colors\";\nimport { connectionNotEstablished, getJWT } from \"../../utils/DataStorage\";\nimport { isTokenExpired } from \"../../utils/JWTHandler\";\nimport { loginLink } from \"../../apis/ecas\";\nimport { strB64dec } from \"../../utils/strB64dec\";\n\nimport REQUIRED_VARIABLES from \"../../config/env\";\nimport { IAttribute } from \"../../dtos/attributes\";\n\nconst DEMO = REQUIRED_VARIABLES.REACT_APP_DEMO;\n\nexport enum PresentationsStatus {\n  Loading,\n  Success,\n  Error,\n}\n\ntype Props = {\n  history: any;\n  location: any;\n};\n\ntype State = {\n  presentations: JSX.Element[];\n  presentationsStatus: PresentationsStatus;\n  presentationsError: string;\n  credential: IAttribute;\n  isToastOpen: boolean;\n  toastColor: string;\n  isModalCredentialOpen: boolean;\n  toastMessage: string;\n  isLoadingOpen: boolean;\n  isTourOpen: boolean;\n};\n\nexport class Presentations extends Component<Props, State> {\n  constructor(props: Readonly<Props>) {\n    super(props);\n\n    this.state = {\n      presentations: [],\n      presentationsStatus: PresentationsStatus.Loading,\n      presentationsError: \"\",\n      credential: models.credential,\n      isToastOpen: false,\n      toastColor: colors.EC_GREEN,\n      isModalCredentialOpen: false,\n      toastMessage: \"Error\",\n      isLoadingOpen: false,\n      isTourOpen: false,\n    };\n    this.displayCredential = this.displayCredential.bind(this);\n    this.closeModalCredential = this.closeModalCredential.bind(this);\n  }\n\n  componentDidMount(): void {\n    if (connectionNotEstablished()) {\n      this.redirectTo(\"\");\n    } else if (isTokenExpired(getJWT())) {\n      window.location.assign(loginLink());\n    }\n    this.getCredentials();\n  }\n\n  async getCredentials(): Promise<void> {\n    const response = await idHub.getCredentials();\n    if (response.status === 200 || response.status === 201) {\n      const outAttrs = response.data.items as IAttribute[];\n      const presentations = outAttrs\n        .filter((attr) => attr.name === \"VerifiablePresentation\")\n        .map((attrTemp) => (\n          <CredentialItem\n            credential={attrTemp}\n            key={attrTemp.id}\n            methodToOpen={this.displayCredential}\n          />\n        ));\n\n      this.setState({\n        isLoadingOpen: false,\n        presentationsStatus: PresentationsStatus.Success,\n        presentations,\n      });\n    } else {\n      if (response.status === 404) {\n        this.openToast(\"Token invalid.\");\n        this.redirectTo(\"\");\n      }\n\n      this.setState({\n        isLoadingOpen: false,\n        presentationsStatus: PresentationsStatus.Error,\n        presentationsError: `Error getting the presentations: ${response.data}`,\n      });\n    }\n  }\n\n  disableBody = (target: HTMLDivElement): void => {\n    disableBodyScroll(target);\n  };\n\n  enableBody = (target: HTMLDivElement): void => {\n    enableBodyScroll(target);\n  };\n\n  openTour = (): void => {\n    this.setState({\n      isTourOpen: true,\n    });\n  };\n\n  closeTour = (): void => {\n    this.setState({\n      isTourOpen: false,\n    });\n  };\n\n  async displayCredential(hash: string): Promise<void> {\n    const response = await idHub.getCredential(hash);\n    if (response.status === 200 || response.status === 201) {\n      this.openModalCredential(response.data);\n    } else {\n      if (response.status === 404) {\n        this.openToast(\"Token invalid.\");\n        this.redirectTo(\"\");\n      }\n      this.openToast(`Error getting the credential. ${response.data}`);\n    }\n  }\n\n  openModalCredential(credential: IAttribute): void {\n    const credentialToOpen = credential;\n    credentialToOpen.dataDecoded = strB64dec(credential.data.base64);\n    this.setState({\n      isModalCredentialOpen: true,\n      credential: credentialToOpen,\n    });\n  }\n\n  closeModalCredential(): void {\n    this.setState({\n      isModalCredentialOpen: false,\n    });\n  }\n\n  redirectTo(whereRedirect: string): void {\n    const { history } = this.props;\n    history.push(`/${whereRedirect}`);\n  }\n\n  openToast(message: string): void {\n    this.setState({\n      isToastOpen: true,\n      toastMessage: message,\n      isLoadingOpen: false,\n      toastColor: colors.EC_RED,\n    });\n  }\n\n  openSuccessToast(message: string): void {\n    this.setState({\n      isToastOpen: true,\n      toastMessage: message,\n      toastColor: colors.EC_GREEN,\n      isLoadingOpen: false,\n    });\n  }\n\n  closeToast(): void {\n    this.setState({\n      isToastOpen: false,\n    });\n  }\n\n  render(): JSX.Element {\n    const {\n      presentations,\n      presentationsStatus,\n      presentationsError,\n      credential,\n      isToastOpen,\n      isModalCredentialOpen,\n      toastColor,\n      toastMessage,\n      isTourOpen,\n      isLoadingOpen,\n    } = this.state;\n\n    return (\n      <>\n        <Header />\n        <ToastEbsi\n          isToastOpen={isToastOpen}\n          methodToClose={this.closeToast}\n          toastColor={toastColor}\n          colorText={colors.WHITE}\n          toastMessage={toastMessage}\n        />\n        <EbsiBanner\n          title=\"Presentations Page\"\n          subtitle=\"List of your presentations history.\"\n          isLoadingOpen={isLoadingOpen}\n        />\n        <main className=\"ecl-container ecl-u-flex-grow-1 ecl-u-mb-l\">\n          <CredentialModal\n            credential={credential}\n            isModalCredentialOpen={isModalCredentialOpen}\n            methodToClose={this.closeModalCredential}\n          />\n          {presentationsStatus === PresentationsStatus.Error && (\n            <div\n              role=\"alert\"\n              className=\"ecl-message ecl-message--error\"\n              data-ecl-message=\"true\"\n            >\n              <svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                className=\"ecl-message__icon ecl-icon ecl-icon--l\"\n              >\n                <use xlinkHref={`${eclIcons}#notifications--error`} />\n              </svg>\n              <div className=\"ecl-message__content\">\n                <div className=\"ecl-message__title\">Error</div>\n                <p className=\"ecl-message__description\">{presentationsError}</p>\n              </div>\n            </div>\n          )}\n          {presentationsStatus === PresentationsStatus.Success &&\n            presentations.length === 0 && (\n              <p>\n                You don&#8217;t have any presentation at the moment. Follow the{\" \"}\n                <a className=\"ecl-link\" href={DEMO}>\n                  demonstrator\n                </a>{\" \"}\n                to create some.\n              </p>\n            )}\n          <div data-tut=\"reactour_presentations\">{presentations}</div>\n        </main>\n        <Footer />\n        <button\n          onClick={this.openTour}\n          className=\"ecl-button ecl-button--primary tourButton\"\n          type=\"button\"\n          title=\"Open guided tour\"\n        >\n          ?\n        </button>\n        <Tour\n          steps={tour.stepsPresentations}\n          isOpen={isTourOpen}\n          onRequestClose={this.closeTour}\n          onAfterOpen={this.disableBody}\n          onBeforeClose={this.enableBody}\n        />\n      </>\n    );\n  }\n}\n\nexport default Presentations;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport icons from \"@ecl/ec-preset-website/dist/images/icons/sprites/icons.svg\";\nimport { Footer } from \"../../components/Footer/Footer\";\nimport { getTerms, storeTerms } from \"../../utils/DataStorage\";\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const Terms: React.FunctionComponent<Props> = ({ children }: Props) => {\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = () => {\n    storeTerms(true);\n  };\n\n  if (getTerms()) {\n    return <>{children}</>;\n  }\n\n  return (\n    <>\n      <div className=\"ecl-u-bg-blue\">\n        <div className=\"ecl-container ecl-u-pv-m ecl-u-pv-lg-2xl\">\n          <h1 className=\"ecl-u-type-heading-1 ecl-u-type-color-white\">\n            Welcome to your EBSI wallet\n          </h1>\n        </div>\n      </div>\n      <div className=\"ecl-container ecl-u-flex-grow-1 ecl-u-pv-l\">\n        <h2 className=\"ecl-u-type-heading-2\">Terms and Conditions</h2>\n        <p className=\"ecl-u-type-paragraph\">\n          Find more information by{\" \"}\n          <Link to=\"/termsAndConditions\" className=\"ecl-link\">\n            clicking here\n          </Link>\n          .\n        </p>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"ecl-form-group\">\n            <input\n              type=\"checkbox\"\n              className=\"ecl-checkbox__input\"\n              id=\"terms\"\n              name=\"terms\"\n              ref={register({ required: true })}\n            />\n            <label\n              htmlFor=\"terms\"\n              className=\"ecl-form-label ecl-checkbox__label\"\n            >\n              <span className=\"ecl-checkbox__box\">\n                <svg\n                  focusable=\"false\"\n                  aria-hidden=\"true\"\n                  className=\"ecl-checkbox__icon ecl-icon ecl-icon--s\"\n                >\n                  <use xlinkHref={`${icons}#ui--check`} />\n                </svg>\n              </span>\n              I agree to the Terms and Conditions\n            </label>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"ecl-button ecl-button--primary ecl-u-mt-l\"\n          >\n            Continue\n          </button>\n          {errors.terms && (\n            <div className=\"ecl-feedback-message ecl-u-mt-m\">\n              You must agree to the Terms and Conditions before continuing.\n            </div>\n          )}\n        </form>\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default Terms;\n","import React from \"react\";\nimport { Footer } from \"../../components/Footer/Footer\";\n\ntype Props = {\n  history: any;\n};\n\nexport const TermsConditions: React.FunctionComponent<Props> = (\n  props: Props\n) => {\n  const onBackClick = () => {\n    const { history } = props;\n    history.goBack();\n  };\n\n  return (\n    <>\n      <header className=\"ecl-u-bg-blue\">\n        <div className=\"ecl-container ecl-u-pv-m ecl-u-pv-lg-2xl\">\n          <h1 className=\"ecl-u-type-heading-1 ecl-u-type-color-white\">\n            Terms and conditions\n          </h1>\n          <p className=\"ecl-u-type-paragraph ecl-u-type-color-white\">\n            EBSI Wallet\n          </p>\n        </div>\n      </header>\n      <main className=\"ecl-container ecl-u-pv-l\">\n        <div className=\"ecl-u-mt-l ecl-u-mb-2xl\">\n          <h2 className=\"ecl-u-type-heading-2\">\n            General terms &amp; conditions for applications.\n          </h2>\n          <p className=\"ecl-u-type-paragraph\">\n            GENERAL CONDITIONS OF USE OF THE APPLICATION &ldquo;EBSI WALLET\n            DID&rdquo;.\n          </p>\n        </div>\n        <p className=\"ecl-u-type-paragraph\">\n          YOUR ACCEPTANCE OF THIS AGREEMENT WILL BE DEFINITIVELY EVIDENCED BY\n          ANY ONE OF THE FOLLOWING MEANS: DOWNLOADING THE SOFTWARE, INSTALLING\n          THE SOFTWARE, RUNNING THE SOFTWARE, AND/OR ANY USE OF THE SOFTWARE,\n          AND YOUR ACCEPTANCE SHALL BE EFFECTIVE ON THE EARLIER OF THE DATE ON\n          WHICH YOU DOWNLOAD, ACCESS, COPY, OR INSTALL THE SOFTWARE PROVIDED\n          HEREUNDER (THE &ldquo;EFFECTIVE DATE&rdquo;).IF YOU DO NOT AGREE TO\n          THESE TERMS AND CONDITIONS, DO NOT CHECK THE ACCEPTANCE BOX, AND DO\n          NOT DOWNLOAD, ACCESS, COPY, INSTALL OR USE THE SOFTWARE.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          PLEASE READ THE FOLLOWING TERMS AND CONDITIONS CAREFULLY BEFORE\n          DOWNLOADING, INSTALLING OR USING THE SOFTWARE.{\" \"}\n          <strong>\n            THESE TERMS AND CONDITIONS CONSTITUTE A LEGAL AGREEMENT BETWEEN YOU.\n          </strong>\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Purpose.-</strong> By downloading, using or accessing the EBSI\n          WALLET DID application (the &ldquo;application&rdquo;, or the\n          &ldquo;wallet&rdquo;) you agree to the following terms and conditions\n          of use (collectively, these &ldquo;Terms&rdquo;). Please read these\n          Terms carefully. If you do not agree to all of these Terms, please do\n          not use the application. Your use of the EBSI Wallet DID application\n          constitutes your acceptance of and agreement to abide by each of these\n          Terms.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>\n            Download of the application and access to the Service.-\n          </strong>{\" \"}\n          Access to the application is via an EU login, currently requiring only\n          a valid email. The application download is free, but the cost of the\n          connection necessary for the operation of the same through your mobile\n          device, will be at your sole expense and charge according to the rate\n          you have contracted with your mobile phone operator.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          The application is intended for use, basically, by citizens\n          (hereinafter &ldquo;citizens &rdquo;) residing in EU or accessing from\n          EU, so EU declines all responsibility for the access of persons in\n          jurisdictions where such distribution or use they could be contrary to\n          the norm or regulation. Certain services may not be available or\n          authorized in all jurisdictions or for all persons.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          EU reserves the right to eliminate, limit or prevent access to the\n          application for objectively justified reasons related to security or\n          the suspicion of unauthorized or fraudulent use. Likewise, EU reserves\n          the right to withdraw the application from the market when it seems it\n          convenient and without prior notice to the USERS.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Software License.-</strong> You fully understand and accept\n          that the Software is licensed to you, not sold. For the term of your\n          participation we grant you a personal, non-exclusive,\n          non-transferable, non-assignable, non-sub-licensable, revocable and\n          limited license to install a copy of the application on your personal\n          device. This limited license is solely for your personal and\n          non-commercial use.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Responsibilities of the user.-</strong> The user undertakes to\n          use the services and contents that are provided through the\n          application in accordance with the current legislation applicable to\n          each of them, the principles of good faith and generally accepted\n          uses. Any use for illegal purposes or that harms or could damage in\n          any way, the use and normal operation of the application, is\n          prohibited.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          Any use for purposes contrary to the content of these Conditions of\n          Use is prohibited, harmful to the interests or rights of third\n          parties, or that in any way may damage, disable, render inaccessible\n          or deteriorate the application, its contents or its services or\n          intended for prevent a normal enjoyment of it by users.\n          <br />\n          EU does not respond in any way to the actions that the user could\n          perform for the improper use of the application.\n          <br />\n          Registration in the application on behalf of and on behalf of any\n          other person without their authorization is totally prohibited.\n          <br />\n          The user always has the obligation to be diligent and take the\n          necessary security measures to maintain the confidentiality of his\n          access to the application, his password for the key generation,\n          private keys and encryption secrets. In the event that such\n          confidentiality is altered, you must notify EU without undue delay,\n          any unauthorized access, improper use, misuse by third parties, loss,\n          loss or subtraction of your keys, as soon as you have knowledge or\n          suspicion of such circumstances.\n          <br />\n          The device on which you install this application can receive\n          notifications of the operations you perform through it, information\n          that anyone with access to the device could see. The application\n          implements security measures and it is very important that you do not\n          disable them, as well as those of access to the device itself.\n          Additionally, it is convenient that in any case you close the\n          application when you finish your session.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Requirements for the use of services and content.-</strong>{\" \"}\n          The access and/or use of the application is completely voluntary and\n          attributes to the person who performs it the condition of user, just\n          installing the application on your mobile device for use. Every user,\n          when installing the application, accepts the present conditions of use\n          and data protection. Consequently, the user must read and accept each\n          other carefully before installing the application, having updated\n          information on them on the website{\" \"}\n          <a\n            className=\"ecl-link\"\n            href=\"https://ec.europa.eu/info/legal-notice_en\"\n          >\n            https://ec.europa.eu/info/legal-notice_en\n          </a>{\" \"}\n          or in the application.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          In any case, EU reserves the right, at any time and without prior\n          notice, to modify these conditions of use.\n          <br />\n          Likewise, the reproduction, distribution, transmission, adaptation or\n          modification, by any means and in any form, of the contents of the\n          application (texts, designs, graphics, information, databases, sound\n          and/ or image files, logos and other elements is prohibited), unless\n          prior authorization of EU or when so permitted by law. Any commercial\n          or advertising use, other than that strictly permitted, where\n          appropriate, and the violation, in general, of any rights derived\n          therefrom, are prohibited.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Limitation of Liability.-</strong> EU does not guarantee or be\n          held liable, in any case or circumstance, for the following facts and\n          contents, or for any damages that may, where appropriate, arise from\n          them:\n        </p>\n        <ul className=\"ecl-u-type-paragraph\">\n          <li>\n            Lack of availability, continuity, access, maintenance and effective\n            operation of the application and/or its services and updating,\n            accuracy, completeness, relevance, timeliness and reliability of its\n            contents, whatever the cause and technical difficulties or problems\n            or another nature in which these facts originate.\n          </li>\n          <li>\n            The transmission and/or existence of viruses, other elements or\n            programs harmful to the devices of the users that could affect them,\n            as a consequence of the access, use or examination of the\n            application site, or that produced alterations in their electronic\n            documents or files.\n          </li>\n          <li>\n            Vices or defects of the contents and/or services that are accessed\n            through the application.\n          </li>\n          <li>\n            For the reception, storage, obtaining, dissemination or transmission\n            by the users of the contents of the application.\n          </li>\n        </ul>\n        <p className=\"ecl-u-type-paragraph\">\n          The above enumeration is merely enunciative and is not, in any case,\n          exclusive or exclusive in any of its points. In all cases, EU excludes\n          any liability for damages of any kind derived directly or indirectly\n          from them and from any other unspecified of similar characteristics.\n          <br />\n          The acceptance of these Conditions of Use by downloading the\n          application and using the service is valid and binding for both\n          parties. The contract will last indefinitely.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Withdrawal, cancellation and / or withdrawal. -</strong> The\n          user may at any time withdraw from the service by uninstalling the\n          application from his device, without needing to communicate anything\n          to EU. These general conditions will be governed by EU legislation.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>\n            Extrajudicial claim procedure. Applicable legislation and\n            jurisdiction. -\n          </strong>{\" \"}\n          In case of divergence on any matter related to these general\n          conditions, you can make a prior claim to the EU at the address{\" \"}\n          <a className=\"ecl-link\" href=\"https://ec.europa.eu/\">\n            https://ec.europa.eu/\n          </a>\n          .\n          <br />\n          These general conditions will be governed by EU legislation. Issues\n          that arise on the occasion of the interpretation, application or\n          execution thereof are subject to the jurisdiction of the Belgium\n          courts and tribunals that are competent in accordance with Belgium\n          procedural legislation.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Privacy policy.-</strong> The data you provide us when\n          installing or downloading the Application will be processed by the\n          European Commission or Member State hosting an EBSI Stack Node to make\n          available a service consisting of access and use of the\n          functionalities available in every moment They will not be\n          communicated to any third party, unless legally binding, and will not\n          be used for any other purpose.\n          <br />\n          All legal issues related to the use of your data in the framework of\n          the Application (for example, retention periods, recipients, as well\n          as your rights) are those collected at{\" \"}\n          <a className=\"ecl-link\" href=\"https://www.EU/legal/privacy-policy/\">\n            https://www.EU/legal/privacy-policy/\n          </a>{\" \"}\n          .\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Security.-</strong> In compliance with current regulations, EU\n          has adopted the necessary technical and organizational measures to\n          maintain the level of security required in response to the personal\n          data processed. It is also equipped with the precise mechanisms at its\n          disposal to avoid as far as possible unauthorized access, subtractions\n          and illegal modifications and loss of data. Additionally, EU\n          recommends to the USER the use of all the security tools at his\n          disposal, not being responsible EU for theft, modification or loss of\n          illegal data caused by illegitimate intrusions in his mobile device.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Intellectual property.-</strong> EU retains all right, title\n          and interest in and to the Application including all copyright,\n          patents, trade secrets, trademarks, trade names, logos, slogans,\n          custom graphics, button icons, scripts, videos, text, images,\n          software, code, files, content, information and other intellectual\n          property rights and nothing may be copied, imitated or used, in whole\n          or in part, without our express prior written consent. EU reserves all\n          rights not expressly granted.\n          <br />\n          Nothing in these Terms will be construed as conferring any right or\n          license to any patent, trademark, copyright or other intellectual\n          property or proprietary rights of EU or any third party by implication\n          or otherwise.\n        </p>\n        <br />\n        <p className=\"bigger ecl-u-type-paragraph\">\n          Specific terms &amp; conditions for subjects and third parties using\n          verifiable IDs and attestations Obligations of subjects who receive\n          credentials\n        </p>\n        <br />\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>The user or EBSI wallet holder.-</strong> These are natural\n          persons, citizens of the EU, with a mobile phone device under their\n          control, who have voluntarily registered through an EU login\n          (currently only a valid email is required), and who, by accepting the\n          terms of use of the application, they have create an EBSI wallet DID,\n          which allows them to identify themselves and/or prove their identity\n          in the manner provided by the terms of use.\n          <br />\n          EBSI wallet holders have control over their private keys and\n          encryption secrets and receive backup phrases for their private keys.\n          EBSI Wallet holders can perform write transactions in the EBSI\n          blockchain.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Ownership of the service and other elements.-</strong> The\n          user recognizes that the EU is the owner of all the computer software\n          applications and specifications that it provides.\n          <br />\n          The user will have a non-exclusive license, with the character of\n          unlimited and non-transferable, of software and other elements\n          delivered by the EU, in connection with the provision of the service.\n          <br />\n          This license of use is limited to the uses described in this document\n          and related documentation as it is seen in the Internet address EBSI\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Obligations of the users.-</strong>\n        </p>\n        <ol className=\"ecl-u-type-paragraph\">\n          <li>\n            Service request: the user expressly requests the provision of the\n            EBSI Wallet DID and is obliged to use it in accordance with the\n            procedures, service regulations, and, where appropriate, the\n            technical components supplied by the EU.\n          </li>\n          <li>\n            Accuracy of the information: The user will be obliged to provide the\n            necessary data for the provision of the service, and must be\n            responsible for ensuring that all the information included, by any\n            means, in the application is accurate, complete for the purpose of\n            the service, and is updated during the provision of the service. The\n            user must immediately inform the UE of any inaccuracies detected\n            once the application has been registered, as well as the changes\n            that occur in the information provided\n          </li>\n          <li>\n            Delivery and acceptance of the service: The user accepts these\n            conditions at the time of entering their data, and accept the\n            service on their mobile device, by checking the corresponding box.\n          </li>\n          <li>\n            Obligation of custody: The user is obliged to guard the\n            confidentiality of his access to the application, his password for\n            the key generation, private keys and encryption secrets. In case of\n            loss or theft of the mobile device, it is necessary that you\n            immediately request the suspension or revocation of the service\n            through the same application, from an authorized office, through the\n            web, or another enabled telephone channel.\n          </li>\n          <li>\n            Obligations of correct use: The user is obliged to use the service\n            exclusively for the authorized uses in these Specific terms &amp;\n            conditions. The user must comply with any law and regulation that\n            may affect his right to use the system and specifically, the\n            applicable regulations regarding trust services in whatever is\n            appropriate. The user cannot adopt inspection, alteration or\n            decompilation measures of application without the prior express\n            permission of the EU.\n          </li>\n          <li>\n            Prohibited transactions: The user undertakes not to use the EBSI\n            wallet DID or any other technical support provided by the EU to\n            carry out any transaction prohibited by applicable law. EBSI wallet\n            DID has not been designed or in any case allows its use or resale as\n            control equipment for dangerous situations, or for uses that require\n            error-proof actions, such as the operation of nuclear facilities,\n            navigation systems or aerial communication, systems of air traffic\n            control or weapons control systems, where an error could directly\n            cause death, physical damage or serious environmental damage.\n          </li>\n        </ol>\n        <p className=\"ecl-u-type-paragraph\">\n          Obligations of the third parties using verifiable IDs and attestations\n        </p>\n        <ol className=\"ecl-u-type-paragraph\">\n          <li>\n            Third parties using verifiable IDs and attestations (Third parties),\n            are obliged to provide the services in the manner provided in terms\n            and conditions, in the documentation of the applicable EBSI Wallet\n            DID services, and subject to the current regulatory legislation,\n            including, when applicable, the Regulation (EU) ) nº 910/2014, of\n            July 23 and the legislation that is dictated for its development, to\n            its own pacts\n          </li>\n          <li>\n            Specifically, third parties are obligated to:\n            <ul className=\"ecl-u-type-paragraph\">\n              <li>\n                Identify and authenticate the User or wallet holder, correctly.\n              </li>\n              <li>\n                Safely keep all the information and evidence generated as a\n                result of its activity.\n              </li>\n              <li>\n                Enable the necessary computer and telematic system to validate\n                transactions.\n              </li>\n              <li>\n                Fulfil its obligations derived from the GDPR, and specifically\n                store the strict information necessary for the provision of the\n                service.\n              </li>\n            </ul>\n          </li>\n        </ol>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Terms &amp; conditions for node operators.</strong>\n          <br /> <br />\n          This document establishes the terms and conditions for node operators.\n          <br /> <br />\n          <strong>Presentation.-</strong> EBSI Platform is a peer to peer\n          network of interconnected nodes of two types:\n        </p>\n        <ol className=\"ecl-u-type-paragraph\">\n          <li>EBSI nodes at European level, operate by the Commission</li>\n          <li>\n            EBSI nodes at a national level, operate by following Member States:\n            Italy, Spain, Belgium, France, Sweden, Austria, Malta.\n          </li>\n        </ol>\n        <p className=\"ecl-u-type-paragraph\">\n          All the nodes will be able to create and broadcast transactions that\n          will update the ledger.\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          The architecture of each node will be composed of two main functional\n          areas:\n        </p>\n        <ul className=\"ecl-u-type-paragraph\">\n          <li>\n            A set of four layers comprising components which together provide\n            the EBSI infrastructure, which contain capabilities common to all\n            use cases. These layers will include generic capabilities and\n            connectivity to Blockchain networks.\n          </li>\n          <li>\n            A set of two layers comprising use case-specific components enabling\n            support for hosting of business applications.\n          </li>\n        </ul>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>EBSI V1.0 Stack Nodes</strong>\n          <br />\n          EBSI 1.0 is a public permissioned network that requires EBSI\n          full-stack nodes infrastructure, with several distributed validator\n          nodes, basic redundancy, capacity to handle smart contracts, run\n          transactions on those smart-contracts, with access control mechanism\n          on them (Note: access control on smart contracts may not be all the\n          time a core feature as it may imply wide type of implementations).\n          <br />\n          All the members of the consortium (network) will use the same\n          open-source EBSI Stack Node template. Each member of the network will\n          activate/deactivate any module (container) of the Stack Node Template,\n          based on the predefined agreement in respect to the use cases that\n          will be implemented.\n          <br />\n          For EBSI v1.0, the nodes will run on the host operating system Linux.\n          A single Stack Node template is composed of a set of containers, that\n          can be run with different containers managers (Docker has been\n          selected for the V1.0) and that can be deployed on Virtual Machines\n          node.\n          <br />\n          To setup the EBSI v1.0 network, a minimum set of redundant nodes will\n          be deployed by DIGIT for the European Commission. While European\n          Commission will utilize its own infrastructure provider (based on the\n          existing Cloud Framework contract), each Member State will define one\n          or more contributing entities that will setup an EBSI node directly\n          within their existing premises or through their own provider. All\n          European Commission&#8217;s nodes will be implemented on VM machines\n          in the cloud, spread in different European geo-locations as depicted\n          below.\n          <br />\n          At any time EBSI team may (and will) assess the overall structure of\n          EBSI in order to ensure full decentralization and avoid concentration\n          of nodes (e.g. in a specific member state or managed by a specific\n          cloud provider).\n          <br />\n          All bare metal VM machines used for the EBSI v1.0 Stack Nodes will\n          have the following minimum technical requirements:\n        </p>\n        <ul className=\"ecl-u-type-paragraph\">\n          <li>4vCPU</li>\n          <li>16G RAM</li>\n          <li>1TB SSD</li>\n          <li>Linux OS</li>\n        </ul>\n        <p className=\"ecl-u-type-paragraph\">\n          Inside each EBSI bare-metal VM node, each sub-component will run in a\n          dedicated docker container. Ubuntu server 18.04 LTS will be used for\n          the docker container OS. If the Member State will also handle specific\n          services managing application capabilities, additional computer\n          infrastructure may be needed. Whenever Member States/Entities will\n          have their existing business logic running in their IT Infrastructure,\n          EBSI Application API/Libraries will require to be installed on their\n          environment in order to permit their existing business process to\n          integrate with EBSI Network infrastructure.\n          <br />\n          The Stack Nodes will be interconnected with each other at containers\n          level.\n          <br />\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>General Architecture Aspects </strong>\n          <br />\n          See:{\" \"}\n          <a\n            className=\"ecl-link\"\n            href=\"https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/Minimum+Technical+Requirements+for+an+EBSI+v1.0+NODE+Deployment\"\n          >\n            Minimum Technical Requirements for an EBSI v1.0 NODE Deployment\n            within Member States or Institutions\n          </a>\n          <br />\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>Technical Requirements.-</strong> EBSI data stores include\n          Ethereum/Fabric blockchains, Cassandra database distributed to all\n          nodes, Gluster file system distributed to all nodes, Mongo DB database\n          particular to each node.\n          <br />\n          EC Node Infrastructure Architecture - to be published on CEF Building\n          Blocks Web Site &gt;{\" \"}\n          <a\n            className=\"ecl-link\"\n            href=\"https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/EBSI\"\n          >\n            EBSI\n          </a>{\" \"}\n          or requested from EBSI support at{\" \"}\n          <a className=\"ecl-link\" href=\"mailto:CEF-EBSI-support@ec.europa.eu\">\n            CEF-EBSI-support@ec.europa.eu\n          </a>\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>\n            Terms of usage of hosting a node for the member states.-\n          </strong>{\" \"}\n          The Commission or EBP reserves the right to request a takedown of the\n          network or node for the whole network or just one node\n        </p>\n        <p className=\"ecl-u-type-paragraph\">\n          <strong>\n            Node Operator Authorization, Representation and Warranties,\n            Obligations.\n          </strong>\n        </p>\n        <ol className=\"ecl-u-type-paragraph\">\n          <li>\n            Responsibilities at all times during this Agreement:\n            <ul className=\"ecl-u-type-paragraph\">\n              <li>\n                To comply with the terms of this Agreement and the terms of all\n                other agreements to which you are a party in connection with\n                your performance under this Agreement.\n              </li>\n              <li>\n                To operate the Node in strict compliance with terms of this\n                Agreement and will not take any action not expressly authorized\n                hereunder.\n              </li>\n              <li>\n                To comply with the documentation of the applicable EBSI Wallet\n                DID services, and subject to the current regulatory legislation.\n              </li>\n              <li>\n                You acknowledge and agree to, and will at all times comply with,\n                the Node Information Policy located at:{\" \"}\n                <a\n                  className=\"ecl-link\"\n                  href=\"https://ec.europa.eu/cefdigital/wiki/pages/viewpage.action?pageId=189432828\"\n                >\n                  5 - EBSI v1 Node Operator Terms &amp; Conditions\n                </a>\n              </li>\n              <li>\n                To not modify or attempt to modify the Software for any purpose\n                including but not limited to attempting to circumvent the audit,\n                bypass security, manipulate the performance of, or otherwise\n                disrupt the Services, or otherwise interfere with the operation\n                of the EBSI Services.\n              </li>\n              <li>\n                The Node will meet all performance requirements referred to in\n                this Agreement, as well as any performance requirements set\n                forth in the Documentation or other instructions;\n              </li>\n              <li>\n                In connection with your use of the Software and/or operation of\n                a Node hereunder, UE may provide notice of and may, from time to\n                time, require you to affirm and/or re-affirm your agreement to\n                this Agreement; your continued use of the Software is contingent\n                upon your promptly providing such affirmation as requested by\n                UE.\n              </li>\n            </ul>\n          </li>\n          <li>\n            Restrictions You will not operate the Node except as expressly\n            authorized hereunder. Without limiting the generality of the\n            foregoing, you will not:\n            <ul className=\"ecl-u-type-paragraph\">\n              <li>Operate more than one Node.</li>\n              <li>\n                Operate a Node that does not meet the following technical\n                requirements\n              </li>\n            </ul>\n          </li>\n        </ol>\n        <button\n          type=\"button\"\n          className=\"ecl-button ecl-button--primary\"\n          onClick={onBackClick}\n        >\n          Back\n        </button>\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default TermsConditions;\n","import React from \"react\";\nimport { Switch, Route, BrowserRouter, Redirect } from \"react-router-dom\";\nimport { Login } from \"./Login/Login\";\nimport { Profile } from \"./Profile/Profile\";\nimport { DidAuth } from \"./DidAuth/DidAuth\";\nimport { Credentials } from \"./Credentials/Credentials\";\nimport { Notifications } from \"./Notifications/Notifications\";\nimport { Presentations } from \"./Presentations/Presentations\";\nimport { Terms } from \"./Terms/Terms\";\nimport { TermsConditions } from \"./TermsConditions/TermsConditions\";\nimport REQUIRED_VARIABLES from \"../config/env\";\n\nconst publicUrl = REQUIRED_VARIABLES.REACT_APP_WALLET;\nconst basename = publicUrl.startsWith(\"http\")\n  ? new URL(publicUrl).pathname\n  : publicUrl;\n\nexport const App = (): JSX.Element => (\n  <BrowserRouter basename={basename}>\n    <Switch>\n      <Route exact path=\"/terms\" component={TermsConditions} />\n      <Route exact path=\"/termsAndConditions\">\n        <Redirect to=\"/terms\" />\n      </Route>\n      <Route path=\"*\">\n        <Terms>\n          <Login>\n            <Switch>\n              <Route path=\"/auth\" component={DidAuth} />\n              <Route path=\"/profile\" component={Profile} />\n              <Route path=\"/notifications\" component={Notifications} />\n              <Route path=\"/presentations\" component={Presentations} />\n              <Route path=\"/credentials\" component={Credentials} />\n              <Route path=\"*\">\n                <Redirect to=\"/profile\" />\n              </Route>\n            </Switch>\n          </Login>\n        </Terms>\n      </Route>\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default App;\n","import \"react-app-polyfill/stable\";\nimport ReactDOM from \"react-dom\";\nimport \"@ecl/ec-preset-website/dist/styles/ecl-ec-preset-website.css\";\nimport \"./index.css\";\nimport { App } from \"./screens/App\";\n\nReactDOM.render(App(), document.getElementById(\"root\"));\n","const COMPONENT_WALLET_ID = \"ebsi-wallet\";\n\nconst NotificationType = [\n  \"Store My Diploma\",\n  \"Store Verifiable eID\",\n  \"Request your eID Presentation\",\n  \"Request to Sign your eID Presentation\",\n  \"Sign ledger transaction\",\n];\n\nconst grantType = \"urn:ietf:params:oauth:grant-type:jwt-bearer\";\nconst scope = \"ebsi profile user\";\n\nexport { COMPONENT_WALLET_ID, NotificationType, grantType, scope };\n"],"sourceRoot":""}